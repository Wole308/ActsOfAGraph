#include "acts_all.h"
using namespace std;

#ifdef SW_ALLINONE
acts_all::acts_all(mydebug * _mydebugobj){
	actsutilityobj = new actsutility();
	mydebugobj = _mydebugobj;
}
acts_all::~acts_all(){}
#endif

#ifdef CONFIG_ENABLECLASS_ACTS_UTIL
#ifdef SW 
#include <string>
#include <string.h>
#include <iostream>
#include <vector>
#include <string.h>
#include <stdio.h>
#include <ctime>
#include <functional>
#include <sys/time.h>
#include <time.h>
#include <stdlib.h>
#include <iomanip>
#include <cmath>
#include <fstream>
#endif 
#include "../../include/config_params.h"
#include "../../include/common.h"
#include "../include/actscommon.h"
#ifdef SW 
#include "../actsutility/actsutility.h"
#endif
#include "acts_util.h"
using namespace std;

#ifdef SW
acts_util::acts_util(mydebug * _mydebugobj){ actsutilityobj = new actsutility(); mydebugobj = _mydebugobj; }
acts_util::~acts_util(){}
#endif

// basic
unsigned int acts_all::UTIL_amin(unsigned int val1, unsigned int val2){
	if(val1 < val2){ return val1; }
	else { return val2; }
}
unsigned int acts_all::UTIL_aplus(unsigned int val1, unsigned int val2){
	return val1 + val2;
}

// allignment
batch_type acts_all::UTIL_allignlower_KV(batch_type val){
	batch_type fac = val / VECTOR_SIZE;
	return (fac * VECTOR_SIZE);
}
batch_type acts_all::UTIL_allignhigher_KV(batch_type val){
	batch_type fac = (val + (VECTOR_SIZE - 1)) / VECTOR_SIZE;
	return (fac * VECTOR_SIZE);
}
batch_type acts_all::UTIL_allignlower_KV2(batch_type val){
	batch_type fac = val / VECTOR2_SIZE;
	return (fac * VECTOR2_SIZE);
}
batch_type acts_all::UTIL_allignhigher_KV2(batch_type val){
	batch_type fac = (val + (VECTOR2_SIZE - 1)) / VECTOR2_SIZE;
	return (fac * VECTOR2_SIZE);
}

// bit manipulation
unsigned int acts_all::UTIL_GETMASK_UINT(unsigned int index, unsigned int size){
	unsigned int A = ((1 << (size)) - 1);
	unsigned int B = A << index;
	return B;
}
unsigned int acts_all::UTIL_READFROM_UINT(unsigned int data, unsigned int index, unsigned int size){ 
	return (((data) & UTIL_GETMASK_UINT((index), (size))) >> (index)); 
}
void acts_all::UTIL_WRITETO_UINT(unsigned int * data, unsigned int index, unsigned int size, unsigned int value){
	unsigned int tempdata = *data;
	unsigned int A = ((value) << (index));
	unsigned int B = (~UTIL_GETMASK_UINT((index), (size)));
	unsigned int C = ((tempdata) & (B));
	unsigned int D = (C) | A;
	*data = D;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"WRITETO_ULONG. index: "<<index<<", size: "<<size<<", value: "<<value<<endl;
	cout<<"WRITETO_ULONG. tempdata"<<endl; actsutilityobj->ULONGTOBINARY(tempdata);
	cout<<"WRITETO_ULONG. A"<<endl; actsutilityobj->ULONGTOBINARY(A);
	cout<<"WRITETO_ULONG. B (~mask)"<<endl; actsutilityobj->ULONGTOBINARY(B);
	cout<<"WRITETO_ULONG. C"<<endl; actsutilityobj->ULONGTOBINARY(C);
	cout<<"WRITETO_ULONG. D (result)"<<endl; actsutilityobj->ULONGTOBINARY(D);
	#endif
	return; 
}
unsigned int acts_all::UTIL_READBITSFROM_UINTV(uint32_type data, unsigned int index, unsigned int size){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	return data.range(index + size - 1, index); 
	#else
	return UTIL_READFROM_UINT(data, index, size);
	#endif
}
unsigned int acts_all::UTIL_READBITSFROM_UINT32(uint32_type data, unsigned int index, unsigned int size){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	return data.range(index + size - 1, index); 
	#else
	return UTIL_READFROM_UINT(data, index, size);
	#endif
}
void acts_all::UTIL_WRITEBITSTO_UINTV(uint32_type * data, unsigned int index, unsigned int size, unsigned int value){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	data.range(index + size - 1, index) = value; 
	#else
	UTIL_WRITETO_UINT(data, index, size, value);
	#endif
	return; 
}
void acts_all::UTIL_WRITEBITSTO_UINT32(uint32_type * data, unsigned int index, unsigned int size, unsigned int value){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	data.range(index + size - 1, index) = value; 
	#else
	UTIL_WRITETO_UINT(data, index, size, value);
	#endif
	return; 
}

// converters
keyvalue_t acts_all::UTIL_GETKV(keyvalue_buffer_t data){
	#pragma HLS INLINE
	keyvalue_t res;
	#ifdef _WIDEWORD
	res.key = data.range(SIZEOF_KEY - 1, 0);
	res.value = data.range(SIZEOF_KEY + SIZEOF_VALUE - 1, SIZEOF_KEY);
	#else 
	res.key = data.key;
	res.value = data.value;	
	#endif 
	return res;
}
keyvalue_buffer_t acts_all::UTIL_GETKV(keyvalue_t data){
	#pragma HLS INLINE
	keyvalue_buffer_t res;
	#ifdef _WIDEWORD
	res.range(SIZEOF_KEY - 1, 0) = data.key;
	res.range(SIZEOF_KEY + SIZEOF_VALUE - 1, SIZEOF_KEY) = data.value;
	#else
	res.key = data.key;
	res.value = data.value;	
	#endif 
	return res;
}
keyy_t acts_all::UTIL_GETK(uint32_type data){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	return data.range(SIZEOF_KEY - 1, 0);
	#else
	return data;
	#endif
}
value_t acts_all::UTIL_GETV(uint32_type data){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	return data.range(SIZEOF_VALUE - 1, 0);
	#else
	return data;
	#endif
}
keyy_t acts_all::UTIL_GETKEYENTRY(uint512_dt data, unsigned int v){
	#pragma HLS INLINE
	#ifdef _WIDEWORD
	return data.range(32 * ((v * 2) + 1) - 1, (v * 2) * 32);
	#else 
	return data.data[v].key;	
	#endif
}	
value_t acts_all::UTIL_GETVTXMASK_SUBP(unit1_type vmask[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unsigned int loc, globalparams_t globalparams){
	#pragma HLS INLINE
	loc = loc / SUBPMASKFACTOR; // convert-to-appropriate-skip-format // NEWCHANGE.

	#ifdef ACTSPROC_AUTOMATE_ACROSSDATASETS
	unsigned int col = loc >> (globalparams.POW_REDUCE - SUBPMASKFACTOR_POW);
	unsigned int row;
	if(globalparams.POW_REDUCE == 11){ 
		row = loc % (1 << (11-SUBPMASKFACTOR_POW));
	} else if(globalparams.POW_REDUCE == 10){
		row = loc % (1 << (10-SUBPMASKFACTOR_POW));
	} else if(globalparams.POW_REDUCE == 9){
		row = loc % (1 << (9-SUBPMASKFACTOR_POW));
	} else if(globalparams.POW_REDUCE == 8){
		row = loc % (1 << (8-SUBPMASKFACTOR_POW));
	} else {
		row = 0;
		#ifdef _DEBUGMODE_CHECKS2
		cout<<"GETVTXMASK_SUBP: ERROR: out of selection. globalparams.POW_REDUCE: "<<globalparams.POW_REDUCE<<". exiting..."<<endl;
		exit(EXIT_FAILURE);
		#endif 
	}
	#else 
	unsigned int col = loc / (REDUCESZ/SUBPMASKFACTOR); 
	unsigned int row = loc % (REDUCESZ/SUBPMASKFACTOR);
	#endif
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("GETVTXMASK_SUBP.col", col, NUM_PARTITIONS, loc, NAp, NAp);
	actsutilityobj->checkoutofbounds("GETVTXMASK_SUBP.row", row, BLOCKRAM_SIZE, loc, NAp, NAp);
	#endif 
	
	value_t data = vmask[col][row];
	return data;
}
uint32_type acts_all::UTIL_CONVERTVMASKTOUINT32(unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unsigned int index){
	#pragma HLS INLINE
	uint32_type res = 0;
	#ifdef _WIDEWORD
	res.range(0, 0) = vmaskBITS[0][index];
	res.range(1, 1) = vmaskBITS[1][index];
	res.range(2, 2) = vmaskBITS[2][index];
	res.range(3, 3) = vmaskBITS[3][index];
	res.range(4, 4) = vmaskBITS[4][index];
	res.range(5, 5) = vmaskBITS[5][index];
	res.range(6, 6) = vmaskBITS[6][index];
	res.range(7, 7) = vmaskBITS[7][index];
	res.range(8, 8) = vmaskBITS[8][index];
	res.range(9, 9) = vmaskBITS[9][index];
	res.range(10, 10) = vmaskBITS[10][index];
	res.range(11, 11) = vmaskBITS[11][index];
	res.range(12, 12) = vmaskBITS[12][index];
	res.range(13, 13) = vmaskBITS[13][index];
	res.range(14, 14) = vmaskBITS[14][index];
	res.range(15, 15) = vmaskBITS[15][index];
	#else 
	UTIL_WRITETO_UINT(&res, 0, 1, vmaskBITS[0][index]);
	UTIL_WRITETO_UINT(&res, 1, 1, vmaskBITS[1][index]);
	UTIL_WRITETO_UINT(&res, 2, 1, vmaskBITS[2][index]);
	UTIL_WRITETO_UINT(&res, 3, 1, vmaskBITS[3][index]);
	UTIL_WRITETO_UINT(&res, 4, 1, vmaskBITS[4][index]);
	UTIL_WRITETO_UINT(&res, 5, 1, vmaskBITS[5][index]);
	UTIL_WRITETO_UINT(&res, 6, 1, vmaskBITS[6][index]);
	UTIL_WRITETO_UINT(&res, 7, 1, vmaskBITS[7][index]);
	UTIL_WRITETO_UINT(&res, 8, 1, vmaskBITS[8][index]);
	UTIL_WRITETO_UINT(&res, 9, 1, vmaskBITS[9][index]);
	UTIL_WRITETO_UINT(&res, 10, 1, vmaskBITS[10][index]);
	UTIL_WRITETO_UINT(&res, 11, 1, vmaskBITS[11][index]);
	UTIL_WRITETO_UINT(&res, 12, 1, vmaskBITS[12][index]);
	UTIL_WRITETO_UINT(&res, 13, 1, vmaskBITS[13][index]);
	UTIL_WRITETO_UINT(&res, 14, 1, vmaskBITS[14][index]);
	UTIL_WRITETO_UINT(&res, 15, 1, vmaskBITS[15][index]);
	#endif
	return res;
}	
unsigned int acts_all::UTIL_GETLOCALVID(unsigned int vid, unsigned int instid){ // for CONFIG_SPLIT_DESTVTXS
	#pragma HLS INLINE
	return (vid - instid) / NUM_PEs;
}
unsigned int acts_all::UTIL_GETREALVID(unsigned int lvid, unsigned int instid){ // for CONFIG_SPLIT_DESTVTXS
	#pragma HLS INLINE
	return (lvid * NUM_PEs) + instid;
}

// utilities
batch_type acts_all::UTIL_getskipsize(step_type currentLOP, bool_type sourceORdest, globalparams_t globalparams){
	analysis_type analysis_treedepth = TREE_DEPTH;
	batch_type result;
	
	if(currentLOP == 0){ currentLOP = 1; }
	if(sourceORdest == SOURCE){ result = globalparams.ACTSPARAMS_FINALNUMPARTITIONS; }
	else if (sourceORdest == DEST){ result = globalparams.ACTSPARAMS_FINALNUMPARTITIONS / NUM_PARTITIONS; } // FIXME. use TREE_DEPTH for less lut?
	else {}
	for(step_type i=0; i<(currentLOP-1); i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_treedepth avg=analysis_treedepth
		result = result / NUM_PARTITIONS;
	}
	return result;
}
batch_type acts_all::UTIL_getrangeforeachllop(globalparams_t globalparams){
	analysis_type analysis_loop1 = TREE_DEPTH;
	unsigned int range = globalparams.SIZE_BATCHRANGE;
	for(unsigned int i=0; i<globalparams.ACTSPARAMS_TREEDEPTH; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loop1 avg=analysis_loop1	
		range = range / NUM_PARTITIONS;
	}
	return range;
}
buffer_type acts_all::UTIL_getchunksize_kvs(buffer_type buffer_size, travstate_t travstate, buffer_type localoffset){
	buffer_type chunk_size = buffer_size;
	batch_type i = travstate.i_kvs + localoffset;
	if (i > travstate.end_kvs){ chunk_size = 0; }
	else if ((i + buffer_size) > travstate.end_kvs){ chunk_size = travstate.end_kvs - i; }
	else {}
	return chunk_size;
}
buffer_type acts_all::UTIL_getpartitionwritesz(buffer_type realsize_kvs, buffer_type bramoffset_kvs){
	buffer_type size_kvs = 0;
	size_kvs = realsize_kvs;
	return size_kvs;
}
void acts_all::UTIL_calculateoffsets(keyvalue_capsule_t * buffer, buffer_type size){
	unsigned int analysis_size = NUM_PARTITIONS;
	for(buffer_type i=1; i<size; i++){ 
	#pragma HLS PIPELINE II=2
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_size avg=analysis_size	
		buffer[i].key = UTIL_allignhigher_KV(buffer[i-1].key + buffer[i-1].value); 
	}
	return;
}
void acts_all::UTIL_calculatemanyunallignedoffsets(keyvalue_capsule_t buffer[VECTOR_SIZE][MAX_NUM_PARTITIONS], buffer_type size, batch_type base, batch_type skipspacing){
	for(buffer_type i=1; i<size; i++){ 
		buffer[0][i].key = buffer[0][i-1].key + buffer[0][i-1].value + skipspacing; 
		buffer[1][i].key = buffer[1][i-1].key + buffer[1][i-1].value + skipspacing; 
		buffer[2][i].key = buffer[2][i-1].key + buffer[2][i-1].value + skipspacing; 
		buffer[3][i].key = buffer[3][i-1].key + buffer[3][i-1].value + skipspacing; 
		buffer[4][i].key = buffer[4][i-1].key + buffer[4][i-1].value + skipspacing; 
		buffer[5][i].key = buffer[5][i-1].key + buffer[5][i-1].value + skipspacing; 
		buffer[6][i].key = buffer[6][i-1].key + buffer[6][i-1].value + skipspacing; 
		buffer[7][i].key = buffer[7][i-1].key + buffer[7][i-1].value + skipspacing; 
	}
	return;
}
batch_type acts_all::UTIL_get_num_source_partitions(step_type currentLOP){
	analysis_type analysis_treedepth = TREE_DEPTH;
	
	if(currentLOP == 0){ currentLOP = 1; }
	batch_type pow = 1;
	for(step_type i=0; i<(currentLOP-1); i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_treedepth avg=analysis_treedepth
		pow = pow * NUM_PARTITIONS;
	}
	return pow;
}
globalparams_t acts_all::UTIL_getglobalparams(uint512_dt * kvdram){
	globalparams_t globalparams;
	#ifdef _WIDEWORD
	globalparams.ENABLE_RUNKERNELCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_RUNKERNELCOMMAND].range(31, 0);
	globalparams.ENABLE_PROCESSCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_PROCESSCOMMAND].range(31, 0);
	globalparams.ENABLE_PARTITIONCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_PARTITIONCOMMAND].range(31, 0);
	globalparams.ENABLE_APPLYUPDATESCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_APPLYUPDATESCOMMAND].range(31, 0);
	globalparams.ENABLE_SAVEVMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_SAVEVMASK].range(31, 0);
	globalparams.ENABLE_SAVEVMASKP = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_SAVEVMASKP].range(31, 0);
	
	globalparams.BASEOFFSETKVS_MESSAGESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_MESSAGESDATA].range(31, 0);
	globalparams.BASEOFFSETKVS_EDGESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_EDGESDATA].range(31, 0);
	globalparams.BASEOFFSETKVS_VERTEXPTR = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTEXPTR].range(31, 0);
	globalparams.BASEOFFSETKVS_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_SRCVERTICESDATA].range(31, 0);
	globalparams.BASEOFFSETKVS_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_DESTVERTICESDATA].range(31, 0);
	globalparams.BASEOFFSETKVS_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_ACTIVEVERTICES].range(31, 0);
	globalparams.BASEOFFSETKVS_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTICESDATAMASK].range(31, 0);
	globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTICESPARTITIONMASK].range(31, 0);
	globalparams.BASEOFFSETKVS_STATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_STATSDRAM].range(31, 0);
	globalparams.BASEOFFSETKVS_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_EDGESSTATSDRAM].range(31, 0); //
	globalparams.BASEOFFSETKVS_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_KVDRAM].range(31, 0);
	globalparams.BASEOFFSETKVS_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_KVDRAMWORKSPACE].range(31, 0);
	globalparams.BASEOFFSETKVS_OTHERINFOS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_OTHERINFOS].range(31, 0);
	
	globalparams.SIZE_MESSAGESDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_MESSAGESDATA].range(31, 0);
	globalparams.SIZE_EDGES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_EDGES].range(31, 0);
	globalparams.SIZE_VERTEXPTRS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTEXPTRS].range(31, 0);
	globalparams.SIZE_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_SRCVERTICESDATA].range(31, 0);
	globalparams.SIZE_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_DESTVERTICESDATA].range(31, 0);
	globalparams.SIZE_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_ACTIVEVERTICES].range(31, 0);
	globalparams.SIZE_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTICESDATAMASK].range(31, 0);
	globalparams.SIZE_VERTICESPARTITIONMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTICESPARTITIONMASK].range(31, 0);
	globalparams.SIZE_KVSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVSTATSDRAM].range(31, 0);
	globalparams.SIZE_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_EDGESSTATSDRAM].range(31, 0); //
	globalparams.SIZE_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVDRAM].range(31, 0);
	globalparams.SIZE_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVDRAMWORKSPACE].range(31, 0);
	globalparams.SIZE_OTHERINFOS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_OTHERINFOS].range(31, 0);
	globalparams.SIZEKVS2_PROCESSEDGESPARTITION = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_PROCESSEDGESPARTITION].range(31, 0); // NEWCHANGE
	globalparams.SIZE_REDUCE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_REDUCE].range(31, 0);
	globalparams.SIZEKVS2_REDUCEPARTITION = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_REDUCEPARTITION].range(31, 0); // NEWCHANGE
	globalparams.SIZEKVS_VMASKBUFFER = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_VMASKBUFFER].range(31, 0); // NEWCHANGE
	globalparams.SIZE_BATCHRANGE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_BATCHRANGE].range(31, 0);
	globalparams.SIZE_RUN = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_RUN].range(31, 0);

	globalparams.POW_MESSAGESDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_MESSAGESDRAM].range(31, 0);
	globalparams.POW_EDGES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_EDGES].range(31, 0);
	globalparams.POW_VERTEXPTRS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_VERTEXPTRS].range(31, 0);
	globalparams.POW_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_SRCVERTICESDATA].range(31, 0);
	globalparams.POW_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_DESTVERTICESDATA].range(31, 0);
	globalparams.POW_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_ACTIVEVERTICES].range(31, 0);
	globalparams.POW_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_VERTICESDATAMASK].range(31, 0);
	globalparams.POW_KVSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVSTATSDRAM].range(31, 0);
	globalparams.POW_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_EDGESSTATSDRAM].range(31, 0); //
	globalparams.POW_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVDRAM].range(31, 0);
	globalparams.POW_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVDRAMWORKSPACE].range(31, 0);
	globalparams.POW_REDUCE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_REDUCE].range(31, 0);
	globalparams.POW_BATCHRANGE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_BATCHRANGE].range(31, 0);
	
	globalparams.NUM_PROCESSEDGESPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_NUM_PROCESSEDGESPARTITIONS].range(31, 0); // NEWCHANGE
	globalparams.NUM_REDUCEPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_NUM_REDUCEPARTITIONS].range(31, 0); // NEWCHANGE
	
	globalparams.ALGORITHMINFO_GRAPHITERATIONID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	globalparams.ALGORITHMINFO_GRAPHALGORITHMID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHALGORITHMID].range(31, 0);

	globalparams.ACTSPARAMS_BEGINLOP = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_BEGINLOP].range(31, 0);
	globalparams.ACTSPARAMS_NUMLOPS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_NUMLOPS].range(31, 0);
	globalparams.ACTSPARAMS_TREEDEPTH = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_TREEDEPTH].range(31, 0);
	globalparams.ACTSPARAMS_FINALNUMPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_FINALNUMPARTITIONS].range(31, 0);
	globalparams.ACTSPARAMS_SRCVOFFSET = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_SRCVOFFSET].range(31, 0);
	globalparams.ACTSPARAMS_SRCVSIZE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_SRCVSIZE].range(31, 0);
	globalparams.ACTSPARAMS_DESTVOFFSET = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_DESTVOFFSET].range(31, 0);
	globalparams.ACTSPARAMS_NUMEDGECHUNKSINABUFFER = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_NUMEDGECHUNKSINABUFFER].range(31, 0);
	globalparams.ACTSPARAMS_INSTID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_INSTID].range(31, 0); // NEWCHANGE
	
	globalparams.RETURN_RETURNVALUES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_RETURN_RETURNVALUES].range(31, 0);
	#else 
	globalparams.ENABLE_RUNKERNELCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_RUNKERNELCOMMAND].data[0].key;
	globalparams.ENABLE_PROCESSCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_PROCESSCOMMAND].data[0].key;
	globalparams.ENABLE_PARTITIONCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_PARTITIONCOMMAND].data[0].key;
	globalparams.ENABLE_APPLYUPDATESCOMMAND = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_APPLYUPDATESCOMMAND].data[0].key;
	globalparams.ENABLE_SAVEVMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_SAVEVMASK].data[0].key;
	globalparams.ENABLE_SAVEVMASKP = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ENABLE_SAVEVMASKP].data[0].key;

	globalparams.BASEOFFSETKVS_MESSAGESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_MESSAGESDATA].data[0].key;
	globalparams.BASEOFFSETKVS_EDGESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_EDGESDATA].data[0].key;
	globalparams.BASEOFFSETKVS_VERTEXPTR = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTEXPTR].data[0].key;
	globalparams.BASEOFFSETKVS_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_SRCVERTICESDATA].data[0].key;
	globalparams.BASEOFFSETKVS_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_DESTVERTICESDATA].data[0].key;
	globalparams.BASEOFFSETKVS_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_ACTIVEVERTICES].data[0].key;
	globalparams.BASEOFFSETKVS_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTICESDATAMASK].data[0].key;
	globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_VERTICESPARTITIONMASK].data[0].key;
	globalparams.BASEOFFSETKVS_STATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_STATSDRAM].data[0].key;
	globalparams.BASEOFFSETKVS_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_EDGESSTATSDRAM].data[0].key;//
	globalparams.BASEOFFSETKVS_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_KVDRAM].data[0].key;
	globalparams.BASEOFFSETKVS_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_KVDRAMWORKSPACE].data[0].key;
	globalparams.BASEOFFSETKVS_OTHERINFOS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_BASEOFFSETKVS_OTHERINFOS].data[0].key;
	
	globalparams.SIZE_MESSAGESDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_MESSAGESDATA].data[0].key;
	globalparams.SIZE_EDGES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_EDGES].data[0].key;
	globalparams.SIZE_VERTEXPTRS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTEXPTRS].data[0].key;
	globalparams.SIZE_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_SRCVERTICESDATA].data[0].key;
	globalparams.SIZE_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_DESTVERTICESDATA].data[0].key;
	globalparams.SIZE_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_ACTIVEVERTICES].data[0].key;
	globalparams.SIZE_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTICESDATAMASK].data[0].key;
	globalparams.SIZE_VERTICESPARTITIONMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_VERTICESPARTITIONMASK].data[0].key;
	globalparams.SIZE_KVSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVSTATSDRAM].data[0].key;
	globalparams.SIZE_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_EDGESSTATSDRAM].data[0].key;//
	globalparams.SIZE_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVDRAM].data[0].key;
	globalparams.SIZE_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_KVDRAMWORKSPACE].data[0].key;
	globalparams.SIZE_OTHERINFOS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_OTHERINFOS].data[0].key;
	globalparams.SIZEKVS2_PROCESSEDGESPARTITION = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_PROCESSEDGESPARTITION].data[0].key; // NEWCHANGE
	globalparams.SIZE_REDUCE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_REDUCE].data[0].key;
	globalparams.SIZEKVS2_REDUCEPARTITION = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_REDUCEPARTITION].data[0].key; // NEWCHANGE
	globalparams.SIZEKVS_VMASKBUFFER = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZEKVS_VMASKBUFFER].data[0].key; // NEWCHANGE
	globalparams.SIZE_BATCHRANGE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_BATCHRANGE].data[0].key;
	globalparams.SIZE_RUN = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_RUN].data[0].key;

	globalparams.POW_MESSAGESDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_MESSAGESDRAM].data[0].key;
	globalparams.POW_EDGES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_EDGES].data[0].key;
	globalparams.POW_VERTEXPTRS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_VERTEXPTRS].data[0].key;
	globalparams.POW_SRCVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_SRCVERTICESDATA].data[0].key;
	globalparams.POW_DESTVERTICESDATA = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_DESTVERTICESDATA].data[0].key;
	globalparams.POW_ACTIVEVERTICES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_ACTIVEVERTICES].data[0].key;
	globalparams.POW_VERTICESDATAMASK = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_VERTICESDATAMASK].data[0].key;
	globalparams.POW_KVSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVSTATSDRAM].data[0].key;
	globalparams.POW_EDGESSTATSDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_EDGESSTATSDRAM].data[0].key;//
	globalparams.POW_KVDRAM = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVDRAM].data[0].key;
	globalparams.POW_KVDRAMWORKSPACE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_KVDRAMWORKSPACE].data[0].key;
	globalparams.POW_REDUCE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_REDUCE].data[0].key;
	globalparams.POW_BATCHRANGE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_POW_BATCHRANGE].data[0].key;
	
	globalparams.NUM_PROCESSEDGESPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_NUM_PROCESSEDGESPARTITIONS].data[0].key;
	globalparams.NUM_REDUCEPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_NUM_REDUCEPARTITIONS].data[0].key;
	
	globalparams.ALGORITHMINFO_GRAPHITERATIONID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	globalparams.ALGORITHMINFO_GRAPHALGORITHMID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHALGORITHMID].data[0].key;

	globalparams.ACTSPARAMS_BEGINLOP = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_BEGINLOP].data[0].key;
	globalparams.ACTSPARAMS_NUMLOPS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_NUMLOPS].data[0].key;
	globalparams.ACTSPARAMS_TREEDEPTH = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_TREEDEPTH].data[0].key;
	globalparams.ACTSPARAMS_FINALNUMPARTITIONS = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_FINALNUMPARTITIONS].data[0].key;
	globalparams.ACTSPARAMS_SRCVOFFSET = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_SRCVOFFSET].data[0].key;
	globalparams.ACTSPARAMS_SRCVSIZE = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_SRCVSIZE].data[0].key;
	globalparams.ACTSPARAMS_DESTVOFFSET = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_DESTVOFFSET].data[0].key;
	globalparams.ACTSPARAMS_NUMEDGECHUNKSINABUFFER = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_NUMEDGECHUNKSINABUFFER].data[0].key;
	globalparams.ACTSPARAMS_INSTID = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ACTSPARAMS_INSTID].data[0].key;
	
	globalparams.RETURN_RETURNVALUES = kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_RETURN_RETURNVALUES].data[0].key; // NEWCHANGE
	#endif  
	globalparams.VARS_WORKBATCH = 0;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printglobalparameters("acts_util::getglobalparams:: printing global parameters", globalparams);
	#endif
	return globalparams;
}
sweepparams_t acts_all::UTIL_getsweepparams(globalparams_t globalparams, step_type currentLOP, batch_type source_partition){
	sweepparams_t sweepparams;
	batch_type sourceskipsize = UTIL_getskipsize(currentLOP, SOURCE, globalparams);
	
	sweepparams.currentLOP = currentLOP;

	if(currentLOP == 0 || (currentLOP % 2) == 1){ sweepparams.worksourcebaseaddress_kvs = globalparams.BASEOFFSETKVS_KVDRAM; sweepparams.workdestbaseaddress_kvs = globalparams.BASEOFFSETKVS_KVDRAMWORKSPACE; }
	else { sweepparams.worksourcebaseaddress_kvs = globalparams.BASEOFFSETKVS_KVDRAMWORKSPACE; sweepparams.workdestbaseaddress_kvs = globalparams.BASEOFFSETKVS_KVDRAM; }

	unsigned int div = globalparams.SIZE_BATCHRANGE;
	analysis_type analysis_lc = TREE_DEPTH;
	for(unsigned int i=0; i<globalparams.ACTSPARAMS_TREEDEPTH; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_lc avg=analysis_lc	
		div = div / NUM_PARTITIONS;
	}
	
	sweepparams.upperlimit = globalparams.ACTSPARAMS_DESTVOFFSET + (source_partition * sourceskipsize * div); // POW_BATCHRANGE
	sweepparams.upperpartition = (sweepparams.upperlimit - globalparams.ACTSPARAMS_DESTVOFFSET) >> (globalparams.POW_BATCHRANGE - (NUM_PARTITIONS_POW * currentLOP)); //

	sweepparams.source_partition = source_partition;
	return sweepparams;
}
travstate_t acts_all::UTIL_gettravstate(bool_type enable, uint512_dt * kvdram, globalparams_t globalparams, step_type currentLOP, batch_type sourcestatsmarker){			
	travstate_t travstate;
	if(enable == OFF){ return travstate; }
	keyvalue_t keyvalue;
	keyvalue_t nextkeyvalue;
	
	if(currentLOP == 0){ keyvalue.key = 0; }
	else if(currentLOP == 1){ keyvalue.key = 0; }
	else { 
		#if NUM_EDGE_BANKS==0
			#ifdef _WIDEWORD
			keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(31, 0); 
			keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(63, 32); 
			#else 
			keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[0].key; 
			keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[0].value; 
			#endif 
		#else 
			#ifdef _WIDEWORD
 if(globalparams.VARS_WORKBATCH == 0){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(31, 0); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(63, 32); 
			}
else if(globalparams.VARS_WORKBATCH == 1){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(95, 64); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(127, 96); 
			}
else if(globalparams.VARS_WORKBATCH == 2){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(159, 128); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(191, 160); 
			}
else if(globalparams.VARS_WORKBATCH == 3){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(223, 192); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(255, 224); 
			}
else if(globalparams.VARS_WORKBATCH == 4){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(287, 256); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(319, 288); 
			}
else if(globalparams.VARS_WORKBATCH == 5){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(351, 320); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(383, 352); 
			}
else if(globalparams.VARS_WORKBATCH == 6){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(415, 384); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(447, 416); 
			}
else {
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(479, 448); 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].range(511, 480); 
			}
			#else 
 if(globalparams.VARS_WORKBATCH == 0){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[0].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[0].value; 
			}
else if(globalparams.VARS_WORKBATCH == 1){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[1].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[1].value; 
			}
else if(globalparams.VARS_WORKBATCH == 2){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[2].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[2].value; 
			}
else if(globalparams.VARS_WORKBATCH == 3){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[3].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[3].value; 
			}
else if(globalparams.VARS_WORKBATCH == 4){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[4].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[4].value; 
			}
else if(globalparams.VARS_WORKBATCH == 5){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[5].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[5].value; 
			}
else if(globalparams.VARS_WORKBATCH == 6){
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[6].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[6].value; 
			}
else {
				keyvalue.key = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[7].key; 
				keyvalue.value = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + sourcestatsmarker].data[7].value; 
			}
			#endif
		#endif 
	}
	
	if(currentLOP == 0){ nextkeyvalue.key = globalparams.SIZE_RUN; }
	else if(currentLOP == 1){ nextkeyvalue.key = globalparams.SIZE_RUN; }
	else { nextkeyvalue.key = keyvalue.key + keyvalue.value; }
		
	travstate.begin_kvs = keyvalue.key / VECTOR_SIZE; 
	travstate.end_kvs = (nextkeyvalue.key + (VECTOR_SIZE - 1)) / VECTOR_SIZE;
	
	travstate.size_kvs = travstate.end_kvs - travstate.begin_kvs;
	travstate.skip_kvs = SRCBUFFER_SIZE;
	travstate.i_kvs = travstate.begin_kvs; 
	return travstate;	
}
void acts_all::UTIL_settravstate(bool_type enable, uint512_dt * kvdram, globalparams_t globalparams, batch_type offset, unsigned int value){			
	if(enable == OFF){ return; }
	#ifdef _WIDEWORD
	kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset].range(31, 0) = value; // 64; 
	kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset].range(63, 32) = value; // 64;
	#else
	kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset].data[0].key = value; // 64; 
	kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset].data[0].value = value; // 64; 
	#endif
	return;	
}
partition_type acts_all::UTIL_getpartition(bool_type enable, unsigned int mode, keyvalue_buffer_t keyvalue, step_type currentLOP, vertex_t upperlimit, unsigned int upperpartition, unsigned int batch_range_pow){
	partition_type partition;
	keyvalue_t thiskeyvalue = UTIL_GETKV(keyvalue);
	
	#ifdef CONFIG_SPLIT_DESTVTXS
	if(thiskeyvalue.value == UTIL_GETV(INVALIDDATA)){ partition = thiskeyvalue.key; } 
	else {
		keyy_t lkey = thiskeyvalue.key - upperlimit;
		if(mode == REDUCEMODE){ partition = (lkey % NUM_PARTITIONS); } 
		else { partition = (lkey >> (batch_range_pow - (NUM_PARTITIONS_POW * currentLOP))); }
	}
	#else 
		if(thiskeyvalue.value == UTIL_GETV(INVALIDDATA)){ partition = thiskeyvalue.key; } 
		else { partition = ((thiskeyvalue.key - upperlimit) >> (batch_range_pow - (NUM_PARTITIONS_POW * currentLOP))); }
	#endif 
	
	#ifdef _DEBUGMODE_CHECKS2
	if(partition >= MAX_NUM_PARTITIONS){ actsutilityobj->globalstats_counterrorsingetpartition(1); }
	#endif 
	#ifdef _DEBUGMODE_CHECKS2
	if(partition >= MAX_NUM_PARTITIONS){ 
		#ifdef ENABLE_VOICEOUTKERNELERRORS
		cout<<"acts_util::getpartition::ERROR 1. partition out of bounds partition: "<<partition<<", thiskeyvalue.key: "<<thiskeyvalue.key<<", thiskeyvalue.value: "<<thiskeyvalue.value<<", NUM_PARTITIONS: "<<NUM_PARTITIONS<<", upperlimit: "<<upperlimit<<", currentLOP: "<<currentLOP<<", batch_range_pow: "<<batch_range_pow<<", div factor: "<<(1 << (batch_range_pow - (NUM_PARTITIONS_POW * currentLOP)))<<endl; 
		#endif 
		#ifdef ENABLE_PERFECTACCURACY
		exit(EXIT_FAILURE); 
		#endif 
	}
	#endif
	#ifndef ENABLE_PERFECTACCURACY
		if(partition >= MAX_NUM_PARTITIONS){ partition = (((1 << NUM_PARTITIONS_POW) - 1) & (partition >> (1 - 1))); } // FIXME. REMOVEME. PERFECTIONTEST.
	#endif
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_util::getpartition 2", partition, MAX_NUM_PARTITIONS, thiskeyvalue.key, upperlimit, currentLOP);
	#endif
	return partition;
}

// resets 
void acts_all::UTIL_resetvalues(keyvalue_t * buffer, buffer_type size, unsigned int resetval){
	for(buffer_type i=0; i<size; i++){ 
	#pragma HLS PIPELINE II=1
		buffer[i].value = resetval; 
	}
}
void acts_all::UTIL_resetvalues(keyvalue_capsule_t * buffer, buffer_type size, unsigned int resetval){
	for(buffer_type i=0; i<size; i++){ 
	#pragma HLS PIPELINE II=1
		buffer[i].value = resetval; 
	}
}
void acts_all::UTIL_resetvalues(value_t * buffer, buffer_type size, unsigned int resetval){
	for(buffer_type i=0; i<size; i++){ 
	#pragma HLS PIPELINE II=1
		buffer[i] = resetval; 
	}
}
void acts_all::UTIL_resetkeysandvalues(keyvalue_t * buffer, buffer_type size, unsigned int resetval){
	for(buffer_type i=0; i<size; i++){
		buffer[i].key = resetval; 
		buffer[i].value = resetval; 
	}
	return;
}
void acts_all::UTIL_resetkvstatvalues(uint512_dt * kvdram, globalparams_t globalparams){
	unsigned int totalnumpartitionsb4last = 0;
	RESETKVSTATS_LOOP1: for(unsigned int k=0; k<globalparams.ACTSPARAMS_TREEDEPTH; k++){ totalnumpartitionsb4last += (1 << (NUM_PARTITIONS_POW * k)); }
	for(unsigned int k=0; k<totalnumpartitionsb4last; k++){
	#pragma HLS PIPELINE II=1 // CRITICAL NEWCHANGE.
		#ifdef _WIDEWORD
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(63, 32) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(127, 96) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(191, 160) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(255, 224) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(319, 288) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(383, 352) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(447, 416) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(511, 480) = 0; 
		#else 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[0].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[1].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[2].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[3].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[4].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[5].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[6].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[7].value = 0; 
		#endif
	}
	return;
}
void acts_all::UTIL_resetkvstatvalues(uint512_dt * kvdram, unsigned int size_kvs, globalparams_t globalparams){
	for(unsigned int k=0; k<size_kvs; k++){
	#pragma HLS PIPELINE II=1 // CRITICAL NEWCHANGE.
		#ifdef _WIDEWORD
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(63, 32) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(127, 96) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(191, 160) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(255, 224) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(319, 288) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(383, 352) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(447, 416) = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(511, 480) = 0; 
		#else 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[0].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[1].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[2].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[3].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[4].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[5].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[6].value = 0; 
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[7].value = 0; 
		#endif
	}
	return;
}
void acts_all::UTIL_reset(unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]){
	RESETVMASKBITS_LOOP: for(unsigned int k=0; k<DOUBLE_BLOCKRAM_SIZE; k++){
	#pragma HLS PIPELINE II=1
		for(unsigned int i=0; i<VMASK_PACKINGSIZE; i++){
		#pragma HLS UNROLL
			vmaskBITS[i][k] = 0;
		}
	}
	return;
}
void acts_all::UTIL_accumkvstats(uint512_dt * kvdram, value_t * buffer, globalparams_t globalparams){
	unsigned int totalnumpartitionsb4last = 0;
	SAVEKVSTATS_LOOP1: for(unsigned int k=0; k<globalparams.ACTSPARAMS_TREEDEPTH; k++){ totalnumpartitionsb4last += (1 << (NUM_PARTITIONS_POW * k)); }
	for(unsigned int k=0; k<totalnumpartitionsb4last; k++){
		#ifdef _WIDEWORD
 if(globalparams.VARS_WORKBATCH == 0){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(63, 32); 
		}
else if(globalparams.VARS_WORKBATCH == 1){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(127, 96); 
		}
else if(globalparams.VARS_WORKBATCH == 2){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(191, 160); 
		}
else if(globalparams.VARS_WORKBATCH == 3){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(255, 224); 
		}
else if(globalparams.VARS_WORKBATCH == 4){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(319, 288); 
		}
else if(globalparams.VARS_WORKBATCH == 5){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(383, 352); 
		}
else if(globalparams.VARS_WORKBATCH == 6){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(447, 416); 
		}
else {
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].range(511, 480); 
		}
		#else 
 if(globalparams.VARS_WORKBATCH == 0){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[0].value; 
		}
else if(globalparams.VARS_WORKBATCH == 1){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[1].value; 
		}
else if(globalparams.VARS_WORKBATCH == 2){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[2].value; 
		}
else if(globalparams.VARS_WORKBATCH == 3){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[3].value; 
		}
else if(globalparams.VARS_WORKBATCH == 4){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[4].value; 
		}
else if(globalparams.VARS_WORKBATCH == 5){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[5].value; 
		}
else if(globalparams.VARS_WORKBATCH == 6){
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[6].value; 
		}
else {
			buffer[k] += kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + k].data[7].value; 
		}
		#endif
	}
	return;
}
void acts_all::UTIL_set_graphiteration(uint512_dt * kvdram, unsigned int GraphIter){
	#ifdef _WIDEWORD
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = GraphIter;
	#else
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = GraphIter;
	#endif 
	return;
}
void acts_all::UTIL_increment_graphiteration(uint512_dt * kvdram, globalparams_t globalparams){
	#ifdef _WIDEWORD
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparams.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparams.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	return;
}
void acts_all::UTIL_resetenvbuffers(keyvalue_capsule_t capsule_so1[VECTOR_SIZE][MAX_NUM_PARTITIONS], keyvalue_capsule_t capsule_so8[MAX_NUM_PARTITIONS]){
	for(partition_type p=0; p<NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		capsule_so1[0][p].key = 0;
		capsule_so1[0][p].value = 0;
		capsule_so1[1][p].key = 0;
		capsule_so1[1][p].value = 0;
		capsule_so1[2][p].key = 0;
		capsule_so1[2][p].value = 0;
		capsule_so1[3][p].key = 0;
		capsule_so1[3][p].value = 0;
		capsule_so1[4][p].key = 0;
		capsule_so1[4][p].value = 0;
		capsule_so1[5][p].key = 0;
		capsule_so1[5][p].value = 0;
		capsule_so1[6][p].key = 0;
		capsule_so1[6][p].value = 0;
		capsule_so1[7][p].key = 0;
		capsule_so1[7][p].value = 0;
		capsule_so8[p].key = 0;
		capsule_so8[p].value = 0;
	}
	return;
}
void acts_all::UTIL_resetenvbuffer(keyvalue_capsule_t capsule_so8[MAX_NUM_PARTITIONS]){
	for(partition_type p=0; p<NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		capsule_so8[p].key = 0;
		capsule_so8[p].value = 0;
	}
	return;
}
	
#endif 
#ifdef CONFIG_ENABLECLASS_MEM_CONVERT_AND_ACCESS
#include "mem_convert_and_access.h"
using namespace std;

#ifdef SW
mem_convert_and_access::mem_convert_and_access(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	mydebugobj = _mydebugobj; 
}
mem_convert_and_access::~mem_convert_and_access(){}
#endif

// vdata 
// vdata:: used in {reduceupdates.cpp}
void acts_all::MEMCA_WRITETOBUFFER_VDATA(unsigned int index, keyvalue_vbuffer_t buffer[BLOCKRAM_SIZE], value_t vdata, batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VDATA:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif

	#ifdef _WIDEWORD
	if(index%2==0){
UTIL_WRITEBITSTO_UINTV(&buffer[bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdata);
	} else{
UTIL_WRITEBITSTO_UINTV(&buffer[bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdata);
	}
	#else 
	if(index%2==0){
UTIL_WRITEBITSTO_UINTV(&buffer[bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdata);
	} else{
UTIL_WRITEBITSTO_UINTV(&buffer[bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1, vdata);
	}	
	#endif 
	return;
}

// vdata:: used in {dispatch_reduce -> mem_access_splitdstvxs.cpp -> MEMACCESS_SPL_readvdata}
void acts_all::MEMCA_WRITETOBUFFER_VDATAS(unsigned int index, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VECTOR2_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_WRITETOBUFFER_VDATAS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	if(index%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[0]);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[1]);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[2]);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[3]);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[4]);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[5]);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[6]);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[7]);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[8]);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[9]);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[10]);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[11]);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[12]);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[13]);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[14]);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdatas[15]);
	} else {
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[0]);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[1]);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[2]);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[3]);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[4]);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[5]);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[6]);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[7]);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[8]);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[9]);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[10]);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[11]);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[12]);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[13]);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[14]);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, 0);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdatas[15]);
	}
	#else 
	if(index%2==0){ 
		buffer[0][bufferoffset_kvs + index/2].key = 0; 
		buffer[1][bufferoffset_kvs + index/2].key = 0; 
		buffer[2][bufferoffset_kvs + index/2].key = 0; 
		buffer[3][bufferoffset_kvs + index/2].key = 0; 
		buffer[4][bufferoffset_kvs + index/2].key = 0; 
		buffer[5][bufferoffset_kvs + index/2].key = 0; 
		buffer[6][bufferoffset_kvs + index/2].key = 0; 
		buffer[7][bufferoffset_kvs + index/2].key = 0; 
		buffer[8][bufferoffset_kvs + index/2].key = 0; 
		buffer[9][bufferoffset_kvs + index/2].key = 0; 
		buffer[10][bufferoffset_kvs + index/2].key = 0; 
		buffer[11][bufferoffset_kvs + index/2].key = 0; 
		buffer[12][bufferoffset_kvs + index/2].key = 0; 
		buffer[13][bufferoffset_kvs + index/2].key = 0; 
		buffer[14][bufferoffset_kvs + index/2].key = 0; 
		buffer[15][bufferoffset_kvs + index/2].key = 0; 
	
UTIL_WRITETO_UINT(&buffer[0][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[0][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[0]);
	
UTIL_WRITETO_UINT(&buffer[1][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[1][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[1]);
	
UTIL_WRITETO_UINT(&buffer[2][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[2][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[2]);
	
UTIL_WRITETO_UINT(&buffer[3][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[3][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[3]);
	
UTIL_WRITETO_UINT(&buffer[4][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[4][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[4]);
	
UTIL_WRITETO_UINT(&buffer[5][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[5][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[5]);
	
UTIL_WRITETO_UINT(&buffer[6][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[6][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[6]);
	
UTIL_WRITETO_UINT(&buffer[7][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[7][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[7]);
	
UTIL_WRITETO_UINT(&buffer[8][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[8][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[8]);
	
UTIL_WRITETO_UINT(&buffer[9][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[9][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[9]);
	
UTIL_WRITETO_UINT(&buffer[10][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[10][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[10]);
	
UTIL_WRITETO_UINT(&buffer[11][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[11][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[11]);
	
UTIL_WRITETO_UINT(&buffer[12][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[12][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[12]);
	
UTIL_WRITETO_UINT(&buffer[13][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[13][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[13]);
	
UTIL_WRITETO_UINT(&buffer[14][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[14][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[14]);
	
UTIL_WRITETO_UINT(&buffer[15][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[15][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdatas[15]);
	} else {
		buffer[0][bufferoffset_kvs + index/2].value = 0; 
		buffer[1][bufferoffset_kvs + index/2].value = 0; 
		buffer[2][bufferoffset_kvs + index/2].value = 0; 
		buffer[3][bufferoffset_kvs + index/2].value = 0; 
		buffer[4][bufferoffset_kvs + index/2].value = 0; 
		buffer[5][bufferoffset_kvs + index/2].value = 0; 
		buffer[6][bufferoffset_kvs + index/2].value = 0; 
		buffer[7][bufferoffset_kvs + index/2].value = 0; 
		buffer[8][bufferoffset_kvs + index/2].value = 0; 
		buffer[9][bufferoffset_kvs + index/2].value = 0; 
		buffer[10][bufferoffset_kvs + index/2].value = 0; 
		buffer[11][bufferoffset_kvs + index/2].value = 0; 
		buffer[12][bufferoffset_kvs + index/2].value = 0; 
		buffer[13][bufferoffset_kvs + index/2].value = 0; 
		buffer[14][bufferoffset_kvs + index/2].value = 0; 
		buffer[15][bufferoffset_kvs + index/2].value = 0; 
UTIL_WRITETO_UINT(&buffer[0][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[0][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[0]);
UTIL_WRITETO_UINT(&buffer[1][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[1][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[1]);
UTIL_WRITETO_UINT(&buffer[2][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[2][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[2]);
UTIL_WRITETO_UINT(&buffer[3][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[3][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[3]);
UTIL_WRITETO_UINT(&buffer[4][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[4][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[4]);
UTIL_WRITETO_UINT(&buffer[5][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[5][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[5]);
UTIL_WRITETO_UINT(&buffer[6][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[6][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[6]);
UTIL_WRITETO_UINT(&buffer[7][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[7][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[7]);
UTIL_WRITETO_UINT(&buffer[8][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[8][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[8]);
UTIL_WRITETO_UINT(&buffer[9][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[9][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[9]);
UTIL_WRITETO_UINT(&buffer[10][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[10][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[10]);
UTIL_WRITETO_UINT(&buffer[11][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[11][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[11]);
UTIL_WRITETO_UINT(&buffer[12][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[12][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[12]);
UTIL_WRITETO_UINT(&buffer[13][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[13][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[13]);
UTIL_WRITETO_UINT(&buffer[14][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[14][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[14]);
UTIL_WRITETO_UINT(&buffer[15][bufferoffset_kvs + index/2].value, SIZEOF_VDATA0, SIZEOF_VMASK0, 0);
UTIL_WRITETO_UINT(&buffer[15][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA0, vdatas[15]);
	}	
	#endif
	return;
}

// vdata:: used in {reduceupdates.cpp, processedges_splitdstvxs.cpp}
value_t acts_all::MEMCA_READFROMBUFFER_VDATA(unsigned int index, keyvalue_vbuffer_t buffer[BLOCKRAM_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_READFROMBUFFER_VDATA:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	value_t vdata = 0;
	#ifdef _WIDEWORD
	if(index%2==0){ 
		vdata = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	} else{ 
		vdata = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	}
	#else 
	if(index%2==0){ 
		vdata = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
	} else{ 
		vdata = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
	}	
	#endif 
	return vdata;
}

// vdata:: used in {processedges_splitdstvxs.cpp} // soon obsolete
void acts_all::MEMCA_READFROMBUFFER_VDATAS(unsigned int index, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VECTOR2_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_READFROMBUFFER_VDATAS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	vdatas[0] = 0; 
	vdatas[1] = 0; 
	vdatas[2] = 0; 
	vdatas[3] = 0; 
	vdatas[4] = 0; 
	vdatas[5] = 0; 
	vdatas[6] = 0; 
	vdatas[7] = 0; 
	vdatas[8] = 0; 
	vdatas[9] = 0; 
	vdatas[10] = 0; 
	vdatas[11] = 0; 
	vdatas[12] = 0; 
	vdatas[13] = 0; 
	vdatas[14] = 0; 
	vdatas[15] = 0; 
	
	#ifdef _WIDEWORD
	if(index%2==0){ 
		vdata = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
		vdata = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	} else {
		vdata = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
		vdata = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	}
	#else 
	if(index%2==0){ 
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
	} else {
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
	}
	#endif 
	return;
}

// vmasks 
unit1_type acts_all::MEMCA_READFROMBUFFER_VMASK(unsigned int index, unit1_type vmaskBITS[DOUBLE_BLOCKRAM_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_READFROMBUFFER_VMASKS:", index, DOUBLE_BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	unit1_type vmdata = vmaskBITS[bufferoffset_kvs + index];
	return vmdata;
}

void acts_all::MEMCA_READFROMBUFFER_VMASKS(unsigned int index, unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmdatas[VMASK_PACKINGSIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_READFROMBUFFER_VMASKS:", index, DOUBLE_BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	vmdatas[0] = vmaskBITS[0][bufferoffset_kvs + index];
	vmdatas[1] = vmaskBITS[1][bufferoffset_kvs + index];
	vmdatas[2] = vmaskBITS[2][bufferoffset_kvs + index];
	vmdatas[3] = vmaskBITS[3][bufferoffset_kvs + index];
	vmdatas[4] = vmaskBITS[4][bufferoffset_kvs + index];
	vmdatas[5] = vmaskBITS[5][bufferoffset_kvs + index];
	vmdatas[6] = vmaskBITS[6][bufferoffset_kvs + index];
	vmdatas[7] = vmaskBITS[7][bufferoffset_kvs + index];
	vmdatas[8] = vmaskBITS[8][bufferoffset_kvs + index];
	vmdatas[9] = vmaskBITS[9][bufferoffset_kvs + index];
	vmdatas[10] = vmaskBITS[10][bufferoffset_kvs + index];
	vmdatas[11] = vmaskBITS[11][bufferoffset_kvs + index];
	vmdatas[12] = vmaskBITS[12][bufferoffset_kvs + index];
	vmdatas[13] = vmaskBITS[13][bufferoffset_kvs + index];
	vmdatas[14] = vmaskBITS[14][bufferoffset_kvs + index];
	vmdatas[15] = vmaskBITS[15][bufferoffset_kvs + index];
	return;
}

void acts_all::MEMCA_WRITETOBUFFER_VMASKS(unsigned int index, unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmdatas[VMASK_PACKINGSIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS:", index, DOUBLE_BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	vmaskBITS[0][bufferoffset_kvs + index] = vmdatas[0];
	vmaskBITS[1][bufferoffset_kvs + index] = vmdatas[1];
	vmaskBITS[2][bufferoffset_kvs + index] = vmdatas[2];
	vmaskBITS[3][bufferoffset_kvs + index] = vmdatas[3];
	vmaskBITS[4][bufferoffset_kvs + index] = vmdatas[4];
	vmaskBITS[5][bufferoffset_kvs + index] = vmdatas[5];
	vmaskBITS[6][bufferoffset_kvs + index] = vmdatas[6];
	vmaskBITS[7][bufferoffset_kvs + index] = vmdatas[7];
	vmaskBITS[8][bufferoffset_kvs + index] = vmdatas[8];
	vmaskBITS[9][bufferoffset_kvs + index] = vmdatas[9];
	vmaskBITS[10][bufferoffset_kvs + index] = vmdatas[10];
	vmaskBITS[11][bufferoffset_kvs + index] = vmdatas[11];
	vmaskBITS[12][bufferoffset_kvs + index] = vmdatas[12];
	vmaskBITS[13][bufferoffset_kvs + index] = vmdatas[13];
	vmaskBITS[14][bufferoffset_kvs + index] = vmdatas[14];
	vmaskBITS[15][bufferoffset_kvs + index] = vmdatas[15];
	return;
}

void acts_all::MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS(unsigned int indexes[VDATA_PACKINGSIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmdatas[VMASK_PACKINGSIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[0], DOUBLE_BLOCKRAM_SIZE, indexes[0], NAp, NAp);
	#endif
	vmaskBITS[0][bufferoffset_kvs + indexes[0]] = vmdatas[0];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[1], DOUBLE_BLOCKRAM_SIZE, indexes[1], NAp, NAp);
	#endif
	vmaskBITS[1][bufferoffset_kvs + indexes[1]] = vmdatas[1];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[2], DOUBLE_BLOCKRAM_SIZE, indexes[2], NAp, NAp);
	#endif
	vmaskBITS[2][bufferoffset_kvs + indexes[2]] = vmdatas[2];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[3], DOUBLE_BLOCKRAM_SIZE, indexes[3], NAp, NAp);
	#endif
	vmaskBITS[3][bufferoffset_kvs + indexes[3]] = vmdatas[3];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[4], DOUBLE_BLOCKRAM_SIZE, indexes[4], NAp, NAp);
	#endif
	vmaskBITS[4][bufferoffset_kvs + indexes[4]] = vmdatas[4];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[5], DOUBLE_BLOCKRAM_SIZE, indexes[5], NAp, NAp);
	#endif
	vmaskBITS[5][bufferoffset_kvs + indexes[5]] = vmdatas[5];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[6], DOUBLE_BLOCKRAM_SIZE, indexes[6], NAp, NAp);
	#endif
	vmaskBITS[6][bufferoffset_kvs + indexes[6]] = vmdatas[6];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[7], DOUBLE_BLOCKRAM_SIZE, indexes[7], NAp, NAp);
	#endif
	vmaskBITS[7][bufferoffset_kvs + indexes[7]] = vmdatas[7];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[8], DOUBLE_BLOCKRAM_SIZE, indexes[8], NAp, NAp);
	#endif
	vmaskBITS[8][bufferoffset_kvs + indexes[8]] = vmdatas[8];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[9], DOUBLE_BLOCKRAM_SIZE, indexes[9], NAp, NAp);
	#endif
	vmaskBITS[9][bufferoffset_kvs + indexes[9]] = vmdatas[9];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[10], DOUBLE_BLOCKRAM_SIZE, indexes[10], NAp, NAp);
	#endif
	vmaskBITS[10][bufferoffset_kvs + indexes[10]] = vmdatas[10];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[11], DOUBLE_BLOCKRAM_SIZE, indexes[11], NAp, NAp);
	#endif
	vmaskBITS[11][bufferoffset_kvs + indexes[11]] = vmdatas[11];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[12], DOUBLE_BLOCKRAM_SIZE, indexes[12], NAp, NAp);
	#endif
	vmaskBITS[12][bufferoffset_kvs + indexes[12]] = vmdatas[12];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[13], DOUBLE_BLOCKRAM_SIZE, indexes[13], NAp, NAp);
	#endif
	vmaskBITS[13][bufferoffset_kvs + indexes[13]] = vmdatas[13];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[14], DOUBLE_BLOCKRAM_SIZE, indexes[14], NAp, NAp);
	#endif
	vmaskBITS[14][bufferoffset_kvs + indexes[14]] = vmdatas[14];
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS:", indexes[15], DOUBLE_BLOCKRAM_SIZE, indexes[15], NAp, NAp);
	#endif
	vmaskBITS[15][bufferoffset_kvs + indexes[15]] = vmdatas[15];
	return;
}

// vdata & vmasks 
void acts_all::MEMCA_READFROMBUFFER_VDATASWITHVMASKS(unsigned int index, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VECTOR2_SIZE], unit1_type vmdatas[VMASK_PACKINGSIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_READFROMBUFFER_VDATASWITHVMASKS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	if(index%2==0){ 
	
		vmdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	
		vmdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0);
	} else {
	
		vmdatas[0] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[1] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[2] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[3] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[4] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[5] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[6] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[7] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[8] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[9] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[10] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[11] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[12] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[13] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[14] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	
		vmdatas[15] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1);
	}
	#else 
	if(index%2==0){ 
		vmdatas[0] = UTIL_READFROM_UINT(buffer[0][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[0] = UTIL_READFROM_UINT(buffer[0][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[1] = UTIL_READFROM_UINT(buffer[1][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[1] = UTIL_READFROM_UINT(buffer[1][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[2] = UTIL_READFROM_UINT(buffer[2][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[2] = UTIL_READFROM_UINT(buffer[2][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[3] = UTIL_READFROM_UINT(buffer[3][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[3] = UTIL_READFROM_UINT(buffer[3][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[4] = UTIL_READFROM_UINT(buffer[4][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[4] = UTIL_READFROM_UINT(buffer[4][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[5] = UTIL_READFROM_UINT(buffer[5][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[5] = UTIL_READFROM_UINT(buffer[5][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[6] = UTIL_READFROM_UINT(buffer[6][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[6] = UTIL_READFROM_UINT(buffer[6][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[7] = UTIL_READFROM_UINT(buffer[7][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[7] = UTIL_READFROM_UINT(buffer[7][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[8] = UTIL_READFROM_UINT(buffer[8][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[8] = UTIL_READFROM_UINT(buffer[8][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[9] = UTIL_READFROM_UINT(buffer[9][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[9] = UTIL_READFROM_UINT(buffer[9][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[10] = UTIL_READFROM_UINT(buffer[10][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[10] = UTIL_READFROM_UINT(buffer[10][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[11] = UTIL_READFROM_UINT(buffer[11][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[11] = UTIL_READFROM_UINT(buffer[11][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[12] = UTIL_READFROM_UINT(buffer[12][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[12] = UTIL_READFROM_UINT(buffer[12][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[13] = UTIL_READFROM_UINT(buffer[13][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[13] = UTIL_READFROM_UINT(buffer[13][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[14] = UTIL_READFROM_UINT(buffer[14][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[14] = UTIL_READFROM_UINT(buffer[14][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
		vmdatas[15] = UTIL_READFROM_UINT(buffer[15][bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0);
		vdatas[15] = UTIL_READFROM_UINT(buffer[15][bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0);
	} else {
		vmdatas[0] = UTIL_READFROM_UINT(buffer[0][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[0] = UTIL_READFROM_UINT(buffer[0][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[1] = UTIL_READFROM_UINT(buffer[1][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[1] = UTIL_READFROM_UINT(buffer[1][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[2] = UTIL_READFROM_UINT(buffer[2][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[2] = UTIL_READFROM_UINT(buffer[2][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[3] = UTIL_READFROM_UINT(buffer[3][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[3] = UTIL_READFROM_UINT(buffer[3][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[4] = UTIL_READFROM_UINT(buffer[4][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[4] = UTIL_READFROM_UINT(buffer[4][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[5] = UTIL_READFROM_UINT(buffer[5][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[5] = UTIL_READFROM_UINT(buffer[5][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[6] = UTIL_READFROM_UINT(buffer[6][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[6] = UTIL_READFROM_UINT(buffer[6][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[7] = UTIL_READFROM_UINT(buffer[7][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[7] = UTIL_READFROM_UINT(buffer[7][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[8] = UTIL_READFROM_UINT(buffer[8][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[8] = UTIL_READFROM_UINT(buffer[8][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[9] = UTIL_READFROM_UINT(buffer[9][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[9] = UTIL_READFROM_UINT(buffer[9][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[10] = UTIL_READFROM_UINT(buffer[10][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[10] = UTIL_READFROM_UINT(buffer[10][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[11] = UTIL_READFROM_UINT(buffer[11][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[11] = UTIL_READFROM_UINT(buffer[11][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[12] = UTIL_READFROM_UINT(buffer[12][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[12] = UTIL_READFROM_UINT(buffer[12][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[13] = UTIL_READFROM_UINT(buffer[13][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[13] = UTIL_READFROM_UINT(buffer[13][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[14] = UTIL_READFROM_UINT(buffer[14][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[14] = UTIL_READFROM_UINT(buffer[14][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
		vmdatas[15] = UTIL_READFROM_UINT(buffer[15][bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1);
		vdatas[15] = UTIL_READFROM_UINT(buffer[15][bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1);
	}
	#endif 
	return;
}

void acts_all::MEMCA_READFROMBUFFER_VDATASANDVMASKS(unsigned int index, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VECTOR2_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_READFROMBUFFER_VDATASANDVMASKS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	if(index%2==0){ 
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY);
	} else {
		vdatas[0] = UTIL_READBITSFROM_UINTV(buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[1] = UTIL_READBITSFROM_UINTV(buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[2] = UTIL_READBITSFROM_UINTV(buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[3] = UTIL_READBITSFROM_UINTV(buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[4] = UTIL_READBITSFROM_UINTV(buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[5] = UTIL_READBITSFROM_UINTV(buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[6] = UTIL_READBITSFROM_UINTV(buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[7] = UTIL_READBITSFROM_UINTV(buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[8] = UTIL_READBITSFROM_UINTV(buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[9] = UTIL_READBITSFROM_UINTV(buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[10] = UTIL_READBITSFROM_UINTV(buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[11] = UTIL_READBITSFROM_UINTV(buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[12] = UTIL_READBITSFROM_UINTV(buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[13] = UTIL_READBITSFROM_UINTV(buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[14] = UTIL_READBITSFROM_UINTV(buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
		vdatas[15] = UTIL_READBITSFROM_UINTV(buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE);
	}
	#else 
	if(index%2==0){ 
		vdatas[0] = buffer[0][bufferoffset_kvs + index/2].key;
		vdatas[1] = buffer[1][bufferoffset_kvs + index/2].key;
		vdatas[2] = buffer[2][bufferoffset_kvs + index/2].key;
		vdatas[3] = buffer[3][bufferoffset_kvs + index/2].key;
		vdatas[4] = buffer[4][bufferoffset_kvs + index/2].key;
		vdatas[5] = buffer[5][bufferoffset_kvs + index/2].key;
		vdatas[6] = buffer[6][bufferoffset_kvs + index/2].key;
		vdatas[7] = buffer[7][bufferoffset_kvs + index/2].key;
		vdatas[8] = buffer[8][bufferoffset_kvs + index/2].key;
		vdatas[9] = buffer[9][bufferoffset_kvs + index/2].key;
		vdatas[10] = buffer[10][bufferoffset_kvs + index/2].key;
		vdatas[11] = buffer[11][bufferoffset_kvs + index/2].key;
		vdatas[12] = buffer[12][bufferoffset_kvs + index/2].key;
		vdatas[13] = buffer[13][bufferoffset_kvs + index/2].key;
		vdatas[14] = buffer[14][bufferoffset_kvs + index/2].key;
		vdatas[15] = buffer[15][bufferoffset_kvs + index/2].key;
	} else {
		vdatas[0] = buffer[0][bufferoffset_kvs + index/2].value;
		vdatas[1] = buffer[1][bufferoffset_kvs + index/2].value;
		vdatas[2] = buffer[2][bufferoffset_kvs + index/2].value;
		vdatas[3] = buffer[3][bufferoffset_kvs + index/2].value;
		vdatas[4] = buffer[4][bufferoffset_kvs + index/2].value;
		vdatas[5] = buffer[5][bufferoffset_kvs + index/2].value;
		vdatas[6] = buffer[6][bufferoffset_kvs + index/2].value;
		vdatas[7] = buffer[7][bufferoffset_kvs + index/2].value;
		vdatas[8] = buffer[8][bufferoffset_kvs + index/2].value;
		vdatas[9] = buffer[9][bufferoffset_kvs + index/2].value;
		vdatas[10] = buffer[10][bufferoffset_kvs + index/2].value;
		vdatas[11] = buffer[11][bufferoffset_kvs + index/2].value;
		vdatas[12] = buffer[12][bufferoffset_kvs + index/2].value;
		vdatas[13] = buffer[13][bufferoffset_kvs + index/2].value;
		vdatas[14] = buffer[14][bufferoffset_kvs + index/2].value;
		vdatas[15] = buffer[15][bufferoffset_kvs + index/2].value;
	}
	#endif
	return;
}

void acts_all::MEMCA_WRITETOBUFFER_VDATAWITHVMASK(unsigned int index, keyvalue_vbuffer_t buffer[BLOCKRAM_SIZE], value_t vdata, unit1_type vmdata, batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFER_VDATAWITHVMASK:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	if(index%2==0){
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2], SIZEOF_VDATA0, SIZEOF_VMASK0, vmdata);
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2], 0, SIZEOF_VDATA0, vdata);
	} else{
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY + SIZEOF_VDATA1, SIZEOF_VMASK1, vmdata);
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATAKEY, SIZEOF_VDATA1, vdata);
	}
	#else 
	if(index%2==0){
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].key, SIZEOF_VDATA0, SIZEOF_VMASK0, vmdata);
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].key, 0, SIZEOF_VDATA0, vdata);
	} else{
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].value, SIZEOF_VDATA1, SIZEOF_VMASK1, vmdata);
UTIL_WRITEBITSTO_UINTV((unsigned int *)&buffer[bufferoffset_kvs + index/2].value, 0, SIZEOF_VDATA1, vdata);
	}	
	#endif 
	return;
}

void acts_all::MEMCA_WRITETOBUFFER_VDATASANDVMASKS(unsigned int index, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VECTOR2_SIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_WRITETOBUFFER_VDATASANDVMASKS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	if(index%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[0]);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[1]);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[2]);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[3]);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[4]);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[5]);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[6]);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[7]);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[8]);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[9]);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[10]);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[11]);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[12]);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[13]);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[14]);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], 0, SIZEOF_VDATAKEY, vdatas[15]);
	} else {
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[0]);
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[1]);
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[2]);
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[3]);
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[4]);
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[5]);
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[6]);
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[7]);
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[8]);
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[9]);
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[10]);
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[11]);
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[12]);
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[13]);
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[14]);
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + index/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[15]);
	}
	#else 
	if(index%2==0){ 
		buffer[0][bufferoffset_kvs + index/2].key = vdatas[0];
		buffer[1][bufferoffset_kvs + index/2].key = vdatas[1];
		buffer[2][bufferoffset_kvs + index/2].key = vdatas[2];
		buffer[3][bufferoffset_kvs + index/2].key = vdatas[3];
		buffer[4][bufferoffset_kvs + index/2].key = vdatas[4];
		buffer[5][bufferoffset_kvs + index/2].key = vdatas[5];
		buffer[6][bufferoffset_kvs + index/2].key = vdatas[6];
		buffer[7][bufferoffset_kvs + index/2].key = vdatas[7];
		buffer[8][bufferoffset_kvs + index/2].key = vdatas[8];
		buffer[9][bufferoffset_kvs + index/2].key = vdatas[9];
		buffer[10][bufferoffset_kvs + index/2].key = vdatas[10];
		buffer[11][bufferoffset_kvs + index/2].key = vdatas[11];
		buffer[12][bufferoffset_kvs + index/2].key = vdatas[12];
		buffer[13][bufferoffset_kvs + index/2].key = vdatas[13];
		buffer[14][bufferoffset_kvs + index/2].key = vdatas[14];
		buffer[15][bufferoffset_kvs + index/2].key = vdatas[15];
	} else {
		buffer[0][bufferoffset_kvs + index/2].value = vdatas[0];
		buffer[1][bufferoffset_kvs + index/2].value = vdatas[1];
		buffer[2][bufferoffset_kvs + index/2].value = vdatas[2];
		buffer[3][bufferoffset_kvs + index/2].value = vdatas[3];
		buffer[4][bufferoffset_kvs + index/2].value = vdatas[4];
		buffer[5][bufferoffset_kvs + index/2].value = vdatas[5];
		buffer[6][bufferoffset_kvs + index/2].value = vdatas[6];
		buffer[7][bufferoffset_kvs + index/2].value = vdatas[7];
		buffer[8][bufferoffset_kvs + index/2].value = vdatas[8];
		buffer[9][bufferoffset_kvs + index/2].value = vdatas[9];
		buffer[10][bufferoffset_kvs + index/2].value = vdatas[10];
		buffer[11][bufferoffset_kvs + index/2].value = vdatas[11];
		buffer[12][bufferoffset_kvs + index/2].value = vdatas[12];
		buffer[13][bufferoffset_kvs + index/2].value = vdatas[13];
		buffer[14][bufferoffset_kvs + index/2].value = vdatas[14];
		buffer[15][bufferoffset_kvs + index/2].value = vdatas[15];
	}
	#endif 
	return;
}

void acts_all::MEMCA_WRITETOBUFFERWITHDEPTHS_VDATASANDVMASKS(unsigned int indexes[VDATA_PACKINGSIZE], keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], value_t vdatas[VDATA_PACKINGSIZE], batch_type bufferoffset_kvs){
	#pragma HLS INLINE
	
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[0]/2, BLOCKRAM_SIZE, indexes[0], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[1]/2, BLOCKRAM_SIZE, indexes[1], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[2]/2, BLOCKRAM_SIZE, indexes[2], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[3]/2, BLOCKRAM_SIZE, indexes[3], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[4]/2, BLOCKRAM_SIZE, indexes[4], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[5]/2, BLOCKRAM_SIZE, indexes[5], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[6]/2, BLOCKRAM_SIZE, indexes[6], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[7]/2, BLOCKRAM_SIZE, indexes[7], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[8]/2, BLOCKRAM_SIZE, indexes[8], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[9]/2, BLOCKRAM_SIZE, indexes[9], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[10]/2, BLOCKRAM_SIZE, indexes[10], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[11]/2, BLOCKRAM_SIZE, indexes[11], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[12]/2, BLOCKRAM_SIZE, indexes[12], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[13]/2, BLOCKRAM_SIZE, indexes[13], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[14]/2, BLOCKRAM_SIZE, indexes[14], NAp, NAp);
	actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[15]/2, BLOCKRAM_SIZE, indexes[15], NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
		if(indexes[0]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + indexes[0]/2], 0, SIZEOF_VDATAKEY, vdatas[0]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[0][bufferoffset_kvs + indexes[0]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[0]);
		}
		if(indexes[1]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + indexes[1]/2], 0, SIZEOF_VDATAKEY, vdatas[1]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[1][bufferoffset_kvs + indexes[1]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[1]);
		}
		if(indexes[2]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + indexes[2]/2], 0, SIZEOF_VDATAKEY, vdatas[2]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[2][bufferoffset_kvs + indexes[2]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[2]);
		}
		if(indexes[3]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + indexes[3]/2], 0, SIZEOF_VDATAKEY, vdatas[3]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[3][bufferoffset_kvs + indexes[3]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[3]);
		}
		if(indexes[4]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + indexes[4]/2], 0, SIZEOF_VDATAKEY, vdatas[4]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[4][bufferoffset_kvs + indexes[4]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[4]);
		}
		if(indexes[5]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + indexes[5]/2], 0, SIZEOF_VDATAKEY, vdatas[5]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[5][bufferoffset_kvs + indexes[5]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[5]);
		}
		if(indexes[6]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + indexes[6]/2], 0, SIZEOF_VDATAKEY, vdatas[6]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[6][bufferoffset_kvs + indexes[6]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[6]);
		}
		if(indexes[7]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + indexes[7]/2], 0, SIZEOF_VDATAKEY, vdatas[7]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[7][bufferoffset_kvs + indexes[7]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[7]);
		}
		if(indexes[8]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + indexes[8]/2], 0, SIZEOF_VDATAKEY, vdatas[8]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[8][bufferoffset_kvs + indexes[8]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[8]);
		}
		if(indexes[9]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + indexes[9]/2], 0, SIZEOF_VDATAKEY, vdatas[9]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[9][bufferoffset_kvs + indexes[9]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[9]);
		}
		if(indexes[10]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + indexes[10]/2], 0, SIZEOF_VDATAKEY, vdatas[10]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[10][bufferoffset_kvs + indexes[10]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[10]);
		}
		if(indexes[11]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + indexes[11]/2], 0, SIZEOF_VDATAKEY, vdatas[11]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[11][bufferoffset_kvs + indexes[11]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[11]);
		}
		if(indexes[12]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + indexes[12]/2], 0, SIZEOF_VDATAKEY, vdatas[12]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[12][bufferoffset_kvs + indexes[12]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[12]);
		}
		if(indexes[13]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + indexes[13]/2], 0, SIZEOF_VDATAKEY, vdatas[13]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[13][bufferoffset_kvs + indexes[13]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[13]);
		}
		if(indexes[14]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + indexes[14]/2], 0, SIZEOF_VDATAKEY, vdatas[14]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[14][bufferoffset_kvs + indexes[14]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[14]);
		}
		if(indexes[15]%2==0){ 
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + indexes[15]/2], 0, SIZEOF_VDATAKEY, vdatas[15]);
		} else{ 
UTIL_WRITEBITSTO_UINTV(&buffer[15][bufferoffset_kvs + indexes[15]/2], SIZEOF_VDATAKEY, SIZEOF_VDATAVALUE, vdatas[15]);
		}
	
	#else 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[0]/2, BLOCKRAM_SIZE, indexes[0], NAp, NAp);
		#endif
		if(indexes[0]%2==0){ 
			buffer[0][bufferoffset_kvs + indexes[0]/2].key = vdatas[0]; 
		} else{ 
			buffer[0][bufferoffset_kvs + indexes[0]/2].value = vdatas[0]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[1]/2, BLOCKRAM_SIZE, indexes[1], NAp, NAp);
		#endif
		if(indexes[1]%2==0){ 
			buffer[1][bufferoffset_kvs + indexes[1]/2].key = vdatas[1]; 
		} else{ 
			buffer[1][bufferoffset_kvs + indexes[1]/2].value = vdatas[1]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[2]/2, BLOCKRAM_SIZE, indexes[2], NAp, NAp);
		#endif
		if(indexes[2]%2==0){ 
			buffer[2][bufferoffset_kvs + indexes[2]/2].key = vdatas[2]; 
		} else{ 
			buffer[2][bufferoffset_kvs + indexes[2]/2].value = vdatas[2]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[3]/2, BLOCKRAM_SIZE, indexes[3], NAp, NAp);
		#endif
		if(indexes[3]%2==0){ 
			buffer[3][bufferoffset_kvs + indexes[3]/2].key = vdatas[3]; 
		} else{ 
			buffer[3][bufferoffset_kvs + indexes[3]/2].value = vdatas[3]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[4]/2, BLOCKRAM_SIZE, indexes[4], NAp, NAp);
		#endif
		if(indexes[4]%2==0){ 
			buffer[4][bufferoffset_kvs + indexes[4]/2].key = vdatas[4]; 
		} else{ 
			buffer[4][bufferoffset_kvs + indexes[4]/2].value = vdatas[4]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[5]/2, BLOCKRAM_SIZE, indexes[5], NAp, NAp);
		#endif
		if(indexes[5]%2==0){ 
			buffer[5][bufferoffset_kvs + indexes[5]/2].key = vdatas[5]; 
		} else{ 
			buffer[5][bufferoffset_kvs + indexes[5]/2].value = vdatas[5]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[6]/2, BLOCKRAM_SIZE, indexes[6], NAp, NAp);
		#endif
		if(indexes[6]%2==0){ 
			buffer[6][bufferoffset_kvs + indexes[6]/2].key = vdatas[6]; 
		} else{ 
			buffer[6][bufferoffset_kvs + indexes[6]/2].value = vdatas[6]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[7]/2, BLOCKRAM_SIZE, indexes[7], NAp, NAp);
		#endif
		if(indexes[7]%2==0){ 
			buffer[7][bufferoffset_kvs + indexes[7]/2].key = vdatas[7]; 
		} else{ 
			buffer[7][bufferoffset_kvs + indexes[7]/2].value = vdatas[7]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[8]/2, BLOCKRAM_SIZE, indexes[8], NAp, NAp);
		#endif
		if(indexes[8]%2==0){ 
			buffer[8][bufferoffset_kvs + indexes[8]/2].key = vdatas[8]; 
		} else{ 
			buffer[8][bufferoffset_kvs + indexes[8]/2].value = vdatas[8]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[9]/2, BLOCKRAM_SIZE, indexes[9], NAp, NAp);
		#endif
		if(indexes[9]%2==0){ 
			buffer[9][bufferoffset_kvs + indexes[9]/2].key = vdatas[9]; 
		} else{ 
			buffer[9][bufferoffset_kvs + indexes[9]/2].value = vdatas[9]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[10]/2, BLOCKRAM_SIZE, indexes[10], NAp, NAp);
		#endif
		if(indexes[10]%2==0){ 
			buffer[10][bufferoffset_kvs + indexes[10]/2].key = vdatas[10]; 
		} else{ 
			buffer[10][bufferoffset_kvs + indexes[10]/2].value = vdatas[10]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[11]/2, BLOCKRAM_SIZE, indexes[11], NAp, NAp);
		#endif
		if(indexes[11]%2==0){ 
			buffer[11][bufferoffset_kvs + indexes[11]/2].key = vdatas[11]; 
		} else{ 
			buffer[11][bufferoffset_kvs + indexes[11]/2].value = vdatas[11]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[12]/2, BLOCKRAM_SIZE, indexes[12], NAp, NAp);
		#endif
		if(indexes[12]%2==0){ 
			buffer[12][bufferoffset_kvs + indexes[12]/2].key = vdatas[12]; 
		} else{ 
			buffer[12][bufferoffset_kvs + indexes[12]/2].value = vdatas[12]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[13]/2, BLOCKRAM_SIZE, indexes[13], NAp, NAp);
		#endif
		if(indexes[13]%2==0){ 
			buffer[13][bufferoffset_kvs + indexes[13]/2].key = vdatas[13]; 
		} else{ 
			buffer[13][bufferoffset_kvs + indexes[13]/2].value = vdatas[13]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[14]/2, BLOCKRAM_SIZE, indexes[14], NAp, NAp);
		#endif
		if(indexes[14]%2==0){ 
			buffer[14][bufferoffset_kvs + indexes[14]/2].key = vdatas[14]; 
		} else{ 
			buffer[14][bufferoffset_kvs + indexes[14]/2].value = vdatas[14]; 
		}
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("{context['classname__mem_convert_and_access']}}MEMCA_WRITETOBUFFERWITHDEPTHS_VDATAS:", indexes[15]/2, BLOCKRAM_SIZE, indexes[15], NAp, NAp);
		#endif
		if(indexes[15]%2==0){ 
			buffer[15][bufferoffset_kvs + indexes[15]/2].key = vdatas[15]; 
		} else{ 
			buffer[15][bufferoffset_kvs + indexes[15]/2].value = vdatas[15]; 
		}
	#endif 
	return;
}

void acts_all::MEMCA_READFROMKVDRAM_VDATASANDVMASKS(unsigned int index, uint512_dt * kvdram, value_t vdatas[VECTOR2_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs){
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_READFROMKVDRAM_VDATASANDVMASKS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	#ifdef _WIDEWORD
	vdatas[0] = kvdram[baseoffset_kvs + offset_kvs + index].range(31, 0); 
	vdatas[1] = kvdram[baseoffset_kvs + offset_kvs + index].range(63, 32); 
	vdatas[2] = kvdram[baseoffset_kvs + offset_kvs + index].range(95, 64); 
	vdatas[3] = kvdram[baseoffset_kvs + offset_kvs + index].range(127, 96); 
	vdatas[4] = kvdram[baseoffset_kvs + offset_kvs + index].range(159, 128); 
	vdatas[5] = kvdram[baseoffset_kvs + offset_kvs + index].range(191, 160); 
	vdatas[6] = kvdram[baseoffset_kvs + offset_kvs + index].range(223, 192); 
	vdatas[7] = kvdram[baseoffset_kvs + offset_kvs + index].range(255, 224); 
	vdatas[8] = kvdram[baseoffset_kvs + offset_kvs + index].range(287, 256); 
	vdatas[9] = kvdram[baseoffset_kvs + offset_kvs + index].range(319, 288); 
	vdatas[10] = kvdram[baseoffset_kvs + offset_kvs + index].range(351, 320); 
	vdatas[11] = kvdram[baseoffset_kvs + offset_kvs + index].range(383, 352); 
	vdatas[12] = kvdram[baseoffset_kvs + offset_kvs + index].range(415, 384); 
	vdatas[13] = kvdram[baseoffset_kvs + offset_kvs + index].range(447, 416); 
	vdatas[14] = kvdram[baseoffset_kvs + offset_kvs + index].range(479, 448); 
	vdatas[15] = kvdram[baseoffset_kvs + offset_kvs + index].range(511, 480); 
	#else 
	vdatas[0] = kvdram[baseoffset_kvs + offset_kvs + index].data[0].key;
	vdatas[1] = kvdram[baseoffset_kvs + offset_kvs + index].data[0].value;
	vdatas[2] = kvdram[baseoffset_kvs + offset_kvs + index].data[1].key;
	vdatas[3] = kvdram[baseoffset_kvs + offset_kvs + index].data[1].value;
	vdatas[4] = kvdram[baseoffset_kvs + offset_kvs + index].data[2].key;
	vdatas[5] = kvdram[baseoffset_kvs + offset_kvs + index].data[2].value;
	vdatas[6] = kvdram[baseoffset_kvs + offset_kvs + index].data[3].key;
	vdatas[7] = kvdram[baseoffset_kvs + offset_kvs + index].data[3].value;
	vdatas[8] = kvdram[baseoffset_kvs + offset_kvs + index].data[4].key;
	vdatas[9] = kvdram[baseoffset_kvs + offset_kvs + index].data[4].value;
	vdatas[10] = kvdram[baseoffset_kvs + offset_kvs + index].data[5].key;
	vdatas[11] = kvdram[baseoffset_kvs + offset_kvs + index].data[5].value;
	vdatas[12] = kvdram[baseoffset_kvs + offset_kvs + index].data[6].key;
	vdatas[13] = kvdram[baseoffset_kvs + offset_kvs + index].data[6].value;
	vdatas[14] = kvdram[baseoffset_kvs + offset_kvs + index].data[7].key;
	vdatas[15] = kvdram[baseoffset_kvs + offset_kvs + index].data[7].value;
	#endif
	return;
}

void acts_all::MEMCA_WRITETOKVDRAM_VDATASANDVMASKS(unsigned int index, uint512_dt * kvdram, value_t vdatas[VECTOR2_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs){			
	#pragma HLS INLINE
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("acts_all::MEMCA_WRITETOKVDRAM_VDATASANDVMASKS:", index/2, BLOCKRAM_SIZE, index, NAp, NAp);
	#endif
	
	unsigned int vdata1;
	unsigned int vdata2;
	unsigned int vmdata1;
	unsigned int vmdata2;

	#ifdef _WIDEWORD
	kvdram[baseoffset_kvs + offset_kvs + index].range(31, 0) = vdatas[0];
	kvdram[baseoffset_kvs + offset_kvs + index].range(63, 32) = vdatas[1];
	kvdram[baseoffset_kvs + offset_kvs + index].range(95, 64) = vdatas[2];
	kvdram[baseoffset_kvs + offset_kvs + index].range(127, 96) = vdatas[3];
	kvdram[baseoffset_kvs + offset_kvs + index].range(159, 128) = vdatas[4];
	kvdram[baseoffset_kvs + offset_kvs + index].range(191, 160) = vdatas[5];
	kvdram[baseoffset_kvs + offset_kvs + index].range(223, 192) = vdatas[6];
	kvdram[baseoffset_kvs + offset_kvs + index].range(255, 224) = vdatas[7];
	kvdram[baseoffset_kvs + offset_kvs + index].range(287, 256) = vdatas[8];
	kvdram[baseoffset_kvs + offset_kvs + index].range(319, 288) = vdatas[9];
	kvdram[baseoffset_kvs + offset_kvs + index].range(351, 320) = vdatas[10];
	kvdram[baseoffset_kvs + offset_kvs + index].range(383, 352) = vdatas[11];
	kvdram[baseoffset_kvs + offset_kvs + index].range(415, 384) = vdatas[12];
	kvdram[baseoffset_kvs + offset_kvs + index].range(447, 416) = vdatas[13];
	kvdram[baseoffset_kvs + offset_kvs + index].range(479, 448) = vdatas[14];
	kvdram[baseoffset_kvs + offset_kvs + index].range(511, 480) = vdatas[15];
	#else 
	kvdram[baseoffset_kvs + offset_kvs + index].data[0].key = vdatas[0];
	kvdram[baseoffset_kvs + offset_kvs + index].data[0].value = vdatas[1];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[0], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[1], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[0], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[1], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[0]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[1]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[1].key = vdatas[2];
	kvdram[baseoffset_kvs + offset_kvs + index].data[1].value = vdatas[3];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[2], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[3], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[2], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[3], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[2]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[3]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[2].key = vdatas[4];
	kvdram[baseoffset_kvs + offset_kvs + index].data[2].value = vdatas[5];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[4], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[5], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[4], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[5], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[4]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[5]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[3].key = vdatas[6];
	kvdram[baseoffset_kvs + offset_kvs + index].data[3].value = vdatas[7];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[6], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[7], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[6], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[7], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[6]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[7]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[4].key = vdatas[8];
	kvdram[baseoffset_kvs + offset_kvs + index].data[4].value = vdatas[9];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[8], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[9], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[8], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[9], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[8]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[9]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[5].key = vdatas[10];
	kvdram[baseoffset_kvs + offset_kvs + index].data[5].value = vdatas[11];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[10], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[11], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[10], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[11], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[10]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[11]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[6].key = vdatas[12];
	kvdram[baseoffset_kvs + offset_kvs + index].data[6].value = vdatas[13];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[12], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[13], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[12], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[13], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[12]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[13]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	kvdram[baseoffset_kvs + offset_kvs + index].data[7].key = vdatas[14];
	kvdram[baseoffset_kvs + offset_kvs + index].data[7].value = vdatas[15];
	
	vdata1 = UTIL_READBITSFROM_UINTV(vdatas[14], 0, SIZEOF_VDATA0);
	vdata2 = UTIL_READBITSFROM_UINTV(vdatas[15], 0, SIZEOF_VDATA0);
	vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[14], SIZEOF_VDATA0, SIZEOF_VMASK0);
	vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[15], SIZEOF_VDATA0, SIZEOF_VMASK0);
	if(vdata1 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[14]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; }
	if(vdata2 < 64){ cout<<"MEMCA_WRITETOKVDRAM_VDATASANDVMASKS: vdatas[15]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; }
	
	#endif
	return;
}

	
#endif 
#ifdef CONFIG_ENABLECLASS_MEM_ACCESS_SPLITDSTVXS
#include "mem_access_splitdstvxs.h"
using namespace std;

#ifdef SW
mem_access_splitdstvxs::mem_access_splitdstvxs(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj);
	mydebugobj = _mydebugobj;
}
mem_access_splitdstvxs::~mem_access_splitdstvxs(){}
#endif

// -------------------- key values -------------------- //
fetchmessage_t acts_all::MEMACCESS_SPL_readkeyvalues(bool_type enable, uint512_dt * kvdram, keyvalue_buffer_t buffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs, travstate_t travstate, globalparams_t globalparams){
	fetchmessage_t fetchmessage;
	fetchmessage.chunksize_kvs = -1;
	fetchmessage.nextoffset_kvs = -1;
	if(enable == OFF){ return fetchmessage; }
	
	analysis_type analysis_loopcount = BLOCKRAM_SIZE;
	buffer_type chunk_size = UTIL_getchunksize_kvs(size_kvs, travstate, 0);
	
	fetchmessage.chunksize_kvs = chunk_size;
	fetchmessage.nextoffset_kvs = NAp;
	
	READKEYVALUES1_LOOP: for (buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1
		keyvalue_t mykeyvalue0;
		keyvalue_t mykeyvalue1;
		keyvalue_t mykeyvalue2;
		keyvalue_t mykeyvalue3;
		keyvalue_t mykeyvalue4;
		keyvalue_t mykeyvalue5;
		keyvalue_t mykeyvalue6;
		keyvalue_t mykeyvalue7;
		
		#ifdef _WIDEWORD
		mykeyvalue0.key = kvdram[offset_kvs + i].range(31, 0);
		mykeyvalue0.value = kvdram[offset_kvs + i].range(63, 32);
		mykeyvalue1.key = kvdram[offset_kvs + i].range(95, 64);
		mykeyvalue1.value = kvdram[offset_kvs + i].range(127, 96);
		mykeyvalue2.key = kvdram[offset_kvs + i].range(159, 128);
		mykeyvalue2.value = kvdram[offset_kvs + i].range(191, 160);
		mykeyvalue3.key = kvdram[offset_kvs + i].range(223, 192);
		mykeyvalue3.value = kvdram[offset_kvs + i].range(255, 224);
		mykeyvalue4.key = kvdram[offset_kvs + i].range(287, 256);
		mykeyvalue4.value = kvdram[offset_kvs + i].range(319, 288);
		mykeyvalue5.key = kvdram[offset_kvs + i].range(351, 320);
		mykeyvalue5.value = kvdram[offset_kvs + i].range(383, 352);
		mykeyvalue6.key = kvdram[offset_kvs + i].range(415, 384);
		mykeyvalue6.value = kvdram[offset_kvs + i].range(447, 416);
		mykeyvalue7.key = kvdram[offset_kvs + i].range(479, 448);
		mykeyvalue7.value = kvdram[offset_kvs + i].range(511, 480);
		#else 
		mykeyvalue0.key = kvdram[offset_kvs + i].data[0].key; 
		mykeyvalue0.value = kvdram[offset_kvs + i].data[0].value; 
		mykeyvalue1.key = kvdram[offset_kvs + i].data[1].key; 
		mykeyvalue1.value = kvdram[offset_kvs + i].data[1].value; 
		mykeyvalue2.key = kvdram[offset_kvs + i].data[2].key; 
		mykeyvalue2.value = kvdram[offset_kvs + i].data[2].value; 
		mykeyvalue3.key = kvdram[offset_kvs + i].data[3].key; 
		mykeyvalue3.value = kvdram[offset_kvs + i].data[3].value; 
		mykeyvalue4.key = kvdram[offset_kvs + i].data[4].key; 
		mykeyvalue4.value = kvdram[offset_kvs + i].data[4].value; 
		mykeyvalue5.key = kvdram[offset_kvs + i].data[5].key; 
		mykeyvalue5.value = kvdram[offset_kvs + i].data[5].value; 
		mykeyvalue6.key = kvdram[offset_kvs + i].data[6].key; 
		mykeyvalue6.value = kvdram[offset_kvs + i].data[6].value; 
		mykeyvalue7.key = kvdram[offset_kvs + i].data[7].key; 
		mykeyvalue7.value = kvdram[offset_kvs + i].data[7].value; 
		#endif 
		
		buffer[0][i] = UTIL_GETKV(mykeyvalue0);
		buffer[1][i] = UTIL_GETKV(mykeyvalue1);
		buffer[2][i] = UTIL_GETKV(mykeyvalue2);
		buffer[3][i] = UTIL_GETKV(mykeyvalue3);
		buffer[4][i] = UTIL_GETKV(mykeyvalue4);
		buffer[5][i] = UTIL_GETKV(mykeyvalue5);
		buffer[6][i] = UTIL_GETKV(mykeyvalue6);
		buffer[7][i] = UTIL_GETKV(mykeyvalue7);
		
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"readkeyvalues:: keyvalues read: offset_kvs: "<<offset_kvs<<", size_kvs: "<<size_kvs<<", chunk_size: "<<chunk_size<<endl;
	#endif
	return fetchmessage;
}

void acts_all::MEMACCESS_SPL_savekeyvalues(bool_type enable, uint512_dt * kvdram, keyvalue_buffer_t buffer[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_t * globalcapsule, keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], batch_type globalbaseaddress_kvs, globalparams_t globalparams){				
	if(enable == OFF){ return; }
	analysis_type analysis_destpartitionsz = DESTBLOCKRAM_SIZE / NUM_PARTITIONS;
	
	#ifdef _DEBUGMODE_CHECKS
	actsutilityobj->printkeyvalues("savekeyvalues::localcapsule", localcapsule, MAX_NUM_PARTITIONS);
	actsutilityobj->printvaluecount("savekeyvalues::localcapsule", localcapsule, MAX_NUM_PARTITIONS);
	actsutilityobj->scankeyvalues("savekeyvalues::buffer", (keyvalue_t *)buffer, localcapsule, NUM_PARTITIONS, globalparams.SIZE_BATCHRANGE / NUM_PARTITIONS, actsutilityobj->getsweepparams().upperlimit);
	#endif
	
	SAVEPARTITIONS_LOOP1: for(partition_type p=0; p<NUM_PARTITIONS; p++){
		batch_type dramoffset_kvs = globalbaseaddress_kvs + ((globalcapsule[p].key + globalcapsule[p].value) / VECTOR_SIZE);
		buffer_type bramoffset_kvs = localcapsule[p].key / VECTOR_SIZE;
		buffer_type realsize_kvs = localcapsule[p].value / VECTOR_SIZE;
		buffer_type size_kvs = UTIL_getpartitionwritesz(realsize_kvs, bramoffset_kvs);
		
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("savekeyvalues 23", bramoffset_kvs + size_kvs, DESTBLOCKRAM_SIZE + 1, p, NAp, NAp);
		actsutilityobj->checkoutofbounds("savekeyvalues 25", ((globalcapsule[p].key + globalcapsule[p].value) / VECTOR_SIZE), globalparams.SIZE_KVDRAM + 1, p, NAp, NAp);
		#endif
		if(realsize_kvs > 0){
			SAVEPARTITIONS_LOOP1B: for(buffer_type i=0; i<size_kvs; i++){
			#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_destpartitionsz avg=analysis_destpartitionsz
			#pragma HLS PIPELINE II=1
				keyvalue_t mykeyvalue0 = UTIL_GETKV(buffer[0][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue1 = UTIL_GETKV(buffer[1][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue2 = UTIL_GETKV(buffer[2][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue3 = UTIL_GETKV(buffer[3][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue4 = UTIL_GETKV(buffer[4][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue5 = UTIL_GETKV(buffer[5][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue6 = UTIL_GETKV(buffer[6][bramoffset_kvs + i]);
				keyvalue_t mykeyvalue7 = UTIL_GETKV(buffer[7][bramoffset_kvs + i]);
				
				#ifdef _WIDEWORD
				kvdram[dramoffset_kvs + i].range(31, 0) = mykeyvalue0.key; 
				kvdram[dramoffset_kvs + i].range(63, 32) = mykeyvalue0.value; 
				kvdram[dramoffset_kvs + i].range(95, 64) = mykeyvalue1.key; 
				kvdram[dramoffset_kvs + i].range(127, 96) = mykeyvalue1.value; 
				kvdram[dramoffset_kvs + i].range(159, 128) = mykeyvalue2.key; 
				kvdram[dramoffset_kvs + i].range(191, 160) = mykeyvalue2.value; 
				kvdram[dramoffset_kvs + i].range(223, 192) = mykeyvalue3.key; 
				kvdram[dramoffset_kvs + i].range(255, 224) = mykeyvalue3.value; 
				kvdram[dramoffset_kvs + i].range(287, 256) = mykeyvalue4.key; 
				kvdram[dramoffset_kvs + i].range(319, 288) = mykeyvalue4.value; 
				kvdram[dramoffset_kvs + i].range(351, 320) = mykeyvalue5.key; 
				kvdram[dramoffset_kvs + i].range(383, 352) = mykeyvalue5.value; 
				kvdram[dramoffset_kvs + i].range(415, 384) = mykeyvalue6.key; 
				kvdram[dramoffset_kvs + i].range(447, 416) = mykeyvalue6.value; 
				kvdram[dramoffset_kvs + i].range(479, 448) = mykeyvalue7.key; 
				kvdram[dramoffset_kvs + i].range(511, 480) = mykeyvalue7.value; 
				#else
				kvdram[dramoffset_kvs + i].data[0].key = mykeyvalue0.key; 
				kvdram[dramoffset_kvs + i].data[0].value = mykeyvalue0.value; 
				kvdram[dramoffset_kvs + i].data[1].key = mykeyvalue1.key; 
				kvdram[dramoffset_kvs + i].data[1].value = mykeyvalue1.value; 
				kvdram[dramoffset_kvs + i].data[2].key = mykeyvalue2.key; 
				kvdram[dramoffset_kvs + i].data[2].value = mykeyvalue2.value; 
				kvdram[dramoffset_kvs + i].data[3].key = mykeyvalue3.key; 
				kvdram[dramoffset_kvs + i].data[3].value = mykeyvalue3.value; 
				kvdram[dramoffset_kvs + i].data[4].key = mykeyvalue4.key; 
				kvdram[dramoffset_kvs + i].data[4].value = mykeyvalue4.value; 
				kvdram[dramoffset_kvs + i].data[5].key = mykeyvalue5.key; 
				kvdram[dramoffset_kvs + i].data[5].value = mykeyvalue5.value; 
				kvdram[dramoffset_kvs + i].data[6].key = mykeyvalue6.key; 
				kvdram[dramoffset_kvs + i].data[6].value = mykeyvalue6.value; 
				kvdram[dramoffset_kvs + i].data[7].key = mykeyvalue7.key; 
				kvdram[dramoffset_kvs + i].data[7].value = mykeyvalue7.value; 
				#endif 
				
				#ifdef _DEBUGMODE_STATS
				actsutilityobj->globalstats_countkvspartitionswritten_actual(VECTOR_SIZE);
				#endif
			}
			#ifdef _DEBUGMODE_STATS
			actsutilityobj->globalstats_countkvspartitionswritten(realsize_kvs * VECTOR_SIZE);
			#endif
		}
	}
	SAVEPARTITIONS_LOOP2: for(partition_type p=0; p<NUM_PARTITIONS; p++){ globalcapsule[p].value += localcapsule[p].value; }
	
	#if defined(ENABLE_PERFECTACCURACY) && defined(_DEBUGMODE_CHECKS2)
	for(unsigned int i=0; i<NUM_PARTITIONS-1; i++){ 
		if(globalcapsule[i].key + globalcapsule[i].value >= globalcapsule[i+1].key && globalcapsule[i].value > 0){ 
			cout<<"savekeyvalues::globalcapsule 33. ERROR. out of bounds. (globalcapsule["<<i<<"].key("<<globalcapsule[i].key<<") + globalcapsule["<<i<<"].value("<<globalcapsule[i].value<<") >= globalcapsule["<<i+1<<"].key("<<globalcapsule[i+1].key<<")) printing and exiting..."<<endl; 
			actsutilityobj->printkeyvalues("savekeyvalues::globalcapsule 34", (keyvalue_t *)globalcapsule, NUM_PARTITIONS); 
			exit(EXIT_FAILURE); 
		}
	}
	if(globalcapsule[NUM_PARTITIONS-1].key + globalcapsule[NUM_PARTITIONS-1].value >= globalparams.SIZE_KVDRAM){
		cout<<"savekeyvalues::globalcapsule 36. ERROR. out of bounds. (globalcapsule["<<NUM_PARTITIONS-1<<"].key("<<globalcapsule[NUM_PARTITIONS-1].key<<") + globalcapsule["<<NUM_PARTITIONS-1<<"].value("<<globalcapsule[NUM_PARTITIONS-1].value<<") >= globalparams.SIZE_KVDRAM("<<globalparams.SIZE_KVDRAM<<")) printing and exiting..."<<endl; 
		actsutilityobj->printkeyvalues("savekeyvalues::globalcapsule 37", (keyvalue_t *)globalcapsule, NUM_PARTITIONS); 
		exit(EXIT_FAILURE); 
	}
	#endif
	#ifdef _DEBUGMODE_KERNELPRINTS2
	cout<<"savekeyvalues:: keyvalues saved: offset_kvs from: "<<globalbaseaddress_kvs + ((globalcapsule[0].key + globalcapsule[0].value) / VECTOR_SIZE)<<endl;
	actsutilityobj->printkeyvalues("actsutility::savekeyvalues: globalcapsule.", (keyvalue_t *)globalcapsule, NUM_PARTITIONS);
	#endif
	return;
}

void acts_all::MEMACCESS_SPL_readkeyvalues(bool_type enable, uint512_dt * kvdram, batch_type dramoffset_kvs, keyvalue_buffer_t buffer[VECTOR_SIZE][BLOCKRAM_SIZE], batch_type bufferoffset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount = BLOCKRAM_SIZE;
		
	READKEYVALUES2_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1
		keyvalue_t mykeyvalue0;
		keyvalue_t mykeyvalue1;
		keyvalue_t mykeyvalue2;
		keyvalue_t mykeyvalue3;
		keyvalue_t mykeyvalue4;
		keyvalue_t mykeyvalue5;
		keyvalue_t mykeyvalue6;
		keyvalue_t mykeyvalue7;
		
		#ifdef _WIDEWORD
		mykeyvalue0.key = kvdram[dramoffset_kvs + i].range(31, 0); 
		mykeyvalue0.value = kvdram[dramoffset_kvs + i].range(63, 32); 
		mykeyvalue1.key = kvdram[dramoffset_kvs + i].range(95, 64); 
		mykeyvalue1.value = kvdram[dramoffset_kvs + i].range(127, 96); 
		mykeyvalue2.key = kvdram[dramoffset_kvs + i].range(159, 128); 
		mykeyvalue2.value = kvdram[dramoffset_kvs + i].range(191, 160); 
		mykeyvalue3.key = kvdram[dramoffset_kvs + i].range(223, 192); 
		mykeyvalue3.value = kvdram[dramoffset_kvs + i].range(255, 224); 
		mykeyvalue4.key = kvdram[dramoffset_kvs + i].range(287, 256); 
		mykeyvalue4.value = kvdram[dramoffset_kvs + i].range(319, 288); 
		mykeyvalue5.key = kvdram[dramoffset_kvs + i].range(351, 320); 
		mykeyvalue5.value = kvdram[dramoffset_kvs + i].range(383, 352); 
		mykeyvalue6.key = kvdram[dramoffset_kvs + i].range(415, 384); 
		mykeyvalue6.value = kvdram[dramoffset_kvs + i].range(447, 416); 
		mykeyvalue7.key = kvdram[dramoffset_kvs + i].range(479, 448); 
		mykeyvalue7.value = kvdram[dramoffset_kvs + i].range(511, 480); 
		#else 
		mykeyvalue0.key = kvdram[dramoffset_kvs + i].data[0].key;
		mykeyvalue0.value = kvdram[dramoffset_kvs + i].data[0].value; 
		mykeyvalue1.key = kvdram[dramoffset_kvs + i].data[1].key;
		mykeyvalue1.value = kvdram[dramoffset_kvs + i].data[1].value; 
		mykeyvalue2.key = kvdram[dramoffset_kvs + i].data[2].key;
		mykeyvalue2.value = kvdram[dramoffset_kvs + i].data[2].value; 
		mykeyvalue3.key = kvdram[dramoffset_kvs + i].data[3].key;
		mykeyvalue3.value = kvdram[dramoffset_kvs + i].data[3].value; 
		mykeyvalue4.key = kvdram[dramoffset_kvs + i].data[4].key;
		mykeyvalue4.value = kvdram[dramoffset_kvs + i].data[4].value; 
		mykeyvalue5.key = kvdram[dramoffset_kvs + i].data[5].key;
		mykeyvalue5.value = kvdram[dramoffset_kvs + i].data[5].value; 
		mykeyvalue6.key = kvdram[dramoffset_kvs + i].data[6].key;
		mykeyvalue6.value = kvdram[dramoffset_kvs + i].data[6].value; 
		mykeyvalue7.key = kvdram[dramoffset_kvs + i].data[7].key;
		mykeyvalue7.value = kvdram[dramoffset_kvs + i].data[7].value; 
		
		buffer[0][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue0);
		buffer[1][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue1);
		buffer[2][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue2);
		buffer[3][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue3);
		buffer[4][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue4);
		buffer[5][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue5);
		buffer[6][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue6);
		buffer[7][bufferoffset_kvs + i] = UTIL_GETKV(mykeyvalue7);
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<< TIMINGRESULTSCOLOR<<"readkeyvalues:: vertices read: offset: "<<dramoffset_kvs * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs) * VECTOR_SIZE<<", number of vertex datas read: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<< RESET<<endl;
	#endif
	#ifdef _DEBUGMODE_KERNELPRINTS
	if(dramoffset_kvs >= globalparams.BASEOFFSETKVS_VERTEXPTR_ && dramoffset_kvs < globalparams.BASEOFFSETKVS_VERTEXPTR + VERTEXPTRSSZ_KVS){ cout<< TIMINGRESULTSCOLOR<<"readkeyvalues:: vertices read: offset: "<<(dramoffset_kvs - globalparams.BASEOFFSETKVS_VERTEXPTR) * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs - globalparams.BASEOFFSETKVS_VERTEXPTR) * VECTOR_SIZE<<", number of vertex datas read: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<< RESET<<endl; }
	if(dramoffset_kvs >= globalparams.BASEOFFSETKVS_VERTICESDATA_ && dramoffset_kvs < globalparams.BASEOFFSETKVS_DESTVERTICESDATA + VERTICESDATASZ_KVS){ cout<< TIMINGRESULTSCOLOR<<"readkeyvalues:: vertices read: offset: "<<(dramoffset_kvs - globalparams.BASEOFFSETKVS_DESTVERTICESDATA) * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs - globalparams.BASEOFFSETKVS_DESTVERTICESDATA) * VECTOR_SIZE<<", number of vertex datas read: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<< RESET<<endl; }
	#endif
	return;
}

void acts_all::MEMACCESS_SPL_savekeyvalues(bool_type enable, uint512_dt * kvdram, batch_type dramoffset_kvs, keyvalue_buffer_t buffer[VECTOR_SIZE][BLOCKRAM_SIZE], batch_type bufferoffset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount =  BLOCKRAM_SIZE;
	
	SAVEKEYVALUES2_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1
		keyvalue_t mykeyvalue0 = UTIL_GETKV(buffer[0][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue1 = UTIL_GETKV(buffer[1][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue2 = UTIL_GETKV(buffer[2][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue3 = UTIL_GETKV(buffer[3][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue4 = UTIL_GETKV(buffer[4][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue5 = UTIL_GETKV(buffer[5][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue6 = UTIL_GETKV(buffer[6][bufferoffset_kvs + i]);
		keyvalue_t mykeyvalue7 = UTIL_GETKV(buffer[7][bufferoffset_kvs + i]);
	
		#ifdef _WIDEWORD
		kvdram[dramoffset_kvs + i].range(31, 0) = mykeyvalue0.key; 
		kvdram[dramoffset_kvs + i].range(63, 32) = mykeyvalue0.value; 
		kvdram[dramoffset_kvs + i].range(95, 64) = mykeyvalue1.key; 
		kvdram[dramoffset_kvs + i].range(127, 96) = mykeyvalue1.value; 
		kvdram[dramoffset_kvs + i].range(159, 128) = mykeyvalue2.key; 
		kvdram[dramoffset_kvs + i].range(191, 160) = mykeyvalue2.value; 
		kvdram[dramoffset_kvs + i].range(223, 192) = mykeyvalue3.key; 
		kvdram[dramoffset_kvs + i].range(255, 224) = mykeyvalue3.value; 
		kvdram[dramoffset_kvs + i].range(287, 256) = mykeyvalue4.key; 
		kvdram[dramoffset_kvs + i].range(319, 288) = mykeyvalue4.value; 
		kvdram[dramoffset_kvs + i].range(351, 320) = mykeyvalue5.key; 
		kvdram[dramoffset_kvs + i].range(383, 352) = mykeyvalue5.value; 
		kvdram[dramoffset_kvs + i].range(415, 384) = mykeyvalue6.key; 
		kvdram[dramoffset_kvs + i].range(447, 416) = mykeyvalue6.value; 
		kvdram[dramoffset_kvs + i].range(479, 448) = mykeyvalue7.key; 
		kvdram[dramoffset_kvs + i].range(511, 480) = mykeyvalue7.value; 
		#else 
		kvdram[dramoffset_kvs + i].data[0].key = mykeyvalue0.key;
		kvdram[dramoffset_kvs + i].data[0].value = mykeyvalue0.value;
		kvdram[dramoffset_kvs + i].data[1].key = mykeyvalue1.key;
		kvdram[dramoffset_kvs + i].data[1].value = mykeyvalue1.value;
		kvdram[dramoffset_kvs + i].data[2].key = mykeyvalue2.key;
		kvdram[dramoffset_kvs + i].data[2].value = mykeyvalue2.value;
		kvdram[dramoffset_kvs + i].data[3].key = mykeyvalue3.key;
		kvdram[dramoffset_kvs + i].data[3].value = mykeyvalue3.value;
		kvdram[dramoffset_kvs + i].data[4].key = mykeyvalue4.key;
		kvdram[dramoffset_kvs + i].data[4].value = mykeyvalue4.value;
		kvdram[dramoffset_kvs + i].data[5].key = mykeyvalue5.key;
		kvdram[dramoffset_kvs + i].data[5].value = mykeyvalue5.value;
		kvdram[dramoffset_kvs + i].data[6].key = mykeyvalue6.key;
		kvdram[dramoffset_kvs + i].data[6].value = mykeyvalue6.value;
		kvdram[dramoffset_kvs + i].data[7].key = mykeyvalue7.key;
		kvdram[dramoffset_kvs + i].data[7].value = mykeyvalue7.value;
		#endif 
		
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvswritten(VECTOR_SIZE);
		#endif
	}
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"savekeyvalues:: vertices saved: offset: "<<dramoffset_kvs * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<<endl;
	#endif
	#ifdef _DEBUGMODE_KERNELPRINTS2
	if(dramoffset_kvs >= globalparams.BASEOFFSETKVS_VERTEXPTR && dramoffset_kvs < globalparams.BASEOFFSETKVS_VERTEXPTR + VERTEXPTRSSZ_KVS){ cout<< TIMINGRESULTSCOLOR<<"savekeyvalues:: vertices saved: offset: "<<dramoffset_kvs-globalparams.BASEOFFSETKVS_VERTEXPTR * VECTOR_SIZE<<"-"<<((dramoffset_kvs + size_kvs)-globalparams.BASEOFFSETKVS_VERTEXPTR) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<< RESET<<endl; }
	if(dramoffset_kvs >= globalparams.BASEOFFSETKVS_DESTVERTICESDATA && dramoffset_kvs < globalparams.BASEOFFSETKVS_DESTVERTICESDATA + VERTICESDATASZ_KVS){ cout<< TIMINGRESULTSCOLOR<<"savekeyvalues:: vertices saved: offset: "<<(dramoffset_kvs-globalparams.BASEOFFSETKVS_DESTVERTICESDATA) * VECTOR_SIZE<<"-"<<((dramoffset_kvs-globalparams.BASEOFFSETKVS_DESTVERTICESDATA) + size_kvs) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<< RESET<<endl; }					
	#endif
	return;
}

// -------------------- vdata -------------------- //
void acts_all::MEMACCESS_SPL_GetXYLayoutV(unsigned int s, value_t vdata[VECTOR2_SIZE], value_t vdata2[VECTOR2_SIZE], unsigned int depths[VECTOR2_SIZE], unsigned int basedepth){
	unsigned int s_ = s % VECTOR2_SIZE;
	unsigned int depths_tmp[VECTOR2_SIZE];
	
 if(s_==0){ 
		vdata2[0] = vdata[0]; 
		vdata2[1] = vdata[1]; 
		vdata2[2] = vdata[2]; 
		vdata2[3] = vdata[3]; 
		vdata2[4] = vdata[4]; 
		vdata2[5] = vdata[5]; 
		vdata2[6] = vdata[6]; 
		vdata2[7] = vdata[7]; 
		vdata2[8] = vdata[8]; 
		vdata2[9] = vdata[9]; 
		vdata2[10] = vdata[10]; 
		vdata2[11] = vdata[11]; 
		vdata2[12] = vdata[12]; 
		vdata2[13] = vdata[13]; 
		vdata2[14] = vdata[14]; 
		vdata2[15] = vdata[15]; 
		
		depths_tmp[0] = 0; 
		depths_tmp[1] = 1; 
		depths_tmp[2] = 2; 
		depths_tmp[3] = 3; 
		depths_tmp[4] = 4; 
		depths_tmp[5] = 5; 
		depths_tmp[6] = 6; 
		depths_tmp[7] = 7; 
		depths_tmp[8] = 8; 
		depths_tmp[9] = 9; 
		depths_tmp[10] = 10; 
		depths_tmp[11] = 11; 
		depths_tmp[12] = 12; 
		depths_tmp[13] = 13; 
		depths_tmp[14] = 14; 
		depths_tmp[15] = 15; 
	}
else if(s_==1){ 
		vdata2[0] = vdata[15]; 
		vdata2[1] = vdata[0]; 
		vdata2[2] = vdata[1]; 
		vdata2[3] = vdata[2]; 
		vdata2[4] = vdata[3]; 
		vdata2[5] = vdata[4]; 
		vdata2[6] = vdata[5]; 
		vdata2[7] = vdata[6]; 
		vdata2[8] = vdata[7]; 
		vdata2[9] = vdata[8]; 
		vdata2[10] = vdata[9]; 
		vdata2[11] = vdata[10]; 
		vdata2[12] = vdata[11]; 
		vdata2[13] = vdata[12]; 
		vdata2[14] = vdata[13]; 
		vdata2[15] = vdata[14]; 
		
		depths_tmp[0] = 15; 
		depths_tmp[1] = 0; 
		depths_tmp[2] = 1; 
		depths_tmp[3] = 2; 
		depths_tmp[4] = 3; 
		depths_tmp[5] = 4; 
		depths_tmp[6] = 5; 
		depths_tmp[7] = 6; 
		depths_tmp[8] = 7; 
		depths_tmp[9] = 8; 
		depths_tmp[10] = 9; 
		depths_tmp[11] = 10; 
		depths_tmp[12] = 11; 
		depths_tmp[13] = 12; 
		depths_tmp[14] = 13; 
		depths_tmp[15] = 14; 
	}
else if(s_==2){ 
		vdata2[0] = vdata[14]; 
		vdata2[1] = vdata[15]; 
		vdata2[2] = vdata[0]; 
		vdata2[3] = vdata[1]; 
		vdata2[4] = vdata[2]; 
		vdata2[5] = vdata[3]; 
		vdata2[6] = vdata[4]; 
		vdata2[7] = vdata[5]; 
		vdata2[8] = vdata[6]; 
		vdata2[9] = vdata[7]; 
		vdata2[10] = vdata[8]; 
		vdata2[11] = vdata[9]; 
		vdata2[12] = vdata[10]; 
		vdata2[13] = vdata[11]; 
		vdata2[14] = vdata[12]; 
		vdata2[15] = vdata[13]; 
		
		depths_tmp[0] = 14; 
		depths_tmp[1] = 15; 
		depths_tmp[2] = 0; 
		depths_tmp[3] = 1; 
		depths_tmp[4] = 2; 
		depths_tmp[5] = 3; 
		depths_tmp[6] = 4; 
		depths_tmp[7] = 5; 
		depths_tmp[8] = 6; 
		depths_tmp[9] = 7; 
		depths_tmp[10] = 8; 
		depths_tmp[11] = 9; 
		depths_tmp[12] = 10; 
		depths_tmp[13] = 11; 
		depths_tmp[14] = 12; 
		depths_tmp[15] = 13; 
	}
else if(s_==3){ 
		vdata2[0] = vdata[13]; 
		vdata2[1] = vdata[14]; 
		vdata2[2] = vdata[15]; 
		vdata2[3] = vdata[0]; 
		vdata2[4] = vdata[1]; 
		vdata2[5] = vdata[2]; 
		vdata2[6] = vdata[3]; 
		vdata2[7] = vdata[4]; 
		vdata2[8] = vdata[5]; 
		vdata2[9] = vdata[6]; 
		vdata2[10] = vdata[7]; 
		vdata2[11] = vdata[8]; 
		vdata2[12] = vdata[9]; 
		vdata2[13] = vdata[10]; 
		vdata2[14] = vdata[11]; 
		vdata2[15] = vdata[12]; 
		
		depths_tmp[0] = 13; 
		depths_tmp[1] = 14; 
		depths_tmp[2] = 15; 
		depths_tmp[3] = 0; 
		depths_tmp[4] = 1; 
		depths_tmp[5] = 2; 
		depths_tmp[6] = 3; 
		depths_tmp[7] = 4; 
		depths_tmp[8] = 5; 
		depths_tmp[9] = 6; 
		depths_tmp[10] = 7; 
		depths_tmp[11] = 8; 
		depths_tmp[12] = 9; 
		depths_tmp[13] = 10; 
		depths_tmp[14] = 11; 
		depths_tmp[15] = 12; 
	}
else if(s_==4){ 
		vdata2[0] = vdata[12]; 
		vdata2[1] = vdata[13]; 
		vdata2[2] = vdata[14]; 
		vdata2[3] = vdata[15]; 
		vdata2[4] = vdata[0]; 
		vdata2[5] = vdata[1]; 
		vdata2[6] = vdata[2]; 
		vdata2[7] = vdata[3]; 
		vdata2[8] = vdata[4]; 
		vdata2[9] = vdata[5]; 
		vdata2[10] = vdata[6]; 
		vdata2[11] = vdata[7]; 
		vdata2[12] = vdata[8]; 
		vdata2[13] = vdata[9]; 
		vdata2[14] = vdata[10]; 
		vdata2[15] = vdata[11]; 
		
		depths_tmp[0] = 12; 
		depths_tmp[1] = 13; 
		depths_tmp[2] = 14; 
		depths_tmp[3] = 15; 
		depths_tmp[4] = 0; 
		depths_tmp[5] = 1; 
		depths_tmp[6] = 2; 
		depths_tmp[7] = 3; 
		depths_tmp[8] = 4; 
		depths_tmp[9] = 5; 
		depths_tmp[10] = 6; 
		depths_tmp[11] = 7; 
		depths_tmp[12] = 8; 
		depths_tmp[13] = 9; 
		depths_tmp[14] = 10; 
		depths_tmp[15] = 11; 
	}
else if(s_==5){ 
		vdata2[0] = vdata[11]; 
		vdata2[1] = vdata[12]; 
		vdata2[2] = vdata[13]; 
		vdata2[3] = vdata[14]; 
		vdata2[4] = vdata[15]; 
		vdata2[5] = vdata[0]; 
		vdata2[6] = vdata[1]; 
		vdata2[7] = vdata[2]; 
		vdata2[8] = vdata[3]; 
		vdata2[9] = vdata[4]; 
		vdata2[10] = vdata[5]; 
		vdata2[11] = vdata[6]; 
		vdata2[12] = vdata[7]; 
		vdata2[13] = vdata[8]; 
		vdata2[14] = vdata[9]; 
		vdata2[15] = vdata[10]; 
		
		depths_tmp[0] = 11; 
		depths_tmp[1] = 12; 
		depths_tmp[2] = 13; 
		depths_tmp[3] = 14; 
		depths_tmp[4] = 15; 
		depths_tmp[5] = 0; 
		depths_tmp[6] = 1; 
		depths_tmp[7] = 2; 
		depths_tmp[8] = 3; 
		depths_tmp[9] = 4; 
		depths_tmp[10] = 5; 
		depths_tmp[11] = 6; 
		depths_tmp[12] = 7; 
		depths_tmp[13] = 8; 
		depths_tmp[14] = 9; 
		depths_tmp[15] = 10; 
	}
else if(s_==6){ 
		vdata2[0] = vdata[10]; 
		vdata2[1] = vdata[11]; 
		vdata2[2] = vdata[12]; 
		vdata2[3] = vdata[13]; 
		vdata2[4] = vdata[14]; 
		vdata2[5] = vdata[15]; 
		vdata2[6] = vdata[0]; 
		vdata2[7] = vdata[1]; 
		vdata2[8] = vdata[2]; 
		vdata2[9] = vdata[3]; 
		vdata2[10] = vdata[4]; 
		vdata2[11] = vdata[5]; 
		vdata2[12] = vdata[6]; 
		vdata2[13] = vdata[7]; 
		vdata2[14] = vdata[8]; 
		vdata2[15] = vdata[9]; 
		
		depths_tmp[0] = 10; 
		depths_tmp[1] = 11; 
		depths_tmp[2] = 12; 
		depths_tmp[3] = 13; 
		depths_tmp[4] = 14; 
		depths_tmp[5] = 15; 
		depths_tmp[6] = 0; 
		depths_tmp[7] = 1; 
		depths_tmp[8] = 2; 
		depths_tmp[9] = 3; 
		depths_tmp[10] = 4; 
		depths_tmp[11] = 5; 
		depths_tmp[12] = 6; 
		depths_tmp[13] = 7; 
		depths_tmp[14] = 8; 
		depths_tmp[15] = 9; 
	}
else if(s_==7){ 
		vdata2[0] = vdata[9]; 
		vdata2[1] = vdata[10]; 
		vdata2[2] = vdata[11]; 
		vdata2[3] = vdata[12]; 
		vdata2[4] = vdata[13]; 
		vdata2[5] = vdata[14]; 
		vdata2[6] = vdata[15]; 
		vdata2[7] = vdata[0]; 
		vdata2[8] = vdata[1]; 
		vdata2[9] = vdata[2]; 
		vdata2[10] = vdata[3]; 
		vdata2[11] = vdata[4]; 
		vdata2[12] = vdata[5]; 
		vdata2[13] = vdata[6]; 
		vdata2[14] = vdata[7]; 
		vdata2[15] = vdata[8]; 
		
		depths_tmp[0] = 9; 
		depths_tmp[1] = 10; 
		depths_tmp[2] = 11; 
		depths_tmp[3] = 12; 
		depths_tmp[4] = 13; 
		depths_tmp[5] = 14; 
		depths_tmp[6] = 15; 
		depths_tmp[7] = 0; 
		depths_tmp[8] = 1; 
		depths_tmp[9] = 2; 
		depths_tmp[10] = 3; 
		depths_tmp[11] = 4; 
		depths_tmp[12] = 5; 
		depths_tmp[13] = 6; 
		depths_tmp[14] = 7; 
		depths_tmp[15] = 8; 
	}
else if(s_==8){ 
		vdata2[0] = vdata[8]; 
		vdata2[1] = vdata[9]; 
		vdata2[2] = vdata[10]; 
		vdata2[3] = vdata[11]; 
		vdata2[4] = vdata[12]; 
		vdata2[5] = vdata[13]; 
		vdata2[6] = vdata[14]; 
		vdata2[7] = vdata[15]; 
		vdata2[8] = vdata[0]; 
		vdata2[9] = vdata[1]; 
		vdata2[10] = vdata[2]; 
		vdata2[11] = vdata[3]; 
		vdata2[12] = vdata[4]; 
		vdata2[13] = vdata[5]; 
		vdata2[14] = vdata[6]; 
		vdata2[15] = vdata[7]; 
		
		depths_tmp[0] = 8; 
		depths_tmp[1] = 9; 
		depths_tmp[2] = 10; 
		depths_tmp[3] = 11; 
		depths_tmp[4] = 12; 
		depths_tmp[5] = 13; 
		depths_tmp[6] = 14; 
		depths_tmp[7] = 15; 
		depths_tmp[8] = 0; 
		depths_tmp[9] = 1; 
		depths_tmp[10] = 2; 
		depths_tmp[11] = 3; 
		depths_tmp[12] = 4; 
		depths_tmp[13] = 5; 
		depths_tmp[14] = 6; 
		depths_tmp[15] = 7; 
	}
else if(s_==9){ 
		vdata2[0] = vdata[7]; 
		vdata2[1] = vdata[8]; 
		vdata2[2] = vdata[9]; 
		vdata2[3] = vdata[10]; 
		vdata2[4] = vdata[11]; 
		vdata2[5] = vdata[12]; 
		vdata2[6] = vdata[13]; 
		vdata2[7] = vdata[14]; 
		vdata2[8] = vdata[15]; 
		vdata2[9] = vdata[0]; 
		vdata2[10] = vdata[1]; 
		vdata2[11] = vdata[2]; 
		vdata2[12] = vdata[3]; 
		vdata2[13] = vdata[4]; 
		vdata2[14] = vdata[5]; 
		vdata2[15] = vdata[6]; 
		
		depths_tmp[0] = 7; 
		depths_tmp[1] = 8; 
		depths_tmp[2] = 9; 
		depths_tmp[3] = 10; 
		depths_tmp[4] = 11; 
		depths_tmp[5] = 12; 
		depths_tmp[6] = 13; 
		depths_tmp[7] = 14; 
		depths_tmp[8] = 15; 
		depths_tmp[9] = 0; 
		depths_tmp[10] = 1; 
		depths_tmp[11] = 2; 
		depths_tmp[12] = 3; 
		depths_tmp[13] = 4; 
		depths_tmp[14] = 5; 
		depths_tmp[15] = 6; 
	}
else if(s_==10){ 
		vdata2[0] = vdata[6]; 
		vdata2[1] = vdata[7]; 
		vdata2[2] = vdata[8]; 
		vdata2[3] = vdata[9]; 
		vdata2[4] = vdata[10]; 
		vdata2[5] = vdata[11]; 
		vdata2[6] = vdata[12]; 
		vdata2[7] = vdata[13]; 
		vdata2[8] = vdata[14]; 
		vdata2[9] = vdata[15]; 
		vdata2[10] = vdata[0]; 
		vdata2[11] = vdata[1]; 
		vdata2[12] = vdata[2]; 
		vdata2[13] = vdata[3]; 
		vdata2[14] = vdata[4]; 
		vdata2[15] = vdata[5]; 
		
		depths_tmp[0] = 6; 
		depths_tmp[1] = 7; 
		depths_tmp[2] = 8; 
		depths_tmp[3] = 9; 
		depths_tmp[4] = 10; 
		depths_tmp[5] = 11; 
		depths_tmp[6] = 12; 
		depths_tmp[7] = 13; 
		depths_tmp[8] = 14; 
		depths_tmp[9] = 15; 
		depths_tmp[10] = 0; 
		depths_tmp[11] = 1; 
		depths_tmp[12] = 2; 
		depths_tmp[13] = 3; 
		depths_tmp[14] = 4; 
		depths_tmp[15] = 5; 
	}
else if(s_==11){ 
		vdata2[0] = vdata[5]; 
		vdata2[1] = vdata[6]; 
		vdata2[2] = vdata[7]; 
		vdata2[3] = vdata[8]; 
		vdata2[4] = vdata[9]; 
		vdata2[5] = vdata[10]; 
		vdata2[6] = vdata[11]; 
		vdata2[7] = vdata[12]; 
		vdata2[8] = vdata[13]; 
		vdata2[9] = vdata[14]; 
		vdata2[10] = vdata[15]; 
		vdata2[11] = vdata[0]; 
		vdata2[12] = vdata[1]; 
		vdata2[13] = vdata[2]; 
		vdata2[14] = vdata[3]; 
		vdata2[15] = vdata[4]; 
		
		depths_tmp[0] = 5; 
		depths_tmp[1] = 6; 
		depths_tmp[2] = 7; 
		depths_tmp[3] = 8; 
		depths_tmp[4] = 9; 
		depths_tmp[5] = 10; 
		depths_tmp[6] = 11; 
		depths_tmp[7] = 12; 
		depths_tmp[8] = 13; 
		depths_tmp[9] = 14; 
		depths_tmp[10] = 15; 
		depths_tmp[11] = 0; 
		depths_tmp[12] = 1; 
		depths_tmp[13] = 2; 
		depths_tmp[14] = 3; 
		depths_tmp[15] = 4; 
	}
else if(s_==12){ 
		vdata2[0] = vdata[4]; 
		vdata2[1] = vdata[5]; 
		vdata2[2] = vdata[6]; 
		vdata2[3] = vdata[7]; 
		vdata2[4] = vdata[8]; 
		vdata2[5] = vdata[9]; 
		vdata2[6] = vdata[10]; 
		vdata2[7] = vdata[11]; 
		vdata2[8] = vdata[12]; 
		vdata2[9] = vdata[13]; 
		vdata2[10] = vdata[14]; 
		vdata2[11] = vdata[15]; 
		vdata2[12] = vdata[0]; 
		vdata2[13] = vdata[1]; 
		vdata2[14] = vdata[2]; 
		vdata2[15] = vdata[3]; 
		
		depths_tmp[0] = 4; 
		depths_tmp[1] = 5; 
		depths_tmp[2] = 6; 
		depths_tmp[3] = 7; 
		depths_tmp[4] = 8; 
		depths_tmp[5] = 9; 
		depths_tmp[6] = 10; 
		depths_tmp[7] = 11; 
		depths_tmp[8] = 12; 
		depths_tmp[9] = 13; 
		depths_tmp[10] = 14; 
		depths_tmp[11] = 15; 
		depths_tmp[12] = 0; 
		depths_tmp[13] = 1; 
		depths_tmp[14] = 2; 
		depths_tmp[15] = 3; 
	}
else if(s_==13){ 
		vdata2[0] = vdata[3]; 
		vdata2[1] = vdata[4]; 
		vdata2[2] = vdata[5]; 
		vdata2[3] = vdata[6]; 
		vdata2[4] = vdata[7]; 
		vdata2[5] = vdata[8]; 
		vdata2[6] = vdata[9]; 
		vdata2[7] = vdata[10]; 
		vdata2[8] = vdata[11]; 
		vdata2[9] = vdata[12]; 
		vdata2[10] = vdata[13]; 
		vdata2[11] = vdata[14]; 
		vdata2[12] = vdata[15]; 
		vdata2[13] = vdata[0]; 
		vdata2[14] = vdata[1]; 
		vdata2[15] = vdata[2]; 
		
		depths_tmp[0] = 3; 
		depths_tmp[1] = 4; 
		depths_tmp[2] = 5; 
		depths_tmp[3] = 6; 
		depths_tmp[4] = 7; 
		depths_tmp[5] = 8; 
		depths_tmp[6] = 9; 
		depths_tmp[7] = 10; 
		depths_tmp[8] = 11; 
		depths_tmp[9] = 12; 
		depths_tmp[10] = 13; 
		depths_tmp[11] = 14; 
		depths_tmp[12] = 15; 
		depths_tmp[13] = 0; 
		depths_tmp[14] = 1; 
		depths_tmp[15] = 2; 
	}
else if(s_==14){ 
		vdata2[0] = vdata[2]; 
		vdata2[1] = vdata[3]; 
		vdata2[2] = vdata[4]; 
		vdata2[3] = vdata[5]; 
		vdata2[4] = vdata[6]; 
		vdata2[5] = vdata[7]; 
		vdata2[6] = vdata[8]; 
		vdata2[7] = vdata[9]; 
		vdata2[8] = vdata[10]; 
		vdata2[9] = vdata[11]; 
		vdata2[10] = vdata[12]; 
		vdata2[11] = vdata[13]; 
		vdata2[12] = vdata[14]; 
		vdata2[13] = vdata[15]; 
		vdata2[14] = vdata[0]; 
		vdata2[15] = vdata[1]; 
		
		depths_tmp[0] = 2; 
		depths_tmp[1] = 3; 
		depths_tmp[2] = 4; 
		depths_tmp[3] = 5; 
		depths_tmp[4] = 6; 
		depths_tmp[5] = 7; 
		depths_tmp[6] = 8; 
		depths_tmp[7] = 9; 
		depths_tmp[8] = 10; 
		depths_tmp[9] = 11; 
		depths_tmp[10] = 12; 
		depths_tmp[11] = 13; 
		depths_tmp[12] = 14; 
		depths_tmp[13] = 15; 
		depths_tmp[14] = 0; 
		depths_tmp[15] = 1; 
	}
else { 
		vdata2[0] = vdata[1]; 
		vdata2[1] = vdata[2]; 
		vdata2[2] = vdata[3]; 
		vdata2[3] = vdata[4]; 
		vdata2[4] = vdata[5]; 
		vdata2[5] = vdata[6]; 
		vdata2[6] = vdata[7]; 
		vdata2[7] = vdata[8]; 
		vdata2[8] = vdata[9]; 
		vdata2[9] = vdata[10]; 
		vdata2[10] = vdata[11]; 
		vdata2[11] = vdata[12]; 
		vdata2[12] = vdata[13]; 
		vdata2[13] = vdata[14]; 
		vdata2[14] = vdata[15]; 
		vdata2[15] = vdata[0]; 
		
		depths_tmp[0] = 1; 
		depths_tmp[1] = 2; 
		depths_tmp[2] = 3; 
		depths_tmp[3] = 4; 
		depths_tmp[4] = 5; 
		depths_tmp[5] = 6; 
		depths_tmp[6] = 7; 
		depths_tmp[7] = 8; 
		depths_tmp[8] = 9; 
		depths_tmp[9] = 10; 
		depths_tmp[10] = 11; 
		depths_tmp[11] = 12; 
		depths_tmp[12] = 13; 
		depths_tmp[13] = 14; 
		depths_tmp[14] = 15; 
		depths_tmp[15] = 0; 
	}
	
	depths[0] = basedepth + depths_tmp[0]; 
	depths[1] = basedepth + depths_tmp[1]; 
	depths[2] = basedepth + depths_tmp[2]; 
	depths[3] = basedepth + depths_tmp[3]; 
	depths[4] = basedepth + depths_tmp[4]; 
	depths[5] = basedepth + depths_tmp[5]; 
	depths[6] = basedepth + depths_tmp[6]; 
	depths[7] = basedepth + depths_tmp[7]; 
	depths[8] = basedepth + depths_tmp[8]; 
	depths[9] = basedepth + depths_tmp[9]; 
	depths[10] = basedepth + depths_tmp[10]; 
	depths[11] = basedepth + depths_tmp[11]; 
	depths[12] = basedepth + depths_tmp[12]; 
	depths[13] = basedepth + depths_tmp[13]; 
	depths[14] = basedepth + depths_tmp[14]; 
	depths[15] = basedepth + depths_tmp[15]; 
	return;
}

void acts_all::MEMACCESS_SPL_RearrangeLayoutV(unsigned int s, value_t vdata[VECTOR2_SIZE], value_t vdata2[VECTOR2_SIZE]){
	unsigned int s_ = s % VECTOR2_SIZE;
 if(s_==0){ 
		vdata2[0] = vdata[0]; 
		vdata2[1] = vdata[1]; 
		vdata2[2] = vdata[2]; 
		vdata2[3] = vdata[3]; 
		vdata2[4] = vdata[4]; 
		vdata2[5] = vdata[5]; 
		vdata2[6] = vdata[6]; 
		vdata2[7] = vdata[7]; 
		vdata2[8] = vdata[8]; 
		vdata2[9] = vdata[9]; 
		vdata2[10] = vdata[10]; 
		vdata2[11] = vdata[11]; 
		vdata2[12] = vdata[12]; 
		vdata2[13] = vdata[13]; 
		vdata2[14] = vdata[14]; 
		vdata2[15] = vdata[15]; 
	}
else if(s_==1){ 
		vdata2[15] = vdata[0]; 
		vdata2[0] = vdata[1]; 
		vdata2[1] = vdata[2]; 
		vdata2[2] = vdata[3]; 
		vdata2[3] = vdata[4]; 
		vdata2[4] = vdata[5]; 
		vdata2[5] = vdata[6]; 
		vdata2[6] = vdata[7]; 
		vdata2[7] = vdata[8]; 
		vdata2[8] = vdata[9]; 
		vdata2[9] = vdata[10]; 
		vdata2[10] = vdata[11]; 
		vdata2[11] = vdata[12]; 
		vdata2[12] = vdata[13]; 
		vdata2[13] = vdata[14]; 
		vdata2[14] = vdata[15]; 
	}
else if(s_==2){ 
		vdata2[14] = vdata[0]; 
		vdata2[15] = vdata[1]; 
		vdata2[0] = vdata[2]; 
		vdata2[1] = vdata[3]; 
		vdata2[2] = vdata[4]; 
		vdata2[3] = vdata[5]; 
		vdata2[4] = vdata[6]; 
		vdata2[5] = vdata[7]; 
		vdata2[6] = vdata[8]; 
		vdata2[7] = vdata[9]; 
		vdata2[8] = vdata[10]; 
		vdata2[9] = vdata[11]; 
		vdata2[10] = vdata[12]; 
		vdata2[11] = vdata[13]; 
		vdata2[12] = vdata[14]; 
		vdata2[13] = vdata[15]; 
	}
else if(s_==3){ 
		vdata2[13] = vdata[0]; 
		vdata2[14] = vdata[1]; 
		vdata2[15] = vdata[2]; 
		vdata2[0] = vdata[3]; 
		vdata2[1] = vdata[4]; 
		vdata2[2] = vdata[5]; 
		vdata2[3] = vdata[6]; 
		vdata2[4] = vdata[7]; 
		vdata2[5] = vdata[8]; 
		vdata2[6] = vdata[9]; 
		vdata2[7] = vdata[10]; 
		vdata2[8] = vdata[11]; 
		vdata2[9] = vdata[12]; 
		vdata2[10] = vdata[13]; 
		vdata2[11] = vdata[14]; 
		vdata2[12] = vdata[15]; 
	}
else if(s_==4){ 
		vdata2[12] = vdata[0]; 
		vdata2[13] = vdata[1]; 
		vdata2[14] = vdata[2]; 
		vdata2[15] = vdata[3]; 
		vdata2[0] = vdata[4]; 
		vdata2[1] = vdata[5]; 
		vdata2[2] = vdata[6]; 
		vdata2[3] = vdata[7]; 
		vdata2[4] = vdata[8]; 
		vdata2[5] = vdata[9]; 
		vdata2[6] = vdata[10]; 
		vdata2[7] = vdata[11]; 
		vdata2[8] = vdata[12]; 
		vdata2[9] = vdata[13]; 
		vdata2[10] = vdata[14]; 
		vdata2[11] = vdata[15]; 
	}
else if(s_==5){ 
		vdata2[11] = vdata[0]; 
		vdata2[12] = vdata[1]; 
		vdata2[13] = vdata[2]; 
		vdata2[14] = vdata[3]; 
		vdata2[15] = vdata[4]; 
		vdata2[0] = vdata[5]; 
		vdata2[1] = vdata[6]; 
		vdata2[2] = vdata[7]; 
		vdata2[3] = vdata[8]; 
		vdata2[4] = vdata[9]; 
		vdata2[5] = vdata[10]; 
		vdata2[6] = vdata[11]; 
		vdata2[7] = vdata[12]; 
		vdata2[8] = vdata[13]; 
		vdata2[9] = vdata[14]; 
		vdata2[10] = vdata[15]; 
	}
else if(s_==6){ 
		vdata2[10] = vdata[0]; 
		vdata2[11] = vdata[1]; 
		vdata2[12] = vdata[2]; 
		vdata2[13] = vdata[3]; 
		vdata2[14] = vdata[4]; 
		vdata2[15] = vdata[5]; 
		vdata2[0] = vdata[6]; 
		vdata2[1] = vdata[7]; 
		vdata2[2] = vdata[8]; 
		vdata2[3] = vdata[9]; 
		vdata2[4] = vdata[10]; 
		vdata2[5] = vdata[11]; 
		vdata2[6] = vdata[12]; 
		vdata2[7] = vdata[13]; 
		vdata2[8] = vdata[14]; 
		vdata2[9] = vdata[15]; 
	}
else if(s_==7){ 
		vdata2[9] = vdata[0]; 
		vdata2[10] = vdata[1]; 
		vdata2[11] = vdata[2]; 
		vdata2[12] = vdata[3]; 
		vdata2[13] = vdata[4]; 
		vdata2[14] = vdata[5]; 
		vdata2[15] = vdata[6]; 
		vdata2[0] = vdata[7]; 
		vdata2[1] = vdata[8]; 
		vdata2[2] = vdata[9]; 
		vdata2[3] = vdata[10]; 
		vdata2[4] = vdata[11]; 
		vdata2[5] = vdata[12]; 
		vdata2[6] = vdata[13]; 
		vdata2[7] = vdata[14]; 
		vdata2[8] = vdata[15]; 
	}
else if(s_==8){ 
		vdata2[8] = vdata[0]; 
		vdata2[9] = vdata[1]; 
		vdata2[10] = vdata[2]; 
		vdata2[11] = vdata[3]; 
		vdata2[12] = vdata[4]; 
		vdata2[13] = vdata[5]; 
		vdata2[14] = vdata[6]; 
		vdata2[15] = vdata[7]; 
		vdata2[0] = vdata[8]; 
		vdata2[1] = vdata[9]; 
		vdata2[2] = vdata[10]; 
		vdata2[3] = vdata[11]; 
		vdata2[4] = vdata[12]; 
		vdata2[5] = vdata[13]; 
		vdata2[6] = vdata[14]; 
		vdata2[7] = vdata[15]; 
	}
else if(s_==9){ 
		vdata2[7] = vdata[0]; 
		vdata2[8] = vdata[1]; 
		vdata2[9] = vdata[2]; 
		vdata2[10] = vdata[3]; 
		vdata2[11] = vdata[4]; 
		vdata2[12] = vdata[5]; 
		vdata2[13] = vdata[6]; 
		vdata2[14] = vdata[7]; 
		vdata2[15] = vdata[8]; 
		vdata2[0] = vdata[9]; 
		vdata2[1] = vdata[10]; 
		vdata2[2] = vdata[11]; 
		vdata2[3] = vdata[12]; 
		vdata2[4] = vdata[13]; 
		vdata2[5] = vdata[14]; 
		vdata2[6] = vdata[15]; 
	}
else if(s_==10){ 
		vdata2[6] = vdata[0]; 
		vdata2[7] = vdata[1]; 
		vdata2[8] = vdata[2]; 
		vdata2[9] = vdata[3]; 
		vdata2[10] = vdata[4]; 
		vdata2[11] = vdata[5]; 
		vdata2[12] = vdata[6]; 
		vdata2[13] = vdata[7]; 
		vdata2[14] = vdata[8]; 
		vdata2[15] = vdata[9]; 
		vdata2[0] = vdata[10]; 
		vdata2[1] = vdata[11]; 
		vdata2[2] = vdata[12]; 
		vdata2[3] = vdata[13]; 
		vdata2[4] = vdata[14]; 
		vdata2[5] = vdata[15]; 
	}
else if(s_==11){ 
		vdata2[5] = vdata[0]; 
		vdata2[6] = vdata[1]; 
		vdata2[7] = vdata[2]; 
		vdata2[8] = vdata[3]; 
		vdata2[9] = vdata[4]; 
		vdata2[10] = vdata[5]; 
		vdata2[11] = vdata[6]; 
		vdata2[12] = vdata[7]; 
		vdata2[13] = vdata[8]; 
		vdata2[14] = vdata[9]; 
		vdata2[15] = vdata[10]; 
		vdata2[0] = vdata[11]; 
		vdata2[1] = vdata[12]; 
		vdata2[2] = vdata[13]; 
		vdata2[3] = vdata[14]; 
		vdata2[4] = vdata[15]; 
	}
else if(s_==12){ 
		vdata2[4] = vdata[0]; 
		vdata2[5] = vdata[1]; 
		vdata2[6] = vdata[2]; 
		vdata2[7] = vdata[3]; 
		vdata2[8] = vdata[4]; 
		vdata2[9] = vdata[5]; 
		vdata2[10] = vdata[6]; 
		vdata2[11] = vdata[7]; 
		vdata2[12] = vdata[8]; 
		vdata2[13] = vdata[9]; 
		vdata2[14] = vdata[10]; 
		vdata2[15] = vdata[11]; 
		vdata2[0] = vdata[12]; 
		vdata2[1] = vdata[13]; 
		vdata2[2] = vdata[14]; 
		vdata2[3] = vdata[15]; 
	}
else if(s_==13){ 
		vdata2[3] = vdata[0]; 
		vdata2[4] = vdata[1]; 
		vdata2[5] = vdata[2]; 
		vdata2[6] = vdata[3]; 
		vdata2[7] = vdata[4]; 
		vdata2[8] = vdata[5]; 
		vdata2[9] = vdata[6]; 
		vdata2[10] = vdata[7]; 
		vdata2[11] = vdata[8]; 
		vdata2[12] = vdata[9]; 
		vdata2[13] = vdata[10]; 
		vdata2[14] = vdata[11]; 
		vdata2[15] = vdata[12]; 
		vdata2[0] = vdata[13]; 
		vdata2[1] = vdata[14]; 
		vdata2[2] = vdata[15]; 
	}
else if(s_==14){ 
		vdata2[2] = vdata[0]; 
		vdata2[3] = vdata[1]; 
		vdata2[4] = vdata[2]; 
		vdata2[5] = vdata[3]; 
		vdata2[6] = vdata[4]; 
		vdata2[7] = vdata[5]; 
		vdata2[8] = vdata[6]; 
		vdata2[9] = vdata[7]; 
		vdata2[10] = vdata[8]; 
		vdata2[11] = vdata[9]; 
		vdata2[12] = vdata[10]; 
		vdata2[13] = vdata[11]; 
		vdata2[14] = vdata[12]; 
		vdata2[15] = vdata[13]; 
		vdata2[0] = vdata[14]; 
		vdata2[1] = vdata[15]; 
	}
else { 
		vdata2[1] = vdata[0]; 
		vdata2[2] = vdata[1]; 
		vdata2[3] = vdata[2]; 
		vdata2[4] = vdata[3]; 
		vdata2[5] = vdata[4]; 
		vdata2[6] = vdata[5]; 
		vdata2[7] = vdata[6]; 
		vdata2[8] = vdata[7]; 
		vdata2[9] = vdata[8]; 
		vdata2[10] = vdata[9]; 
		vdata2[11] = vdata[10]; 
		vdata2[12] = vdata[11]; 
		vdata2[13] = vdata[12]; 
		vdata2[14] = vdata[13]; 
		vdata2[15] = vdata[14]; 
		vdata2[0] = vdata[15]; 
	}
	return;
}

void acts_all::MEMACCESS_SPL_readvdata(bool_type enable, uint512_dt * kvdram, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs, batch_type bufferoffset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount =  REDUCESZ / 2;
	
	unsigned int index = 0;
	value_t vdata[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=vdata complete
	keyvalue_t keyvalue0; keyvalue0.key = 777; keyvalue0.value = 777;
	keyvalue_t keyvalue1; keyvalue1.key = 777; keyvalue1.value = 777;
	keyvalue_t keyvalue2; keyvalue2.key = 777; keyvalue2.value = 777;
	keyvalue_t keyvalue3; keyvalue3.key = 777; keyvalue3.value = 777;
	keyvalue_t keyvalue4; keyvalue4.key = 777; keyvalue4.value = 777;
	keyvalue_t keyvalue5; keyvalue5.key = 777; keyvalue5.value = 777;
	keyvalue_t keyvalue6; keyvalue6.key = 777; keyvalue6.value = 777;
	keyvalue_t keyvalue7; keyvalue7.key = 777; keyvalue7.value = 777;
	keyvalue_t keyvalue8; keyvalue8.key = 777; keyvalue8.value = 777;
	keyvalue_t keyvalue9; keyvalue9.key = 777; keyvalue9.value = 777;
	keyvalue_t keyvalue10; keyvalue10.key = 777; keyvalue10.value = 777;
	keyvalue_t keyvalue11; keyvalue11.key = 777; keyvalue11.value = 777;
	keyvalue_t keyvalue12; keyvalue12.key = 777; keyvalue12.value = 777;
	keyvalue_t keyvalue13; keyvalue13.key = 777; keyvalue13.value = 777;
	keyvalue_t keyvalue14; keyvalue14.key = 777; keyvalue14.value = 777;
	keyvalue_t keyvalue15; keyvalue15.key = 777; keyvalue15.value = 777;
	
	READVDATA_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1	
MEMCA_READFROMKVDRAM_VDATASANDVMASKS(i, kvdram, vdata, baseoffset_kvs, offset_kvs);
MEMCA_WRITETOBUFFER_VDATAS(bufferoffset_kvs + i, buffer, vdata, 0);	
		
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvswritten(VECTOR_SIZE);
		#endif
	}
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"savevdata:: vertices saved: offset: "<<dramoffset_kvs * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<<endl;
	#endif
	return;
}

void acts_all::MEMACCESS_SPL_readvdata_slide(bool_type enable, unsigned int s, uint512_dt * kvdram, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs, batch_type bufferoffset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount =  REDUCESZ / 2;
	
	unsigned int index = 0;
	value_t vdata[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=vdata complete
	value_t vdata2[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=vdata2 complete
	unsigned int depths[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=depths complete
	keyvalue_t keyvalue0; keyvalue0.key = 777; keyvalue0.value = 777;
	keyvalue_t keyvalue1; keyvalue1.key = 777; keyvalue1.value = 777;
	keyvalue_t keyvalue2; keyvalue2.key = 777; keyvalue2.value = 777;
	keyvalue_t keyvalue3; keyvalue3.key = 777; keyvalue3.value = 777;
	keyvalue_t keyvalue4; keyvalue4.key = 777; keyvalue4.value = 777;
	keyvalue_t keyvalue5; keyvalue5.key = 777; keyvalue5.value = 777;
	keyvalue_t keyvalue6; keyvalue6.key = 777; keyvalue6.value = 777;
	keyvalue_t keyvalue7; keyvalue7.key = 777; keyvalue7.value = 777;
	keyvalue_t keyvalue8; keyvalue8.key = 777; keyvalue8.value = 777;
	keyvalue_t keyvalue9; keyvalue9.key = 777; keyvalue9.value = 777;
	keyvalue_t keyvalue10; keyvalue10.key = 777; keyvalue10.value = 777;
	keyvalue_t keyvalue11; keyvalue11.key = 777; keyvalue11.value = 777;
	keyvalue_t keyvalue12; keyvalue12.key = 777; keyvalue12.value = 777;
	keyvalue_t keyvalue13; keyvalue13.key = 777; keyvalue13.value = 777;
	keyvalue_t keyvalue14; keyvalue14.key = 777; keyvalue14.value = 777;
	keyvalue_t keyvalue15; keyvalue15.key = 777; keyvalue15.value = 777;
	for(unsigned int v=0; v<VECTOR2_SIZE; v++){ vdata[v] = 0; vdata2[v] = 0; }
	unsigned int basedepth = 0;
	
	unsigned int index2 = 0;
	READVDATA_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1
MEMCA_READFROMKVDRAM_VDATASANDVMASKS(i, kvdram, vdata, baseoffset_kvs, offset_kvs);
		
		#if defined(CONFIG_READVDATA_SLIDE)
		MEMACCESS_SPL_GetXYLayoutV(s, vdata, vdata2, depths, basedepth);
MEMCA_WRITETOBUFFER_VDATASANDVMASKS(bufferoffset_kvs + i, buffer, vdata2, 0);	
		#elif defined(CONFIG_READVDATA_SLIDEANDREARRANGE)
		unsigned int x = index2 + s;
		basedepth = (x / VECTOR2_SIZE) * VECTOR2_SIZE;
		MEMACCESS_SPL_GetXYLayoutV(x, vdata, vdata2, depths, basedepth);
MEMCA_WRITETOBUFFERWITHDEPTHS_VDATASANDVMASKS(depths, buffer, vdata2, 0);	
		index2 += NUM_PEs;
		#else
MEMCA_WRITETOBUFFER_VDATASANDVMASKS(bufferoffset_kvs + i, buffer, vdata, 0);	
		#endif
		
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvswritten(VECTOR_SIZE);
		#endif
	}
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"savevdata:: vertices saved: offset: "<<dramoffset_kvs * VECTOR_SIZE<<"-"<<(dramoffset_kvs + size_kvs) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<<endl;
	#endif
	return;
}

void acts_all::MEMACCESS_SPL_readvdatachunks(bool_type enable, uint512_dt * kvdram, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type vbaseoffset_kvs, batch_type voffset_kvs, batch_type vsz_kvs, globalparams_t globalparams){
	unsigned int depth = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION;
	unsigned int bdepth = vsz_kvs / 2;
	unsigned int depth_i = 0;
	unsigned int bdepth_i = 0;
	keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE]; // CRITICAL REMOVEME.
	
	#ifdef _DEBUGMODE_CHECKS
	unsigned int index = 0;
	value_t * KV = (value_t *)&kvdram[vbaseoffset_kvs];
	unsigned int mydepth = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION * VECTOR2_SIZE;
	for(unsigned int i=0; i<16384; i++){
		for(unsigned int s=0; s<NUM_PEs; s++){
			KV[s*mydepth + i] = index; index+=1;
		}
		if(index > 2*16384){ break; }
	}
	
	for(unsigned int s=0; s<NUM_PEs; s++){
		for(unsigned int i=0; i<2; i++){
			cout<<"kvdram [s: "<<s<<", row "<<i<<"]: ";
			for(unsigned int v=0; v<VECTOR_SIZE; v++){
				cout<<kvdram[vbaseoffset_kvs + s*depth + i].data[v].key<<", "<<kvdram[vbaseoffset_kvs + s*depth + i].data[v].value<<", ";
			}
			cout<<endl;
		}
	}
	cout<<endl;
	// exit(EXIT_SUCCESS);
	#endif 
	#ifdef _DEBUGMODE_CHECKS
	for(unsigned int i=0; i<BLOCKRAM_SIZE; i++){
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			buffer[v][i].key = 0;
			buffer[v][i].value = 0;
		}
	}
	#endif 
	
	for(unsigned int s=0; s<NUM_PEs; s++){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"MEMACCESS_SPL_readvdatachunks:: size loaded @ s("<<s<<"): offset_kvs2: "<<(s * vsz_kvs)<<", sz_kvs2: "<<vsz_kvs<<endl;
		#endif
		MEMACCESS_SPL_readvdata_slide(enable, s, kvdram, tempbuffer, vbaseoffset_kvs, depth_i + voffset_kvs, bdepth_i, vsz_kvs, globalparams); // CRITICAL FIXME.
		depth_i += depth;
		bdepth_i += bdepth;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"+++ MEMACCESS_SPL_readvdatachunks:: total size loaded: "<<vsz_kvs * NUM_PEs * VECTOR2_SIZE<<endl;
	#endif
	#ifdef _DEBUGMODE_CHECKS
	for(unsigned int i=0; i<32; i++){
		cout<<"buffer row "<<2*i<<": ";
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			cout<<buffer[v][i].key<<", ";
		}
		cout<<endl;
		cout<<"buffer row "<<2*i+1<<": ";
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			cout<<buffer[v][i].value<<", ";
		}
		cout<<endl;
	}
	cout<<endl;
	#endif 
	
	int limit = 0;
	value_t vdata[VECTOR2_SIZE];
	value_t vdata2[VECTOR2_SIZE]; 
	for(unsigned int v=0; v<VECTOR2_SIZE; v++){ vdata[v] = 0; vdata2[v] = 0; }
	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){
MEMCA_READFROMBUFFER_VDATASANDVMASKS(i, tempbuffer, vdata, 0);
		if(i<limit){ cout<<"MEMACCESS_SPL_readvdatachunks:BEFORE:["<<i<<"]: "; for(unsigned int v=0; v<VECTOR2_SIZE; v++){ cout<<vdata[v]<<", "; } cout<<endl; }
		if(i<limit){ cout<<"MEMACCESS_SPL_readvdatachunks:BEFORE2:["<<i<<"]: "; 
			for(unsigned int v=0; v<VECTOR2_SIZE; v++){ 
				cout<<UTIL_READBITSFROM_UINTV(vdata[v], 0, SIZEOF_VDATA0)<<""; 
				cout<<"("<<UTIL_READBITSFROM_UINTV(vdata[v], SIZEOF_VDATA0, SIZEOF_VMASK0)<<"), "; 
			}
			cout<<endl; 
		}
		MEMACCESS_SPL_RearrangeLayoutV(i, vdata, vdata2);
		if(i<limit){ cout<<"MEMACCESS_SPL_readvdatachunks:AFTER:["<<i<<"]: "; for(unsigned int v=0; v<VECTOR2_SIZE; v++){ cout<<vdata2[v]<<", "; } cout<<endl; }
		if(i<limit){ cout<<"MEMACCESS_SPL_readvdatachunks:AFTER2:["<<i<<"]: "; 
			for(unsigned int v=0; v<VECTOR2_SIZE; v++){ 
				cout<<UTIL_READBITSFROM_UINTV(vdata2[v], 0, SIZEOF_VDATA0)<<""; 
				cout<<"("<<UTIL_READBITSFROM_UINTV(vdata2[v], SIZEOF_VDATA0, SIZEOF_VMASK0)<<"), "; 
			}
			cout<<endl; 
		}
MEMCA_WRITETOBUFFER_VDATASANDVMASKS(i, buffer, vdata2, 0);
	}
	
	#ifdef _DEBUGMODE_CHECKS
	for(unsigned int i=0; i<64; i++){
		cout<<"buffer row "<<2*i<<": ";
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			cout<<buffer[v][i].key<<", ";
		}
		cout<<endl;
		cout<<"buffer row "<<2*i+1<<": ";
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			cout<<buffer[v][i].value<<", ";
		}
		cout<<endl;
	}
	cout<<endl;
	#endif
	// exit(EXIT_SUCCESS);
	return;	
}

void acts_all::MEMACCESS_SPL_savevdataandmasks(bool_type enable, uint512_dt * kvdram, keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs, batch_type bufferoffset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount =  REDUCESZ / 2;
	
	unsigned int isfail = 0;
	unsigned int count = 0;
	
	value_t vdatas[VECTOR2_SIZE]; for (unsigned int v=0; v<VECTOR2_SIZE; v++){ vdatas[v] = 0; }
	SAVEVDATAANDMASKS_LOOP: for(buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=1
	
MEMCA_READFROMBUFFER_VDATASANDVMASKS(i, buffer, vdatas, bufferoffset_kvs);
		
		unsigned int vdata1;
		unsigned int vdata2;
		unsigned int vmdata1;
		unsigned int vmdata2;
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[0], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[1], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[0], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[1], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[0]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[1]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[2], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[3], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[2], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[3], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[2]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[3]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[4], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[5], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[4], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[5], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[4]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[5]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[6], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[7], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[6], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[7], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[6]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[7]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[8], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[9], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[8], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[9], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[8]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[9]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[10], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[11], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[10], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[11], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[10]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[11]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[12], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[13], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[12], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[13], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[12]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[13]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		vdata1 = UTIL_READBITSFROM_UINTV(vdatas[14], 0, SIZEOF_VDATA0);
		vdata2 = UTIL_READBITSFROM_UINTV(vdatas[15], 0, SIZEOF_VDATA0);
		vmdata1 = UTIL_READBITSFROM_UINTV(vdatas[14], SIZEOF_VDATA0, SIZEOF_VMASK0);
		vmdata2 = UTIL_READBITSFROM_UINTV(vdatas[15], SIZEOF_VDATA0, SIZEOF_VMASK0);
		if(vdata1 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[14]: "<<vdata1<<", mask: "<<vmdata1<<""<<endl; isfail = 1; count+=1; }
		if(vdata2 < 64){ cout<<"MEMACCESS_SPL_savevdataandmasks: vdatas[15]: "<<vdata2<<", mask: "<<vmdata2<<""<<endl; isfail = 1; count+=1; }
		
		
MEMCA_WRITETOKVDRAM_VDATASANDVMASKS(i, kvdram, vdatas, baseoffset_kvs, offset_kvs);
		
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvswritten(VECTOR_SIZE);
		#endif
	}
	if(isfail == 1 && count > 64){ exit(EXIT_FAILURE); } ////////////////////////////
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"savevdata:: vertices saved: offset: "<<(offset_kvs) * VECTOR_SIZE<<"-"<<(offset_kvs + size_kvs) * VECTOR_SIZE<<", number of vertex datas written: "<<(size_kvs * VECTOR_SIZE * 2)<<" ("<<size_kvs * VECTOR_SIZE<<" keyvalues written)"<<endl;
	#endif
	return;
}

// -------------------- vmasks -------------------- //
void acts_all::MEMACCESS_SPL_GetXYLayoutVM(unsigned int s, unit1_type vmdata[VECTOR2_SIZE], unit1_type vmdata2[VECTOR2_SIZE], unsigned int depths[VECTOR2_SIZE], unsigned int basedepth){
	unsigned int s_ = s % VECTOR2_SIZE;
	unsigned int depths_tmp[VECTOR2_SIZE];
	
 if(s_==0){
		vmdata2[0] = vmdata[0]; 
		vmdata2[1] = vmdata[1]; 
		vmdata2[2] = vmdata[2]; 
		vmdata2[3] = vmdata[3]; 
		vmdata2[4] = vmdata[4]; 
		vmdata2[5] = vmdata[5]; 
		vmdata2[6] = vmdata[6]; 
		vmdata2[7] = vmdata[7]; 
		vmdata2[8] = vmdata[8]; 
		vmdata2[9] = vmdata[9]; 
		vmdata2[10] = vmdata[10]; 
		vmdata2[11] = vmdata[11]; 
		vmdata2[12] = vmdata[12]; 
		vmdata2[13] = vmdata[13]; 
		vmdata2[14] = vmdata[14]; 
		vmdata2[15] = vmdata[15]; 
		
		depths_tmp[0] = 0; 
		depths_tmp[1] = 1; 
		depths_tmp[2] = 2; 
		depths_tmp[3] = 3; 
		depths_tmp[4] = 4; 
		depths_tmp[5] = 5; 
		depths_tmp[6] = 6; 
		depths_tmp[7] = 7; 
		depths_tmp[8] = 8; 
		depths_tmp[9] = 9; 
		depths_tmp[10] = 10; 
		depths_tmp[11] = 11; 
		depths_tmp[12] = 12; 
		depths_tmp[13] = 13; 
		depths_tmp[14] = 14; 
		depths_tmp[15] = 15; 
	}
else if(s_==1){
		vmdata2[0] = vmdata[15]; 
		vmdata2[1] = vmdata[0]; 
		vmdata2[2] = vmdata[1]; 
		vmdata2[3] = vmdata[2]; 
		vmdata2[4] = vmdata[3]; 
		vmdata2[5] = vmdata[4]; 
		vmdata2[6] = vmdata[5]; 
		vmdata2[7] = vmdata[6]; 
		vmdata2[8] = vmdata[7]; 
		vmdata2[9] = vmdata[8]; 
		vmdata2[10] = vmdata[9]; 
		vmdata2[11] = vmdata[10]; 
		vmdata2[12] = vmdata[11]; 
		vmdata2[13] = vmdata[12]; 
		vmdata2[14] = vmdata[13]; 
		vmdata2[15] = vmdata[14]; 
		
		depths_tmp[0] = 15; 
		depths_tmp[1] = 0; 
		depths_tmp[2] = 1; 
		depths_tmp[3] = 2; 
		depths_tmp[4] = 3; 
		depths_tmp[5] = 4; 
		depths_tmp[6] = 5; 
		depths_tmp[7] = 6; 
		depths_tmp[8] = 7; 
		depths_tmp[9] = 8; 
		depths_tmp[10] = 9; 
		depths_tmp[11] = 10; 
		depths_tmp[12] = 11; 
		depths_tmp[13] = 12; 
		depths_tmp[14] = 13; 
		depths_tmp[15] = 14; 
	}
else if(s_==2){
		vmdata2[0] = vmdata[14]; 
		vmdata2[1] = vmdata[15]; 
		vmdata2[2] = vmdata[0]; 
		vmdata2[3] = vmdata[1]; 
		vmdata2[4] = vmdata[2]; 
		vmdata2[5] = vmdata[3]; 
		vmdata2[6] = vmdata[4]; 
		vmdata2[7] = vmdata[5]; 
		vmdata2[8] = vmdata[6]; 
		vmdata2[9] = vmdata[7]; 
		vmdata2[10] = vmdata[8]; 
		vmdata2[11] = vmdata[9]; 
		vmdata2[12] = vmdata[10]; 
		vmdata2[13] = vmdata[11]; 
		vmdata2[14] = vmdata[12]; 
		vmdata2[15] = vmdata[13]; 
		
		depths_tmp[0] = 14; 
		depths_tmp[1] = 15; 
		depths_tmp[2] = 0; 
		depths_tmp[3] = 1; 
		depths_tmp[4] = 2; 
		depths_tmp[5] = 3; 
		depths_tmp[6] = 4; 
		depths_tmp[7] = 5; 
		depths_tmp[8] = 6; 
		depths_tmp[9] = 7; 
		depths_tmp[10] = 8; 
		depths_tmp[11] = 9; 
		depths_tmp[12] = 10; 
		depths_tmp[13] = 11; 
		depths_tmp[14] = 12; 
		depths_tmp[15] = 13; 
	}
else if(s_==3){
		vmdata2[0] = vmdata[13]; 
		vmdata2[1] = vmdata[14]; 
		vmdata2[2] = vmdata[15]; 
		vmdata2[3] = vmdata[0]; 
		vmdata2[4] = vmdata[1]; 
		vmdata2[5] = vmdata[2]; 
		vmdata2[6] = vmdata[3]; 
		vmdata2[7] = vmdata[4]; 
		vmdata2[8] = vmdata[5]; 
		vmdata2[9] = vmdata[6]; 
		vmdata2[10] = vmdata[7]; 
		vmdata2[11] = vmdata[8]; 
		vmdata2[12] = vmdata[9]; 
		vmdata2[13] = vmdata[10]; 
		vmdata2[14] = vmdata[11]; 
		vmdata2[15] = vmdata[12]; 
		
		depths_tmp[0] = 13; 
		depths_tmp[1] = 14; 
		depths_tmp[2] = 15; 
		depths_tmp[3] = 0; 
		depths_tmp[4] = 1; 
		depths_tmp[5] = 2; 
		depths_tmp[6] = 3; 
		depths_tmp[7] = 4; 
		depths_tmp[8] = 5; 
		depths_tmp[9] = 6; 
		depths_tmp[10] = 7; 
		depths_tmp[11] = 8; 
		depths_tmp[12] = 9; 
		depths_tmp[13] = 10; 
		depths_tmp[14] = 11; 
		depths_tmp[15] = 12; 
	}
else if(s_==4){
		vmdata2[0] = vmdata[12]; 
		vmdata2[1] = vmdata[13]; 
		vmdata2[2] = vmdata[14]; 
		vmdata2[3] = vmdata[15]; 
		vmdata2[4] = vmdata[0]; 
		vmdata2[5] = vmdata[1]; 
		vmdata2[6] = vmdata[2]; 
		vmdata2[7] = vmdata[3]; 
		vmdata2[8] = vmdata[4]; 
		vmdata2[9] = vmdata[5]; 
		vmdata2[10] = vmdata[6]; 
		vmdata2[11] = vmdata[7]; 
		vmdata2[12] = vmdata[8]; 
		vmdata2[13] = vmdata[9]; 
		vmdata2[14] = vmdata[10]; 
		vmdata2[15] = vmdata[11]; 
		
		depths_tmp[0] = 12; 
		depths_tmp[1] = 13; 
		depths_tmp[2] = 14; 
		depths_tmp[3] = 15; 
		depths_tmp[4] = 0; 
		depths_tmp[5] = 1; 
		depths_tmp[6] = 2; 
		depths_tmp[7] = 3; 
		depths_tmp[8] = 4; 
		depths_tmp[9] = 5; 
		depths_tmp[10] = 6; 
		depths_tmp[11] = 7; 
		depths_tmp[12] = 8; 
		depths_tmp[13] = 9; 
		depths_tmp[14] = 10; 
		depths_tmp[15] = 11; 
	}
else if(s_==5){
		vmdata2[0] = vmdata[11]; 
		vmdata2[1] = vmdata[12]; 
		vmdata2[2] = vmdata[13]; 
		vmdata2[3] = vmdata[14]; 
		vmdata2[4] = vmdata[15]; 
		vmdata2[5] = vmdata[0]; 
		vmdata2[6] = vmdata[1]; 
		vmdata2[7] = vmdata[2]; 
		vmdata2[8] = vmdata[3]; 
		vmdata2[9] = vmdata[4]; 
		vmdata2[10] = vmdata[5]; 
		vmdata2[11] = vmdata[6]; 
		vmdata2[12] = vmdata[7]; 
		vmdata2[13] = vmdata[8]; 
		vmdata2[14] = vmdata[9]; 
		vmdata2[15] = vmdata[10]; 
		
		depths_tmp[0] = 11; 
		depths_tmp[1] = 12; 
		depths_tmp[2] = 13; 
		depths_tmp[3] = 14; 
		depths_tmp[4] = 15; 
		depths_tmp[5] = 0; 
		depths_tmp[6] = 1; 
		depths_tmp[7] = 2; 
		depths_tmp[8] = 3; 
		depths_tmp[9] = 4; 
		depths_tmp[10] = 5; 
		depths_tmp[11] = 6; 
		depths_tmp[12] = 7; 
		depths_tmp[13] = 8; 
		depths_tmp[14] = 9; 
		depths_tmp[15] = 10; 
	}
else if(s_==6){
		vmdata2[0] = vmdata[10]; 
		vmdata2[1] = vmdata[11]; 
		vmdata2[2] = vmdata[12]; 
		vmdata2[3] = vmdata[13]; 
		vmdata2[4] = vmdata[14]; 
		vmdata2[5] = vmdata[15]; 
		vmdata2[6] = vmdata[0]; 
		vmdata2[7] = vmdata[1]; 
		vmdata2[8] = vmdata[2]; 
		vmdata2[9] = vmdata[3]; 
		vmdata2[10] = vmdata[4]; 
		vmdata2[11] = vmdata[5]; 
		vmdata2[12] = vmdata[6]; 
		vmdata2[13] = vmdata[7]; 
		vmdata2[14] = vmdata[8]; 
		vmdata2[15] = vmdata[9]; 
		
		depths_tmp[0] = 10; 
		depths_tmp[1] = 11; 
		depths_tmp[2] = 12; 
		depths_tmp[3] = 13; 
		depths_tmp[4] = 14; 
		depths_tmp[5] = 15; 
		depths_tmp[6] = 0; 
		depths_tmp[7] = 1; 
		depths_tmp[8] = 2; 
		depths_tmp[9] = 3; 
		depths_tmp[10] = 4; 
		depths_tmp[11] = 5; 
		depths_tmp[12] = 6; 
		depths_tmp[13] = 7; 
		depths_tmp[14] = 8; 
		depths_tmp[15] = 9; 
	}
else if(s_==7){
		vmdata2[0] = vmdata[9]; 
		vmdata2[1] = vmdata[10]; 
		vmdata2[2] = vmdata[11]; 
		vmdata2[3] = vmdata[12]; 
		vmdata2[4] = vmdata[13]; 
		vmdata2[5] = vmdata[14]; 
		vmdata2[6] = vmdata[15]; 
		vmdata2[7] = vmdata[0]; 
		vmdata2[8] = vmdata[1]; 
		vmdata2[9] = vmdata[2]; 
		vmdata2[10] = vmdata[3]; 
		vmdata2[11] = vmdata[4]; 
		vmdata2[12] = vmdata[5]; 
		vmdata2[13] = vmdata[6]; 
		vmdata2[14] = vmdata[7]; 
		vmdata2[15] = vmdata[8]; 
		
		depths_tmp[0] = 9; 
		depths_tmp[1] = 10; 
		depths_tmp[2] = 11; 
		depths_tmp[3] = 12; 
		depths_tmp[4] = 13; 
		depths_tmp[5] = 14; 
		depths_tmp[6] = 15; 
		depths_tmp[7] = 0; 
		depths_tmp[8] = 1; 
		depths_tmp[9] = 2; 
		depths_tmp[10] = 3; 
		depths_tmp[11] = 4; 
		depths_tmp[12] = 5; 
		depths_tmp[13] = 6; 
		depths_tmp[14] = 7; 
		depths_tmp[15] = 8; 
	}
else if(s_==8){
		vmdata2[0] = vmdata[8]; 
		vmdata2[1] = vmdata[9]; 
		vmdata2[2] = vmdata[10]; 
		vmdata2[3] = vmdata[11]; 
		vmdata2[4] = vmdata[12]; 
		vmdata2[5] = vmdata[13]; 
		vmdata2[6] = vmdata[14]; 
		vmdata2[7] = vmdata[15]; 
		vmdata2[8] = vmdata[0]; 
		vmdata2[9] = vmdata[1]; 
		vmdata2[10] = vmdata[2]; 
		vmdata2[11] = vmdata[3]; 
		vmdata2[12] = vmdata[4]; 
		vmdata2[13] = vmdata[5]; 
		vmdata2[14] = vmdata[6]; 
		vmdata2[15] = vmdata[7]; 
		
		depths_tmp[0] = 8; 
		depths_tmp[1] = 9; 
		depths_tmp[2] = 10; 
		depths_tmp[3] = 11; 
		depths_tmp[4] = 12; 
		depths_tmp[5] = 13; 
		depths_tmp[6] = 14; 
		depths_tmp[7] = 15; 
		depths_tmp[8] = 0; 
		depths_tmp[9] = 1; 
		depths_tmp[10] = 2; 
		depths_tmp[11] = 3; 
		depths_tmp[12] = 4; 
		depths_tmp[13] = 5; 
		depths_tmp[14] = 6; 
		depths_tmp[15] = 7; 
	}
else if(s_==9){
		vmdata2[0] = vmdata[7]; 
		vmdata2[1] = vmdata[8]; 
		vmdata2[2] = vmdata[9]; 
		vmdata2[3] = vmdata[10]; 
		vmdata2[4] = vmdata[11]; 
		vmdata2[5] = vmdata[12]; 
		vmdata2[6] = vmdata[13]; 
		vmdata2[7] = vmdata[14]; 
		vmdata2[8] = vmdata[15]; 
		vmdata2[9] = vmdata[0]; 
		vmdata2[10] = vmdata[1]; 
		vmdata2[11] = vmdata[2]; 
		vmdata2[12] = vmdata[3]; 
		vmdata2[13] = vmdata[4]; 
		vmdata2[14] = vmdata[5]; 
		vmdata2[15] = vmdata[6]; 
		
		depths_tmp[0] = 7; 
		depths_tmp[1] = 8; 
		depths_tmp[2] = 9; 
		depths_tmp[3] = 10; 
		depths_tmp[4] = 11; 
		depths_tmp[5] = 12; 
		depths_tmp[6] = 13; 
		depths_tmp[7] = 14; 
		depths_tmp[8] = 15; 
		depths_tmp[9] = 0; 
		depths_tmp[10] = 1; 
		depths_tmp[11] = 2; 
		depths_tmp[12] = 3; 
		depths_tmp[13] = 4; 
		depths_tmp[14] = 5; 
		depths_tmp[15] = 6; 
	}
else if(s_==10){
		vmdata2[0] = vmdata[6]; 
		vmdata2[1] = vmdata[7]; 
		vmdata2[2] = vmdata[8]; 
		vmdata2[3] = vmdata[9]; 
		vmdata2[4] = vmdata[10]; 
		vmdata2[5] = vmdata[11]; 
		vmdata2[6] = vmdata[12]; 
		vmdata2[7] = vmdata[13]; 
		vmdata2[8] = vmdata[14]; 
		vmdata2[9] = vmdata[15]; 
		vmdata2[10] = vmdata[0]; 
		vmdata2[11] = vmdata[1]; 
		vmdata2[12] = vmdata[2]; 
		vmdata2[13] = vmdata[3]; 
		vmdata2[14] = vmdata[4]; 
		vmdata2[15] = vmdata[5]; 
		
		depths_tmp[0] = 6; 
		depths_tmp[1] = 7; 
		depths_tmp[2] = 8; 
		depths_tmp[3] = 9; 
		depths_tmp[4] = 10; 
		depths_tmp[5] = 11; 
		depths_tmp[6] = 12; 
		depths_tmp[7] = 13; 
		depths_tmp[8] = 14; 
		depths_tmp[9] = 15; 
		depths_tmp[10] = 0; 
		depths_tmp[11] = 1; 
		depths_tmp[12] = 2; 
		depths_tmp[13] = 3; 
		depths_tmp[14] = 4; 
		depths_tmp[15] = 5; 
	}
else if(s_==11){
		vmdata2[0] = vmdata[5]; 
		vmdata2[1] = vmdata[6]; 
		vmdata2[2] = vmdata[7]; 
		vmdata2[3] = vmdata[8]; 
		vmdata2[4] = vmdata[9]; 
		vmdata2[5] = vmdata[10]; 
		vmdata2[6] = vmdata[11]; 
		vmdata2[7] = vmdata[12]; 
		vmdata2[8] = vmdata[13]; 
		vmdata2[9] = vmdata[14]; 
		vmdata2[10] = vmdata[15]; 
		vmdata2[11] = vmdata[0]; 
		vmdata2[12] = vmdata[1]; 
		vmdata2[13] = vmdata[2]; 
		vmdata2[14] = vmdata[3]; 
		vmdata2[15] = vmdata[4]; 
		
		depths_tmp[0] = 5; 
		depths_tmp[1] = 6; 
		depths_tmp[2] = 7; 
		depths_tmp[3] = 8; 
		depths_tmp[4] = 9; 
		depths_tmp[5] = 10; 
		depths_tmp[6] = 11; 
		depths_tmp[7] = 12; 
		depths_tmp[8] = 13; 
		depths_tmp[9] = 14; 
		depths_tmp[10] = 15; 
		depths_tmp[11] = 0; 
		depths_tmp[12] = 1; 
		depths_tmp[13] = 2; 
		depths_tmp[14] = 3; 
		depths_tmp[15] = 4; 
	}
else if(s_==12){
		vmdata2[0] = vmdata[4]; 
		vmdata2[1] = vmdata[5]; 
		vmdata2[2] = vmdata[6]; 
		vmdata2[3] = vmdata[7]; 
		vmdata2[4] = vmdata[8]; 
		vmdata2[5] = vmdata[9]; 
		vmdata2[6] = vmdata[10]; 
		vmdata2[7] = vmdata[11]; 
		vmdata2[8] = vmdata[12]; 
		vmdata2[9] = vmdata[13]; 
		vmdata2[10] = vmdata[14]; 
		vmdata2[11] = vmdata[15]; 
		vmdata2[12] = vmdata[0]; 
		vmdata2[13] = vmdata[1]; 
		vmdata2[14] = vmdata[2]; 
		vmdata2[15] = vmdata[3]; 
		
		depths_tmp[0] = 4; 
		depths_tmp[1] = 5; 
		depths_tmp[2] = 6; 
		depths_tmp[3] = 7; 
		depths_tmp[4] = 8; 
		depths_tmp[5] = 9; 
		depths_tmp[6] = 10; 
		depths_tmp[7] = 11; 
		depths_tmp[8] = 12; 
		depths_tmp[9] = 13; 
		depths_tmp[10] = 14; 
		depths_tmp[11] = 15; 
		depths_tmp[12] = 0; 
		depths_tmp[13] = 1; 
		depths_tmp[14] = 2; 
		depths_tmp[15] = 3; 
	}
else if(s_==13){
		vmdata2[0] = vmdata[3]; 
		vmdata2[1] = vmdata[4]; 
		vmdata2[2] = vmdata[5]; 
		vmdata2[3] = vmdata[6]; 
		vmdata2[4] = vmdata[7]; 
		vmdata2[5] = vmdata[8]; 
		vmdata2[6] = vmdata[9]; 
		vmdata2[7] = vmdata[10]; 
		vmdata2[8] = vmdata[11]; 
		vmdata2[9] = vmdata[12]; 
		vmdata2[10] = vmdata[13]; 
		vmdata2[11] = vmdata[14]; 
		vmdata2[12] = vmdata[15]; 
		vmdata2[13] = vmdata[0]; 
		vmdata2[14] = vmdata[1]; 
		vmdata2[15] = vmdata[2]; 
		
		depths_tmp[0] = 3; 
		depths_tmp[1] = 4; 
		depths_tmp[2] = 5; 
		depths_tmp[3] = 6; 
		depths_tmp[4] = 7; 
		depths_tmp[5] = 8; 
		depths_tmp[6] = 9; 
		depths_tmp[7] = 10; 
		depths_tmp[8] = 11; 
		depths_tmp[9] = 12; 
		depths_tmp[10] = 13; 
		depths_tmp[11] = 14; 
		depths_tmp[12] = 15; 
		depths_tmp[13] = 0; 
		depths_tmp[14] = 1; 
		depths_tmp[15] = 2; 
	}
else if(s_==14){
		vmdata2[0] = vmdata[2]; 
		vmdata2[1] = vmdata[3]; 
		vmdata2[2] = vmdata[4]; 
		vmdata2[3] = vmdata[5]; 
		vmdata2[4] = vmdata[6]; 
		vmdata2[5] = vmdata[7]; 
		vmdata2[6] = vmdata[8]; 
		vmdata2[7] = vmdata[9]; 
		vmdata2[8] = vmdata[10]; 
		vmdata2[9] = vmdata[11]; 
		vmdata2[10] = vmdata[12]; 
		vmdata2[11] = vmdata[13]; 
		vmdata2[12] = vmdata[14]; 
		vmdata2[13] = vmdata[15]; 
		vmdata2[14] = vmdata[0]; 
		vmdata2[15] = vmdata[1]; 
		
		depths_tmp[0] = 2; 
		depths_tmp[1] = 3; 
		depths_tmp[2] = 4; 
		depths_tmp[3] = 5; 
		depths_tmp[4] = 6; 
		depths_tmp[5] = 7; 
		depths_tmp[6] = 8; 
		depths_tmp[7] = 9; 
		depths_tmp[8] = 10; 
		depths_tmp[9] = 11; 
		depths_tmp[10] = 12; 
		depths_tmp[11] = 13; 
		depths_tmp[12] = 14; 
		depths_tmp[13] = 15; 
		depths_tmp[14] = 0; 
		depths_tmp[15] = 1; 
	}
else {
		vmdata2[0] = vmdata[1]; 
		vmdata2[1] = vmdata[2]; 
		vmdata2[2] = vmdata[3]; 
		vmdata2[3] = vmdata[4]; 
		vmdata2[4] = vmdata[5]; 
		vmdata2[5] = vmdata[6]; 
		vmdata2[6] = vmdata[7]; 
		vmdata2[7] = vmdata[8]; 
		vmdata2[8] = vmdata[9]; 
		vmdata2[9] = vmdata[10]; 
		vmdata2[10] = vmdata[11]; 
		vmdata2[11] = vmdata[12]; 
		vmdata2[12] = vmdata[13]; 
		vmdata2[13] = vmdata[14]; 
		vmdata2[14] = vmdata[15]; 
		vmdata2[15] = vmdata[0]; 
		
		depths_tmp[0] = 1; 
		depths_tmp[1] = 2; 
		depths_tmp[2] = 3; 
		depths_tmp[3] = 4; 
		depths_tmp[4] = 5; 
		depths_tmp[5] = 6; 
		depths_tmp[6] = 7; 
		depths_tmp[7] = 8; 
		depths_tmp[8] = 9; 
		depths_tmp[9] = 10; 
		depths_tmp[10] = 11; 
		depths_tmp[11] = 12; 
		depths_tmp[12] = 13; 
		depths_tmp[13] = 14; 
		depths_tmp[14] = 15; 
		depths_tmp[15] = 0; 
	}
	
	depths[0] = basedepth + depths_tmp[0]; 
	depths[1] = basedepth + depths_tmp[1]; 
	depths[2] = basedepth + depths_tmp[2]; 
	depths[3] = basedepth + depths_tmp[3]; 
	depths[4] = basedepth + depths_tmp[4]; 
	depths[5] = basedepth + depths_tmp[5]; 
	depths[6] = basedepth + depths_tmp[6]; 
	depths[7] = basedepth + depths_tmp[7]; 
	depths[8] = basedepth + depths_tmp[8]; 
	depths[9] = basedepth + depths_tmp[9]; 
	depths[10] = basedepth + depths_tmp[10]; 
	depths[11] = basedepth + depths_tmp[11]; 
	depths[12] = basedepth + depths_tmp[12]; 
	depths[13] = basedepth + depths_tmp[13]; 
	depths[14] = basedepth + depths_tmp[14]; 
	depths[15] = basedepth + depths_tmp[15]; 
 
	return;
}

void acts_all::MEMACCESS_SPL_RearrangeLayoutVM(unsigned int s, unit1_type vmdata[VECTOR2_SIZE], unit1_type vmdata2[VECTOR2_SIZE]){
	unsigned int s_ = s % VECTOR2_SIZE;
 if(s_==0){ 
		vmdata2[0] = vmdata[0]; 
		vmdata2[1] = vmdata[1]; 
		vmdata2[2] = vmdata[2]; 
		vmdata2[3] = vmdata[3]; 
		vmdata2[4] = vmdata[4]; 
		vmdata2[5] = vmdata[5]; 
		vmdata2[6] = vmdata[6]; 
		vmdata2[7] = vmdata[7]; 
		vmdata2[8] = vmdata[8]; 
		vmdata2[9] = vmdata[9]; 
		vmdata2[10] = vmdata[10]; 
		vmdata2[11] = vmdata[11]; 
		vmdata2[12] = vmdata[12]; 
		vmdata2[13] = vmdata[13]; 
		vmdata2[14] = vmdata[14]; 
		vmdata2[15] = vmdata[15]; 
	}
else if(s_==1){ 
		vmdata2[15] = vmdata[0]; 
		vmdata2[0] = vmdata[1]; 
		vmdata2[1] = vmdata[2]; 
		vmdata2[2] = vmdata[3]; 
		vmdata2[3] = vmdata[4]; 
		vmdata2[4] = vmdata[5]; 
		vmdata2[5] = vmdata[6]; 
		vmdata2[6] = vmdata[7]; 
		vmdata2[7] = vmdata[8]; 
		vmdata2[8] = vmdata[9]; 
		vmdata2[9] = vmdata[10]; 
		vmdata2[10] = vmdata[11]; 
		vmdata2[11] = vmdata[12]; 
		vmdata2[12] = vmdata[13]; 
		vmdata2[13] = vmdata[14]; 
		vmdata2[14] = vmdata[15]; 
	}
else if(s_==2){ 
		vmdata2[14] = vmdata[0]; 
		vmdata2[15] = vmdata[1]; 
		vmdata2[0] = vmdata[2]; 
		vmdata2[1] = vmdata[3]; 
		vmdata2[2] = vmdata[4]; 
		vmdata2[3] = vmdata[5]; 
		vmdata2[4] = vmdata[6]; 
		vmdata2[5] = vmdata[7]; 
		vmdata2[6] = vmdata[8]; 
		vmdata2[7] = vmdata[9]; 
		vmdata2[8] = vmdata[10]; 
		vmdata2[9] = vmdata[11]; 
		vmdata2[10] = vmdata[12]; 
		vmdata2[11] = vmdata[13]; 
		vmdata2[12] = vmdata[14]; 
		vmdata2[13] = vmdata[15]; 
	}
else if(s_==3){ 
		vmdata2[13] = vmdata[0]; 
		vmdata2[14] = vmdata[1]; 
		vmdata2[15] = vmdata[2]; 
		vmdata2[0] = vmdata[3]; 
		vmdata2[1] = vmdata[4]; 
		vmdata2[2] = vmdata[5]; 
		vmdata2[3] = vmdata[6]; 
		vmdata2[4] = vmdata[7]; 
		vmdata2[5] = vmdata[8]; 
		vmdata2[6] = vmdata[9]; 
		vmdata2[7] = vmdata[10]; 
		vmdata2[8] = vmdata[11]; 
		vmdata2[9] = vmdata[12]; 
		vmdata2[10] = vmdata[13]; 
		vmdata2[11] = vmdata[14]; 
		vmdata2[12] = vmdata[15]; 
	}
else if(s_==4){ 
		vmdata2[12] = vmdata[0]; 
		vmdata2[13] = vmdata[1]; 
		vmdata2[14] = vmdata[2]; 
		vmdata2[15] = vmdata[3]; 
		vmdata2[0] = vmdata[4]; 
		vmdata2[1] = vmdata[5]; 
		vmdata2[2] = vmdata[6]; 
		vmdata2[3] = vmdata[7]; 
		vmdata2[4] = vmdata[8]; 
		vmdata2[5] = vmdata[9]; 
		vmdata2[6] = vmdata[10]; 
		vmdata2[7] = vmdata[11]; 
		vmdata2[8] = vmdata[12]; 
		vmdata2[9] = vmdata[13]; 
		vmdata2[10] = vmdata[14]; 
		vmdata2[11] = vmdata[15]; 
	}
else if(s_==5){ 
		vmdata2[11] = vmdata[0]; 
		vmdata2[12] = vmdata[1]; 
		vmdata2[13] = vmdata[2]; 
		vmdata2[14] = vmdata[3]; 
		vmdata2[15] = vmdata[4]; 
		vmdata2[0] = vmdata[5]; 
		vmdata2[1] = vmdata[6]; 
		vmdata2[2] = vmdata[7]; 
		vmdata2[3] = vmdata[8]; 
		vmdata2[4] = vmdata[9]; 
		vmdata2[5] = vmdata[10]; 
		vmdata2[6] = vmdata[11]; 
		vmdata2[7] = vmdata[12]; 
		vmdata2[8] = vmdata[13]; 
		vmdata2[9] = vmdata[14]; 
		vmdata2[10] = vmdata[15]; 
	}
else if(s_==6){ 
		vmdata2[10] = vmdata[0]; 
		vmdata2[11] = vmdata[1]; 
		vmdata2[12] = vmdata[2]; 
		vmdata2[13] = vmdata[3]; 
		vmdata2[14] = vmdata[4]; 
		vmdata2[15] = vmdata[5]; 
		vmdata2[0] = vmdata[6]; 
		vmdata2[1] = vmdata[7]; 
		vmdata2[2] = vmdata[8]; 
		vmdata2[3] = vmdata[9]; 
		vmdata2[4] = vmdata[10]; 
		vmdata2[5] = vmdata[11]; 
		vmdata2[6] = vmdata[12]; 
		vmdata2[7] = vmdata[13]; 
		vmdata2[8] = vmdata[14]; 
		vmdata2[9] = vmdata[15]; 
	}
else if(s_==7){ 
		vmdata2[9] = vmdata[0]; 
		vmdata2[10] = vmdata[1]; 
		vmdata2[11] = vmdata[2]; 
		vmdata2[12] = vmdata[3]; 
		vmdata2[13] = vmdata[4]; 
		vmdata2[14] = vmdata[5]; 
		vmdata2[15] = vmdata[6]; 
		vmdata2[0] = vmdata[7]; 
		vmdata2[1] = vmdata[8]; 
		vmdata2[2] = vmdata[9]; 
		vmdata2[3] = vmdata[10]; 
		vmdata2[4] = vmdata[11]; 
		vmdata2[5] = vmdata[12]; 
		vmdata2[6] = vmdata[13]; 
		vmdata2[7] = vmdata[14]; 
		vmdata2[8] = vmdata[15]; 
	}
else if(s_==8){ 
		vmdata2[8] = vmdata[0]; 
		vmdata2[9] = vmdata[1]; 
		vmdata2[10] = vmdata[2]; 
		vmdata2[11] = vmdata[3]; 
		vmdata2[12] = vmdata[4]; 
		vmdata2[13] = vmdata[5]; 
		vmdata2[14] = vmdata[6]; 
		vmdata2[15] = vmdata[7]; 
		vmdata2[0] = vmdata[8]; 
		vmdata2[1] = vmdata[9]; 
		vmdata2[2] = vmdata[10]; 
		vmdata2[3] = vmdata[11]; 
		vmdata2[4] = vmdata[12]; 
		vmdata2[5] = vmdata[13]; 
		vmdata2[6] = vmdata[14]; 
		vmdata2[7] = vmdata[15]; 
	}
else if(s_==9){ 
		vmdata2[7] = vmdata[0]; 
		vmdata2[8] = vmdata[1]; 
		vmdata2[9] = vmdata[2]; 
		vmdata2[10] = vmdata[3]; 
		vmdata2[11] = vmdata[4]; 
		vmdata2[12] = vmdata[5]; 
		vmdata2[13] = vmdata[6]; 
		vmdata2[14] = vmdata[7]; 
		vmdata2[15] = vmdata[8]; 
		vmdata2[0] = vmdata[9]; 
		vmdata2[1] = vmdata[10]; 
		vmdata2[2] = vmdata[11]; 
		vmdata2[3] = vmdata[12]; 
		vmdata2[4] = vmdata[13]; 
		vmdata2[5] = vmdata[14]; 
		vmdata2[6] = vmdata[15]; 
	}
else if(s_==10){ 
		vmdata2[6] = vmdata[0]; 
		vmdata2[7] = vmdata[1]; 
		vmdata2[8] = vmdata[2]; 
		vmdata2[9] = vmdata[3]; 
		vmdata2[10] = vmdata[4]; 
		vmdata2[11] = vmdata[5]; 
		vmdata2[12] = vmdata[6]; 
		vmdata2[13] = vmdata[7]; 
		vmdata2[14] = vmdata[8]; 
		vmdata2[15] = vmdata[9]; 
		vmdata2[0] = vmdata[10]; 
		vmdata2[1] = vmdata[11]; 
		vmdata2[2] = vmdata[12]; 
		vmdata2[3] = vmdata[13]; 
		vmdata2[4] = vmdata[14]; 
		vmdata2[5] = vmdata[15]; 
	}
else if(s_==11){ 
		vmdata2[5] = vmdata[0]; 
		vmdata2[6] = vmdata[1]; 
		vmdata2[7] = vmdata[2]; 
		vmdata2[8] = vmdata[3]; 
		vmdata2[9] = vmdata[4]; 
		vmdata2[10] = vmdata[5]; 
		vmdata2[11] = vmdata[6]; 
		vmdata2[12] = vmdata[7]; 
		vmdata2[13] = vmdata[8]; 
		vmdata2[14] = vmdata[9]; 
		vmdata2[15] = vmdata[10]; 
		vmdata2[0] = vmdata[11]; 
		vmdata2[1] = vmdata[12]; 
		vmdata2[2] = vmdata[13]; 
		vmdata2[3] = vmdata[14]; 
		vmdata2[4] = vmdata[15]; 
	}
else if(s_==12){ 
		vmdata2[4] = vmdata[0]; 
		vmdata2[5] = vmdata[1]; 
		vmdata2[6] = vmdata[2]; 
		vmdata2[7] = vmdata[3]; 
		vmdata2[8] = vmdata[4]; 
		vmdata2[9] = vmdata[5]; 
		vmdata2[10] = vmdata[6]; 
		vmdata2[11] = vmdata[7]; 
		vmdata2[12] = vmdata[8]; 
		vmdata2[13] = vmdata[9]; 
		vmdata2[14] = vmdata[10]; 
		vmdata2[15] = vmdata[11]; 
		vmdata2[0] = vmdata[12]; 
		vmdata2[1] = vmdata[13]; 
		vmdata2[2] = vmdata[14]; 
		vmdata2[3] = vmdata[15]; 
	}
else if(s_==13){ 
		vmdata2[3] = vmdata[0]; 
		vmdata2[4] = vmdata[1]; 
		vmdata2[5] = vmdata[2]; 
		vmdata2[6] = vmdata[3]; 
		vmdata2[7] = vmdata[4]; 
		vmdata2[8] = vmdata[5]; 
		vmdata2[9] = vmdata[6]; 
		vmdata2[10] = vmdata[7]; 
		vmdata2[11] = vmdata[8]; 
		vmdata2[12] = vmdata[9]; 
		vmdata2[13] = vmdata[10]; 
		vmdata2[14] = vmdata[11]; 
		vmdata2[15] = vmdata[12]; 
		vmdata2[0] = vmdata[13]; 
		vmdata2[1] = vmdata[14]; 
		vmdata2[2] = vmdata[15]; 
	}
else if(s_==14){ 
		vmdata2[2] = vmdata[0]; 
		vmdata2[3] = vmdata[1]; 
		vmdata2[4] = vmdata[2]; 
		vmdata2[5] = vmdata[3]; 
		vmdata2[6] = vmdata[4]; 
		vmdata2[7] = vmdata[5]; 
		vmdata2[8] = vmdata[6]; 
		vmdata2[9] = vmdata[7]; 
		vmdata2[10] = vmdata[8]; 
		vmdata2[11] = vmdata[9]; 
		vmdata2[12] = vmdata[10]; 
		vmdata2[13] = vmdata[11]; 
		vmdata2[14] = vmdata[12]; 
		vmdata2[15] = vmdata[13]; 
		vmdata2[0] = vmdata[14]; 
		vmdata2[1] = vmdata[15]; 
	}
else { 
		vmdata2[1] = vmdata[0]; 
		vmdata2[2] = vmdata[1]; 
		vmdata2[3] = vmdata[2]; 
		vmdata2[4] = vmdata[3]; 
		vmdata2[5] = vmdata[4]; 
		vmdata2[6] = vmdata[5]; 
		vmdata2[7] = vmdata[6]; 
		vmdata2[8] = vmdata[7]; 
		vmdata2[9] = vmdata[8]; 
		vmdata2[10] = vmdata[9]; 
		vmdata2[11] = vmdata[10]; 
		vmdata2[12] = vmdata[11]; 
		vmdata2[13] = vmdata[12]; 
		vmdata2[14] = vmdata[13]; 
		vmdata2[15] = vmdata[14]; 
		vmdata2[0] = vmdata[15]; 
	}
	return;
}

void acts_all::MEMACCESS_SPL_readvmasks_slide(bool_type enable, unsigned int s, uint512_dt * kvdram, unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type baseoffset_kvs, batch_type lbaseoffset_kvs, batch_type offset_kvs, buffer_type bufferoffset, buffer_type size_kvs){			
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	// vmask is essentially vdata shrinked
	unsigned int rlbaseoffset_kvs = lbaseoffset_kvs / FACTOR_REDUCEPARTITIONSZ_VMASKSZ;
	unsigned int roffset_kvs = offset_kvs / FACTOR_REDUCEPARTITIONSZ_VMASKSZ; // AUTOMATEME. 'FACTOR_REDUCEPARTITIONSZ_VMASKSZ' changes with dataset
	unsigned int rbufferoffset = bufferoffset / FACTOR_REDUCEPARTITIONSZ_VMASKSZ;
	unsigned int rsize_kvs = size_kvs / FACTOR_REDUCEPARTITIONSZ_VMASKSZ; // 32
	
	uint32_type bitsbuffer[BLOCKRAM_SIZE];
	unit1_type vmdata[VMASK_PACKINGSIZE];
	unit1_type vmdata2[VMASK_PACKINGSIZE];
	#pragma HLS ARRAY_PARTITION variable=vmdata complete
	#pragma HLS ARRAY_PARTITION variable=vmdata2 complete
	unsigned int depths[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=depths complete

	// read 
	READVMASKS_LOOP: for (buffer_type i=0; i<rsize_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
	
		tempbuffer[0][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(63, 32);			
	
		tempbuffer[2][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(127, 96);			
	
		tempbuffer[4][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(191, 160);			
	
		tempbuffer[6][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(255, 224);			
	
		tempbuffer[8][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(319, 288);			
	
		tempbuffer[10][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(383, 352);			
	
		tempbuffer[12][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(447, 416);			
	
		tempbuffer[14][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].range(511, 480);			
		#else 
		tempbuffer[0][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[baseoffset_kvs + rlbaseoffset_kvs + roffset_kvs + i].data[7].value; 
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MEMACCESS_SPL_readvmasks_slide:", rlbaseoffset_kvs + roffset_kvs, NUMPROCESSEDGESPARTITIONS * VMASKBUFFERSZ_KVS, baseoffset_kvs, rlbaseoffset_kvs, roffset_kvs);
		#endif
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	// u512 => u32s
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<rsize_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 0 + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 2 + 1] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 4 + 1] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 6 + 1] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 8 + 1] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 10 + 1] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 12 + 1] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 14 + 1] = tempbuffer[7][i].value;
		#endif 
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits
	buffer_type i = 0;
	unsigned int index2 = 0;
	unsigned int basedepth = 0;
	LOADVMASKS_LOOP2: for (i=0; i<size_kvs; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		#ifdef _WIDEWORD
		if(i%2==0){
			vmdata[0] = bitsbuffer[i/2].range(0, 0);
			vmdata[1] = bitsbuffer[i/2].range(1, 1);
			vmdata[2] = bitsbuffer[i/2].range(2, 2);
			vmdata[3] = bitsbuffer[i/2].range(3, 3);
			vmdata[4] = bitsbuffer[i/2].range(4, 4);
			vmdata[5] = bitsbuffer[i/2].range(5, 5);
			vmdata[6] = bitsbuffer[i/2].range(6, 6);
			vmdata[7] = bitsbuffer[i/2].range(7, 7);
			vmdata[8] = bitsbuffer[i/2].range(8, 8);
			vmdata[9] = bitsbuffer[i/2].range(9, 9);
			vmdata[10] = bitsbuffer[i/2].range(10, 10);
			vmdata[11] = bitsbuffer[i/2].range(11, 11);
			vmdata[12] = bitsbuffer[i/2].range(12, 12);
			vmdata[13] = bitsbuffer[i/2].range(13, 13);
			vmdata[14] = bitsbuffer[i/2].range(14, 14);
			vmdata[15] = bitsbuffer[i/2].range(15, 15);
		} else {
			vmdata[0] = bitsbuffer[i/2].range(16, 16);
			vmdata[1] = bitsbuffer[i/2].range(17, 17);
			vmdata[2] = bitsbuffer[i/2].range(18, 18);
			vmdata[3] = bitsbuffer[i/2].range(19, 19);
			vmdata[4] = bitsbuffer[i/2].range(20, 20);
			vmdata[5] = bitsbuffer[i/2].range(21, 21);
			vmdata[6] = bitsbuffer[i/2].range(22, 22);
			vmdata[7] = bitsbuffer[i/2].range(23, 23);
			vmdata[8] = bitsbuffer[i/2].range(24, 24);
			vmdata[9] = bitsbuffer[i/2].range(25, 25);
			vmdata[10] = bitsbuffer[i/2].range(26, 26);
			vmdata[11] = bitsbuffer[i/2].range(27, 27);
			vmdata[12] = bitsbuffer[i/2].range(28, 28);
			vmdata[13] = bitsbuffer[i/2].range(29, 29);
			vmdata[14] = bitsbuffer[i/2].range(30, 30);
			vmdata[15] = bitsbuffer[i/2].range(31, 31);
		}
		#else 
		if(i%2==0){
			vmdata[0] = UTIL_READFROM_UINT(bitsbuffer[i/2], 0, 1);
			vmdata[1] = UTIL_READFROM_UINT(bitsbuffer[i/2], 1, 1);
			vmdata[2] = UTIL_READFROM_UINT(bitsbuffer[i/2], 2, 1);
			vmdata[3] = UTIL_READFROM_UINT(bitsbuffer[i/2], 3, 1);
			vmdata[4] = UTIL_READFROM_UINT(bitsbuffer[i/2], 4, 1);
			vmdata[5] = UTIL_READFROM_UINT(bitsbuffer[i/2], 5, 1);
			vmdata[6] = UTIL_READFROM_UINT(bitsbuffer[i/2], 6, 1);
			vmdata[7] = UTIL_READFROM_UINT(bitsbuffer[i/2], 7, 1);
			vmdata[8] = UTIL_READFROM_UINT(bitsbuffer[i/2], 8, 1);
			vmdata[9] = UTIL_READFROM_UINT(bitsbuffer[i/2], 9, 1);
			vmdata[10] = UTIL_READFROM_UINT(bitsbuffer[i/2], 10, 1);
			vmdata[11] = UTIL_READFROM_UINT(bitsbuffer[i/2], 11, 1);
			vmdata[12] = UTIL_READFROM_UINT(bitsbuffer[i/2], 12, 1);
			vmdata[13] = UTIL_READFROM_UINT(bitsbuffer[i/2], 13, 1);
			vmdata[14] = UTIL_READFROM_UINT(bitsbuffer[i/2], 14, 1);
			vmdata[15] = UTIL_READFROM_UINT(bitsbuffer[i/2], 15, 1);
		} else {
			vmdata[0] = UTIL_READFROM_UINT(bitsbuffer[i/2], 16, 1);
			vmdata[1] = UTIL_READFROM_UINT(bitsbuffer[i/2], 17, 1);
			vmdata[2] = UTIL_READFROM_UINT(bitsbuffer[i/2], 18, 1);
			vmdata[3] = UTIL_READFROM_UINT(bitsbuffer[i/2], 19, 1);
			vmdata[4] = UTIL_READFROM_UINT(bitsbuffer[i/2], 20, 1);
			vmdata[5] = UTIL_READFROM_UINT(bitsbuffer[i/2], 21, 1);
			vmdata[6] = UTIL_READFROM_UINT(bitsbuffer[i/2], 22, 1);
			vmdata[7] = UTIL_READFROM_UINT(bitsbuffer[i/2], 23, 1);
			vmdata[8] = UTIL_READFROM_UINT(bitsbuffer[i/2], 24, 1);
			vmdata[9] = UTIL_READFROM_UINT(bitsbuffer[i/2], 25, 1);
			vmdata[10] = UTIL_READFROM_UINT(bitsbuffer[i/2], 26, 1);
			vmdata[11] = UTIL_READFROM_UINT(bitsbuffer[i/2], 27, 1);
			vmdata[12] = UTIL_READFROM_UINT(bitsbuffer[i/2], 28, 1);
			vmdata[13] = UTIL_READFROM_UINT(bitsbuffer[i/2], 29, 1);
			vmdata[14] = UTIL_READFROM_UINT(bitsbuffer[i/2], 30, 1);
			vmdata[15] = UTIL_READFROM_UINT(bitsbuffer[i/2], 31, 1);
		}
		#endif
		
		#if defined(CONFIG_READVDATA_SLIDE)
		MEMACCESS_SPL_GetXYLayoutVM(s, vmdata, vmdata2, depths, basedepth);
MEMCA_WRITETOBUFFER_VMASKS(bufferoffset + i, vmaskBITS, vmdata2, 0);
		#elif defined(CONFIG_READVDATA_SLIDEANDREARRANGE)
		unsigned int x = index2 + s;
		basedepth = (x / VECTOR2_SIZE) * VECTOR2_SIZE;
		MEMACCESS_SPL_GetXYLayoutVM(x, vmdata, vmdata2, depths, basedepth);
MEMCA_WRITETOBUFFER_VMASKS_WITHDEPTHS(depths, vmaskBITS, vmdata2, 0);
		index2 += NUM_PEs;
		#else
MEMCA_WRITETOBUFFER_VMASKS(bufferoffset + i, vmaskBITS, vmdata, 0);
		#endif
	}
	return;
}

void acts_all::MEMACCESS_SPL_readvmaskschunks(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t buffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type basevoffset_kvs, batch_type voffset_kvs, batch_type vsz_kvs, globalparams_t globalparams){				
	unsigned int depth = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION;
	unsigned int bdepth = vsz_kvs;
	unsigned int depth_i = 0;
	unsigned int bdepth_i = 0;
	unit1_type tempvmaskBITS[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // CRITICAL REMOVEME.
	
	for(unsigned int s=0; s<NUM_PEs; s++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"MEMACCESS_SPL_readvmaskschunks:: size loaded @ s("<<s<<"): voffset_kvs: "<<voffset_kvs<<", sz: "<<(vsz_kvs * VECTOR2_SIZE)<<endl;
		#endif 
		MEMACCESS_SPL_readvmasks_slide(enable, s, kvdram, tempvmaskBITS, buffer, basevoffset_kvs, depth_i, voffset_kvs, bdepth_i, vsz_kvs); 
		depth_i += depth;
		bdepth_i += bdepth;
	}
	
	int limit = 0;
	unit1_type vmdata[VECTOR2_SIZE];
	unit1_type vmdata2[VECTOR2_SIZE];
	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){
MEMCA_READFROMBUFFER_VMASKS(i, tempvmaskBITS, vmdata, 0);
		if(i<limit){ cout<<"MEMACCESS_SPL_readvmaskschunks:BEFORE:["<<i<<"]: "; for(unsigned int v=0; v<VECTOR2_SIZE; v++){ cout<<vmdata[v]<<", "; } cout<<endl; }
		MEMACCESS_SPL_RearrangeLayoutVM(i, vmdata, vmdata2);
		if(i<limit){ cout<<"MEMACCESS_SPL_readvmaskschunks:AFTER:["<<i<<"]: "; for(unsigned int v=0; v<VECTOR2_SIZE; v++){ cout<<vmdata2[v]<<", "; } cout<<endl; }
MEMCA_WRITETOBUFFER_VMASKS(i, vmaskBITS, vmdata2, 0);
	}
	
	#ifdef _DEBUGMODE_CHECKS
	for(unsigned int i=0; i<32; i++){
		cout<<"vmask buffer row "<<i<<": ";
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			cout<<vmaskBITS[v][i]<<", ";
		}
		cout<<endl;
	}
	cout<<endl;
	#endif
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"+++ MEMACCESS_SPL_readvmaskschunks:: total size (bits) loaded: "<<vsz_kvs * NUM_PEs * VECTOR2_SIZE * 32<<endl;
	#endif
	return;	
}

void acts_all::MEMACCESS_SPL_savemasks(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], batch_type baseoffset_kvs, batch_type offset_kvs, unsigned int vmaskp_offset_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MEMACCESS_SPL_savemasks:: saving vmask saved: offset_kvs: "<<offset_kvs<<", vmaskp_offset_kvs: "<<vmaskp_offset_kvs<<""<<endl;
	#endif
	
	/* ///////////////////////////////////////////////// REMOVEME
	#ifdef _DEBUGMODE_CHECKS2
	for(buffer_type k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k+=1){
		if(vmaskBITS[0][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[1][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[2][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[3][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[4][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[5][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[6][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[7][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[8][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[9][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[10][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[11][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[12][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[13][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[14][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
		if(vmaskBITS[15][k]==1){ mydebugobj->increment(2, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
	}
	#endif 
	///////////////////////////////////////////////// */
	
	uint32_type tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE]; // CRITICAL FIXME. TOO EXPENSIVE...........................
	#pragma HLS array_partition variable = tempbuffer
	uint32_type cummvmask_sp = 0;
	
	unsigned int processpartitionsz = globalparams.SIZEKVS2_PROCESSEDGESPARTITION * VECTOR2_SIZE;
	unsigned int vpmasks_i = 0;
	unsigned int realvid = 0;
	uint32_type vpmasks[BLOCKRAM_SIZE];
	unsigned int index = 0;
	unsigned int next_chpt = processpartitionsz;
	
	SAVEVMASKS_LOOP1: for(buffer_type k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k+=2){
	#pragma HLS PIPELINE II=1
		unsigned int X = index % 16;
		unsigned int Y = index / 16;
		
		unsigned int n_i = k;
		unsigned int n_iplus1 = k + 1;
		
		#ifdef _WIDEWORD
		tempbuffer[X][Y].range(0, 0) = vmaskBITS[0][n_i];
		tempbuffer[X][Y].range(1, 1) = vmaskBITS[1][n_i];
		tempbuffer[X][Y].range(2, 2) = vmaskBITS[2][n_i];
		tempbuffer[X][Y].range(3, 3) = vmaskBITS[3][n_i];
		tempbuffer[X][Y].range(4, 4) = vmaskBITS[4][n_i];
		tempbuffer[X][Y].range(5, 5) = vmaskBITS[5][n_i];
		tempbuffer[X][Y].range(6, 6) = vmaskBITS[6][n_i];
		tempbuffer[X][Y].range(7, 7) = vmaskBITS[7][n_i];
		tempbuffer[X][Y].range(8, 8) = vmaskBITS[8][n_i];
		tempbuffer[X][Y].range(9, 9) = vmaskBITS[9][n_i];
		tempbuffer[X][Y].range(10, 10) = vmaskBITS[10][n_i];
		tempbuffer[X][Y].range(11, 11) = vmaskBITS[11][n_i];
		tempbuffer[X][Y].range(12, 12) = vmaskBITS[12][n_i];
		tempbuffer[X][Y].range(13, 13) = vmaskBITS[13][n_i];
		tempbuffer[X][Y].range(14, 14) = vmaskBITS[14][n_i];
		tempbuffer[X][Y].range(15, 15) = vmaskBITS[15][n_i];
		tempbuffer[X][Y].range(16, 16) = vmaskBITS[0][n_iplus1];
		tempbuffer[X][Y].range(17, 17) = vmaskBITS[1][n_iplus1];
		tempbuffer[X][Y].range(18, 18) = vmaskBITS[2][n_iplus1];
		tempbuffer[X][Y].range(19, 19) = vmaskBITS[3][n_iplus1];
		tempbuffer[X][Y].range(20, 20) = vmaskBITS[4][n_iplus1];
		tempbuffer[X][Y].range(21, 21) = vmaskBITS[5][n_iplus1];
		tempbuffer[X][Y].range(22, 22) = vmaskBITS[6][n_iplus1];
		tempbuffer[X][Y].range(23, 23) = vmaskBITS[7][n_iplus1];
		tempbuffer[X][Y].range(24, 24) = vmaskBITS[8][n_iplus1];
		tempbuffer[X][Y].range(25, 25) = vmaskBITS[9][n_iplus1];
		tempbuffer[X][Y].range(26, 26) = vmaskBITS[10][n_iplus1];
		tempbuffer[X][Y].range(27, 27) = vmaskBITS[11][n_iplus1];
		tempbuffer[X][Y].range(28, 28) = vmaskBITS[12][n_iplus1];
		tempbuffer[X][Y].range(29, 29) = vmaskBITS[13][n_iplus1];
		tempbuffer[X][Y].range(30, 30) = vmaskBITS[14][n_iplus1];
		tempbuffer[X][Y].range(31, 31) = vmaskBITS[15][n_iplus1];
		#else
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 0, 1, vmaskBITS[0][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 1, 1, vmaskBITS[1][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 2, 1, vmaskBITS[2][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 3, 1, vmaskBITS[3][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 4, 1, vmaskBITS[4][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 5, 1, vmaskBITS[5][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 6, 1, vmaskBITS[6][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 7, 1, vmaskBITS[7][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 8, 1, vmaskBITS[8][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 9, 1, vmaskBITS[9][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 10, 1, vmaskBITS[10][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 11, 1, vmaskBITS[11][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 12, 1, vmaskBITS[12][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 13, 1, vmaskBITS[13][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 14, 1, vmaskBITS[14][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 15, 1, vmaskBITS[15][n_i]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 16, 1, vmaskBITS[0][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 17, 1, vmaskBITS[1][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 18, 1, vmaskBITS[2][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 19, 1, vmaskBITS[3][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 20, 1, vmaskBITS[4][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 21, 1, vmaskBITS[5][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 22, 1, vmaskBITS[6][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 23, 1, vmaskBITS[7][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 24, 1, vmaskBITS[8][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 25, 1, vmaskBITS[9][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 26, 1, vmaskBITS[10][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 27, 1, vmaskBITS[11][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 28, 1, vmaskBITS[12][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 29, 1, vmaskBITS[13][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 30, 1, vmaskBITS[14][n_iplus1]);
UTIL_WRITETO_UINT(&tempbuffer[X][Y], 31, 1, vmaskBITS[15][n_iplus1]);
		#endif
		index += 1;
		
		uint32_type maskA = UTIL_CONVERTVMASKTOUINT32(vmaskBITS, n_i);
		uint32_type maskB = UTIL_CONVERTVMASKTOUINT32(vmaskBITS, n_iplus1);
		cummvmask_sp = cummvmask_sp | maskA | maskB;
		// cout<<"MEMACCESS_SPL_savemasks:: maskA: "<<maskA<<", maskB: "<<maskB<<", cummvmask_sp: "<<cummvmask_sp<<endl;
		
		realvid = UTIL_GETREALVID(((k/2) * 32) + 32, globalparams.ACTSPARAMS_INSTID);
		#ifdef _DEBUGMODE_KERNELPRINTS
		if(realvid >= next_chpt){ cout<<"--- MEMACCESS_SPL_savemasks:: next checkpoint seen @ k: "<<k<<", realvid["<<k/2<<"]: "<<realvid<<", vpmasks_i: "<<vpmasks_i<<", cummvmask_sp: "<<cummvmask_sp<<endl; }
		#endif 
		if(realvid >= next_chpt){ vpmasks[vpmasks_i] = cummvmask_sp; cummvmask_sp = 0; vpmasks_i += 1; next_chpt += processpartitionsz; } // CRITICAL FIXME. TOO EXPENSIVE. CRITICAL FIXME.
	}
	#ifdef _DEBUGMODE_KERNELPRINTS2
	cout<<"--- MEMACCESS_SPL_savemasks:: FINISHED. realvid: "<<realvid<<", vpmasks_i: "<<vpmasks_i<<endl;
	#endif 
	#ifdef _DEBUGMODE_CHECKS3
	if(vpmasks_i != NUM_PEs){ cout<<"--- MEMACCESS_SPL_savemasks:: ERROR: vpmasks_i("<<vpmasks_i<<") != NUM_PEs("<<NUM_PEs<<"). EXITING...."<<endl; exit(EXIT_FAILURE); }
	#endif
	
	SAVEVMASKS_LOOP2: for(buffer_type k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		kvdram[baseoffset_kvs + offset_kvs + k].range(31, 0) = tempbuffer[0][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(63, 32) = tempbuffer[1][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(95, 64) = tempbuffer[2][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(127, 96) = tempbuffer[3][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(159, 128) = tempbuffer[4][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(191, 160) = tempbuffer[5][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(223, 192) = tempbuffer[6][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(255, 224) = tempbuffer[7][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(287, 256) = tempbuffer[8][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(319, 288) = tempbuffer[9][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(351, 320) = tempbuffer[10][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(383, 352) = tempbuffer[11][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(415, 384) = tempbuffer[12][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(447, 416) = tempbuffer[13][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(479, 448) = tempbuffer[14][k];
		kvdram[baseoffset_kvs + offset_kvs + k].range(511, 480) = tempbuffer[15][k];
		#else
		kvdram[baseoffset_kvs + offset_kvs + k].data[0].key = tempbuffer[0][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[0].value = tempbuffer[1][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[1].key = tempbuffer[2][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[1].value = tempbuffer[3][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[2].key = tempbuffer[4][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[2].value = tempbuffer[5][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[3].key = tempbuffer[6][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[3].value = tempbuffer[7][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[4].key = tempbuffer[8][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[4].value = tempbuffer[9][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[5].key = tempbuffer[10][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[5].value = tempbuffer[11][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[6].key = tempbuffer[12][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[6].value = tempbuffer[13][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[7].key = tempbuffer[14][k];
		kvdram[baseoffset_kvs + offset_kvs + k].data[7].value = tempbuffer[15][k];
		#endif
	}
	
	SAVEVMASKS_LOOP3: for(buffer_type n=0; n<NUM_PEs; n++){
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		kvdram[vmaskp_offset_kvs + n]
			#ifdef _WIDEWORD
			.range(31, 0)
			#else
			.data[0].key
			#endif
		= vpmasks[n];
		#endif
	}
	// exit(EXIT_SUCCESS); //////////////
	return;
}

// -------------------- pmasks -------------------- //
void acts_all::MEMACCESS_SPL_readpmask(uint512_dt * kvdram, uint32_type vmask_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}

// -------------------- stats -------------------- //
void acts_all::MEMACCESS_SPL_readglobalstats(bool_type enable, uint512_dt * kvdram, keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], batch_type offset_kvs, globalparams_t globalparams){ 
	if(enable == OFF){ return; }
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("readglobalstats", offset_kvs + NUM_PARTITIONS, globalparams.BASEOFFSETKVS_STATSDRAM + KVSTATSDRAMSZ_KVS + 1, NAp, NAp, NAp);
	#endif
	
	READGLOBALSTATS_LOOP: for (buffer_type i=0; i<NUM_PARTITIONS; i++){
		#if NUM_EDGE_BANKS==0
			keyvalue_t kv;
			#ifdef _WIDEWORD
			kv.key = kvdram[offset_kvs + i].range(31, 0); 
			kv.value = kvdram[offset_kvs + i].range(63, 32); 
			#else 
			kv.key = kvdram[offset_kvs + i].data[0].key;
			kv.value = kvdram[offset_kvs + i].data[0].value;
			#endif 
			globalstatsbuffer[i] = kv;
		#else 
			uint512_vec_dt vec;
			#ifdef _WIDEWORD
			vec.data[0].key = kvdram[offset_kvs + i].range(31, 0); 
			vec.data[0].value = kvdram[offset_kvs + i].range(63, 32); 
			vec.data[1].key = kvdram[offset_kvs + i].range(95, 64); 
			vec.data[1].value = kvdram[offset_kvs + i].range(127, 96); 
			vec.data[2].key = kvdram[offset_kvs + i].range(159, 128); 
			vec.data[2].value = kvdram[offset_kvs + i].range(191, 160); 
			vec.data[3].key = kvdram[offset_kvs + i].range(223, 192); 
			vec.data[3].value = kvdram[offset_kvs + i].range(255, 224); 
			vec.data[4].key = kvdram[offset_kvs + i].range(287, 256); 
			vec.data[4].value = kvdram[offset_kvs + i].range(319, 288); 
			vec.data[5].key = kvdram[offset_kvs + i].range(351, 320); 
			vec.data[5].value = kvdram[offset_kvs + i].range(383, 352); 
			vec.data[6].key = kvdram[offset_kvs + i].range(415, 384); 
			vec.data[6].value = kvdram[offset_kvs + i].range(447, 416); 
			vec.data[7].key = kvdram[offset_kvs + i].range(479, 448); 
			vec.data[7].value = kvdram[offset_kvs + i].range(511, 480); 
			#else 
			vec.data[0].key = kvdram[offset_kvs + i].data[0].key; 
			vec.data[0].value = kvdram[offset_kvs + i].data[0].value; 
			vec.data[1].key = kvdram[offset_kvs + i].data[1].key; 
			vec.data[1].value = kvdram[offset_kvs + i].data[1].value; 
			vec.data[2].key = kvdram[offset_kvs + i].data[2].key; 
			vec.data[2].value = kvdram[offset_kvs + i].data[2].value; 
			vec.data[3].key = kvdram[offset_kvs + i].data[3].key; 
			vec.data[3].value = kvdram[offset_kvs + i].data[3].value; 
			vec.data[4].key = kvdram[offset_kvs + i].data[4].key; 
			vec.data[4].value = kvdram[offset_kvs + i].data[4].value; 
			vec.data[5].key = kvdram[offset_kvs + i].data[5].key; 
			vec.data[5].value = kvdram[offset_kvs + i].data[5].value; 
			vec.data[6].key = kvdram[offset_kvs + i].data[6].key; 
			vec.data[6].value = kvdram[offset_kvs + i].data[6].value; 
			vec.data[7].key = kvdram[offset_kvs + i].data[7].key; 
			vec.data[7].value = kvdram[offset_kvs + i].data[7].value; 
			#endif 
			globalstatsbuffer[i] = vec.data[globalparams.VARS_WORKBATCH];
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printkeyvalues("readglobalstats.globalstatsbuffer", globalstatsbuffer, NUM_PARTITIONS); 
	#endif
	return;
}

void acts_all::MEMACCESS_SPL_saveglobalstats(bool_type enable, uint512_dt * kvdram, keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], batch_type offset_kvs, globalparams_t globalparams){ 
	if(enable == OFF){ return; }
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("saveglobalstats", offset_kvs + NUM_PARTITIONS, globalparams.BASEOFFSETKVS_STATSDRAM + KVSTATSDRAMSZ_KVS + 1, offset_kvs, NUM_PARTITIONS, KVSTATSDRAMSZ_KVS);
	#endif
	
	SAVEGLOBALSTATS_LOOP: for (buffer_type i=0; i<NUM_PARTITIONS; i++){
		#if NUM_EDGE_BANKS==0
			#ifdef _WIDEWORD
			kvdram[offset_kvs + i].range(31, 0) = globalstatsbuffer[i].key; 
			kvdram[offset_kvs + i].range(63, 32) = globalstatsbuffer[i].value; 
			#else
			kvdram[offset_kvs + i].data[0].key = globalstatsbuffer[i].key; 
			kvdram[offset_kvs + i].data[0].value = globalstatsbuffer[i].value; 
			#endif
		#else
			#ifdef _WIDEWORD
 if(globalparams.VARS_WORKBATCH == 0){
				kvdram[offset_kvs + i].range(31, 0) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(63, 32) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 1){
				kvdram[offset_kvs + i].range(95, 64) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(127, 96) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 2){
				kvdram[offset_kvs + i].range(159, 128) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(191, 160) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 3){
				kvdram[offset_kvs + i].range(223, 192) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(255, 224) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 4){
				kvdram[offset_kvs + i].range(287, 256) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(319, 288) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 5){
				kvdram[offset_kvs + i].range(351, 320) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(383, 352) = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 6){
				kvdram[offset_kvs + i].range(415, 384) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(447, 416) = globalstatsbuffer[i].value; 
			}
else {
				kvdram[offset_kvs + i].range(479, 448) = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].range(511, 480) = globalstatsbuffer[i].value; 
			}
			#else 
 if(globalparams.VARS_WORKBATCH == 0){
				kvdram[offset_kvs + i].data[0].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[0].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 1){
				kvdram[offset_kvs + i].data[1].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[1].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 2){
				kvdram[offset_kvs + i].data[2].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[2].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 3){
				kvdram[offset_kvs + i].data[3].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[3].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 4){
				kvdram[offset_kvs + i].data[4].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[4].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 5){
				kvdram[offset_kvs + i].data[5].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[5].value = globalstatsbuffer[i].value; 
			}
else if(globalparams.VARS_WORKBATCH == 6){
				kvdram[offset_kvs + i].data[6].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[6].value = globalstatsbuffer[i].value; 
			}
else {
				kvdram[offset_kvs + i].data[7].key = globalstatsbuffer[i].key; 
				kvdram[offset_kvs + i].data[7].value = globalstatsbuffer[i].value; 
			}
			#endif
		#endif 

		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalvar_savestats_counttotalstatswritten(VECTOR_SIZE);
		#endif
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printkeyvalues("MEMACCESS_SPL_saveglobalstats.globalstatsbuffer", globalstatsbuffer, NUM_PARTITIONS); 
	#endif
	return;
}

tuple_t acts_all::MEMACCESS_SPL_getvptrs( uint512_dt * kvdram, unsigned int beginoffset, unsigned int endoffset, unsigned int edgebankID){
	#pragma HLS INLINE
	
	keyy_t beginvptr = 0;
	keyy_t endvptr = 0;
	
	#if NUM_EDGE_BANKS==0
		#ifdef _WIDEWORD
		beginvptr = kvdram[beginoffset].range(31, 0);
		endvptr = kvdram[endoffset].range(31, 0); 
		#else 
		beginvptr = kvdram[beginoffset].data[0].key;
		endvptr = kvdram[endoffset].data[0].key;
		#endif 
	#else
		if(edgebankID == 0){
			#ifdef _WIDEWORD
			beginvptr = edges0[beginoffset].range(31, 0);
			endvptr = edges0[endoffset].range(31, 0); 
			#else 
			beginvptr = edges0[beginoffset].data[0].key;
			endvptr = edges0[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>1
		else if(edgebankID == 1){
			#ifdef _WIDEWORD
			beginvptr = edges1[beginoffset].range(31, 0);
			endvptr = edges1[endoffset].range(31, 0); 
			#else 
			beginvptr = edges1[beginoffset].data[0].key;
			endvptr = edges1[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>2
		else if(edgebankID == 2){
			#ifdef _WIDEWORD
			beginvptr = edges2[beginoffset].range(31, 0);
			endvptr = edges2[endoffset].range(31, 0); 
			#else 
			beginvptr = edges2[beginoffset].data[0].key;
			endvptr = edges2[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>3
		else if(edgebankID == 3){
			#ifdef _WIDEWORD
			beginvptr = edges3[beginoffset].range(31, 0);
			endvptr = edges3[endoffset].range(31, 0); 
			#else 
			beginvptr = edges3[beginoffset].data[0].key;
			endvptr = edges3[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>4
		else if(edgebankID == 4){
			#ifdef _WIDEWORD
			beginvptr = edges4[beginoffset].range(31, 0);
			endvptr = edges4[endoffset].range(31, 0); 
			#else 
			beginvptr = edges4[beginoffset].data[0].key;
			endvptr = edges4[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>5
		else if(edgebankID == 5){
			#ifdef _WIDEWORD
			beginvptr = edges5[beginoffset].range(31, 0);
			endvptr = edges5[endoffset].range(31, 0); 
			#else 
			beginvptr = edges5[beginoffset].data[0].key;
			endvptr = edges5[endoffset].data[0].key;
			#endif 
		} 
		#if NUM_EDGE_BANKS>6
		else if(edgebankID == 6){
			#ifdef _WIDEWORD
			beginvptr = edges6[beginoffset].range(31, 0);
			endvptr = edges6[endoffset].range(31, 0); 
			#else 
			beginvptr = edges6[beginoffset].data[0].key;
			endvptr = edges6[endoffset].data[0].key;
			#endif 
		}
		#if NUM_EDGE_BANKS>7
		else if(edgebankID == 7){
			#ifdef _WIDEWORD
			beginvptr = edges7[beginoffset].range(31, 0);
			endvptr = edges7[endoffset].range(31, 0); 
			#else 
			beginvptr = edges7[beginoffset].data[0].key;
			endvptr = edges7[endoffset].data[0].key;
			#endif 
		}
	#endif
	#endif 
	#endif 
	#endif 
	#endif
	#endif 
	#endif
	else {
		#ifdef _WIDEWORD 
		beginvptr = NAp; 
		endvptr = NAp; 
		#else 
		beginvptr = NAp;
		endvptr = NAp;
		#endif 
	}
	#endif 

	tuple_t t; t.A = beginvptr; t.B = endvptr;
	return t;
}

unsigned int acts_all::MEMACCESS_SPL_getvptr(uint512_dt * kvdram, unsigned int baseoffset_kvs, unsigned int offset){
	keyvalue_t vptr_kv;
	
	uint512_dt V = kvdram[baseoffset_kvs + (offset / 16)];
	unsigned int M = (offset % 16) / 2;
	
	#ifdef _WIDEWORD
 if(M == 0){
		vptr_kv.key = V.range(31, 0); 
		vptr_kv.value = V.range(63, 32); 
	}
else if(M == 1){
		vptr_kv.key = V.range(95, 64); 
		vptr_kv.value = V.range(127, 96); 
	}
else if(M == 2){
		vptr_kv.key = V.range(159, 128); 
		vptr_kv.value = V.range(191, 160); 
	}
else if(M == 3){
		vptr_kv.key = V.range(223, 192); 
		vptr_kv.value = V.range(255, 224); 
	}
else if(M == 4){
		vptr_kv.key = V.range(287, 256); 
		vptr_kv.value = V.range(319, 288); 
	}
else if(M == 5){
		vptr_kv.key = V.range(351, 320); 
		vptr_kv.value = V.range(383, 352); 
	}
else if(M == 6){
		vptr_kv.key = V.range(415, 384); 
		vptr_kv.value = V.range(447, 416); 
	}
else {
		vptr_kv.key = V.range(479, 448); 
		vptr_kv.value = V.range(511, 480); 
	}
	#else 
 if(M == 0){
		vptr_kv.key = V.data[0].key; 
		vptr_kv.value = V.data[0].value; 
	}
else if(M == 1){
		vptr_kv.key = V.data[1].key; 
		vptr_kv.value = V.data[1].value; 
	}
else if(M == 2){
		vptr_kv.key = V.data[2].key; 
		vptr_kv.value = V.data[2].value; 
	}
else if(M == 3){
		vptr_kv.key = V.data[3].key; 
		vptr_kv.value = V.data[3].value; 
	}
else if(M == 4){
		vptr_kv.key = V.data[4].key; 
		vptr_kv.value = V.data[4].value; 
	}
else if(M == 5){
		vptr_kv.key = V.data[5].key; 
		vptr_kv.value = V.data[5].value; 
	}
else if(M == 6){
		vptr_kv.key = V.data[6].key; 
		vptr_kv.value = V.data[6].value; 
	}
else {
		vptr_kv.key = V.data[7].key; 
		vptr_kv.value = V.data[7].value; 
	}
	#endif
	
	if(offset % 2 == 0){ return vptr_kv.key; }
	else { return vptr_kv.value; }
}

tuple_t acts_all::MEMACCESS_SPL_getvptrs_opt( uint512_dt * kvdram, unsigned int baseoffset_kvs, unsigned int beginoffset, unsigned int endoffset, unsigned int edgebankID){
	#pragma HLS INLINE
	keyy_t beginvptr = 0;
	keyy_t endvptr = 0;
	
	beginoffset = beginoffset / VPTR_SHRINK_RATIO; // convert-to-appropriate-skip-format
	endoffset = endoffset / VPTR_SHRINK_RATIO;
	
	#if NUM_EDGE_BANKS==0
		beginvptr = MEMACCESS_SPL_getvptr(kvdram, baseoffset_kvs, beginoffset);
		endvptr = MEMACCESS_SPL_getvptr(kvdram, baseoffset_kvs, endoffset);
	#else
		if(edgebankID == 0){
			beginvptr = MEMACCESS_SPL_getvptr(edges0, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges0, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>1
		else if(edgebankID == 1){
			beginvptr = MEMACCESS_SPL_getvptr(edges1, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges1, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>2
		else if(edgebankID == 2){
			beginvptr = MEMACCESS_SPL_getvptr(edges2, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges2, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>3
		else if(edgebankID == 3){
			beginvptr = MEMACCESS_SPL_getvptr(edges3, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges3, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>4
		else if(edgebankID == 4){
			beginvptr = MEMACCESS_SPL_getvptr(edges4, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges4, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>5
		else if(edgebankID == 5){
			beginvptr = MEMACCESS_SPL_getvptr(edges5, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges5, baseoffset_kvs, endoffset);
		} 
		#if NUM_EDGE_BANKS>6
		else if(edgebankID == 6){
			beginvptr = MEMACCESS_SPL_getvptr(edges6, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges6, baseoffset_kvs, endoffset);
		}
		#if NUM_EDGE_BANKS>7
		else if(edgebankID == 7){
			beginvptr = MEMACCESS_SPL_getvptr(edges7, baseoffset_kvs, beginoffset);
			endvptr = MEMACCESS_SPL_getvptr(edges7, baseoffset_kvs, endoffset);
		}
	#endif
	#endif 
	#endif 
	#endif 
	#endif
	#endif 
	#endif
	else {
		#ifdef _WIDEWORD 
		beginvptr = NAp; 
		endvptr = NAp; 
		#else 
		beginvptr = NAp;
		endvptr = NAp;
		#endif 
	}
	#endif 

	tuple_t t; t.A = beginvptr; t.B = endvptr;
	return t;
}

void acts_all::MEMACCESS_SPL_copystats(uint512_dt * edges, uint512_dt * kvdram, globalparams_t globalparamsE, globalparams_t globalparamsK){
	analysis_type analysis_treedepth = TREE_DEPTH;
	analysis_type analysis_loop1 = 1;
	
	COPYSTATS_LOOP1: for(unsigned int k=0; k<globalparamsK.SIZE_KVSTATSDRAM; k++){
	#pragma HLS PIPELINE II=1
		kvdram[globalparamsK.BASEOFFSETKVS_STATSDRAM + k] = edges[globalparamsE.BASEOFFSETKVS_STATSDRAM + k];
	}
	return;
}

void acts_all::MEMACCESS_SPL_copyallstats( uint512_dt * kvdram, globalparams_t globalparamsE, globalparams_t globalparamsK, unsigned int edgebankID){
	analysis_type analysis_treedepth = TREE_DEPTH;
	analysis_type analysis_loop1 = 1;

	return;
}

void acts_all::MEMACCESS_SPL_commitkvstats(uint512_dt * kvdram, value_t * buffer, globalparams_t globalparams, unsigned int offset){
	unsigned int totalnumpartitionsb4last = 0;
	RETRIEVEKVSTATS_LOOP1: for(unsigned int k=0; k<globalparams.ACTSPARAMS_TREEDEPTH; k++){ totalnumpartitionsb4last += (1 << (NUM_PARTITIONS_POW * k)); }
	for(unsigned int k=0; k<totalnumpartitionsb4last; k++){
		#ifdef _WIDEWORD
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset + k].range(63, 32) = buffer[k]; 
		#else
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset  + k].data[0].value = buffer[k]; 
		#endif
	}
	
	#ifdef _WIDEWORD
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparams.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparams.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	return;
}

void acts_all::MEMACCESS_SPL_commitkvstats2(uint512_dt * kvdram, value_t * buffer, globalparams_t globalparams, unsigned int offset, unsigned int size){
	for(unsigned int k=0; k<size; k++){
		#ifdef _WIDEWORD
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset + k].range(63, 32) = buffer[k]; 
		#else
		kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset  + k].data[0].value = buffer[k]; 
		#endif
	}
	return;
}

void acts_all::MEMACCESS_SPL_retreievekvstats(uint512_dt * kvdram, value_t * buffer, globalparams_t globalparams, unsigned int offset, unsigned int size){
	for(unsigned int k=0; k<size; k++){
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		buffer[k] = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset + k].range(63, 32); 
		#else
		buffer[k] = kvdram[globalparams.BASEOFFSETKVS_STATSDRAM + offset + k].data[0].value; 
		#endif
	}
}

////
void acts_all::MEMACCESS_SPL_readmanyvmasks1(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks2(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks3(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks4(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks5(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks6(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks7(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks8(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS7[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS7[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS7[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS7[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS7[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS7[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS7[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS7[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS7[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS7[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS7[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS7[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS7[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS7[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS7[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS7[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS7[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS7[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS7[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS7[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS7[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS7[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS7[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS7[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS7[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS7[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS7[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS7[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS7[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS7[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS7[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS7[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS7[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS7[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS7[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS7[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS7[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS7[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS7[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS7[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS7[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS7[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS7[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS7[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS7[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS7[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS7[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS7[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS7[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS7[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS7[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS7[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS7[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS7[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS7[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS7[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS7[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS7[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS7[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS7[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS7[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS7[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS7[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS7[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS7[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks9(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS7[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS8[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS7[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS7[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS7[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS7[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS7[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS7[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS7[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS7[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS7[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS7[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS7[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS7[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS7[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS7[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS7[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS7[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS7[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS7[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS7[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS7[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS7[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS7[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS7[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS7[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS7[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS7[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS7[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS7[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS7[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS7[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS7[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS7[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS7[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS7[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS7[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS7[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS7[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS7[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS7[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS7[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS7[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS7[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS7[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS7[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS7[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS7[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS7[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS7[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS7[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS7[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS7[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS7[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS7[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS7[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS7[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS7[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS7[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS7[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS7[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS7[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS7[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS7[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS7[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS7[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS8[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS8[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS8[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS8[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS8[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS8[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS8[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS8[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS8[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS8[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS8[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS8[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS8[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS8[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS8[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS8[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS8[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS8[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS8[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS8[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS8[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS8[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS8[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS8[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS8[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS8[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS8[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS8[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS8[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS8[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS8[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS8[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS8[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS8[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS8[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS8[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS8[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS8[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS8[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS8[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS8[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS8[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS8[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS8[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS8[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS8[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS8[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS8[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS8[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS8[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS8[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS8[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS8[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS8[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS8[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS8[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS8[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS8[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS8[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS8[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS8[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS8[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS8[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS8[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks10(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS7[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS8[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS9[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS7[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS7[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS7[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS7[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS7[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS7[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS7[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS7[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS7[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS7[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS7[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS7[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS7[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS7[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS7[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS7[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS7[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS7[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS7[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS7[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS7[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS7[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS7[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS7[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS7[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS7[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS7[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS7[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS7[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS7[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS7[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS7[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS7[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS7[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS7[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS7[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS7[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS7[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS7[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS7[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS7[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS7[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS7[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS7[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS7[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS7[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS7[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS7[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS7[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS7[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS7[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS7[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS7[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS7[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS7[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS7[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS7[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS7[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS7[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS7[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS7[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS7[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS7[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS7[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS8[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS8[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS8[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS8[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS8[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS8[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS8[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS8[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS8[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS8[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS8[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS8[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS8[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS8[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS8[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS8[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS8[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS8[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS8[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS8[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS8[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS8[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS8[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS8[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS8[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS8[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS8[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS8[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS8[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS8[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS8[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS8[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS8[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS8[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS8[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS8[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS8[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS8[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS8[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS8[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS8[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS8[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS8[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS8[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS8[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS8[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS8[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS8[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS8[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS8[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS8[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS8[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS8[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS8[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS8[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS8[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS8[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS8[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS8[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS8[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS8[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS8[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS8[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS8[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS9[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS9[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS9[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS9[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS9[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS9[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS9[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS9[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS9[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS9[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS9[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS9[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS9[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS9[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS9[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS9[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS9[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS9[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS9[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS9[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS9[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS9[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS9[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS9[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS9[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS9[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS9[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS9[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS9[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS9[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS9[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS9[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS9[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS9[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS9[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS9[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS9[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS9[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS9[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS9[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS9[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS9[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS9[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS9[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS9[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS9[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS9[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS9[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS9[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS9[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS9[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS9[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS9[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS9[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS9[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS9[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS9[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS9[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS9[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS9[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS9[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS9[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS9[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS9[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks11(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS7[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS8[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS9[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS10[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS7[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS7[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS7[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS7[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS7[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS7[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS7[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS7[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS7[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS7[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS7[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS7[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS7[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS7[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS7[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS7[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS7[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS7[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS7[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS7[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS7[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS7[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS7[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS7[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS7[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS7[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS7[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS7[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS7[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS7[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS7[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS7[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS7[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS7[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS7[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS7[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS7[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS7[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS7[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS7[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS7[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS7[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS7[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS7[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS7[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS7[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS7[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS7[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS7[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS7[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS7[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS7[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS7[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS7[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS7[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS7[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS7[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS7[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS7[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS7[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS7[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS7[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS7[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS7[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS8[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS8[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS8[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS8[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS8[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS8[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS8[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS8[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS8[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS8[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS8[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS8[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS8[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS8[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS8[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS8[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS8[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS8[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS8[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS8[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS8[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS8[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS8[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS8[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS8[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS8[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS8[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS8[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS8[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS8[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS8[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS8[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS8[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS8[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS8[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS8[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS8[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS8[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS8[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS8[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS8[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS8[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS8[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS8[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS8[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS8[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS8[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS8[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS8[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS8[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS8[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS8[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS8[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS8[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS8[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS8[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS8[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS8[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS8[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS8[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS8[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS8[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS8[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS8[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS9[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS9[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS9[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS9[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS9[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS9[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS9[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS9[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS9[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS9[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS9[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS9[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS9[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS9[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS9[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS9[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS9[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS9[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS9[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS9[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS9[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS9[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS9[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS9[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS9[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS9[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS9[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS9[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS9[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS9[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS9[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS9[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS9[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS9[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS9[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS9[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS9[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS9[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS9[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS9[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS9[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS9[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS9[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS9[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS9[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS9[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS9[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS9[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS9[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS9[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS9[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS9[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS9[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS9[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS9[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS9[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS9[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS9[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS9[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS9[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS9[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS9[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS9[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS9[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS10[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS10[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS10[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS10[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS10[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS10[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS10[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS10[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS10[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS10[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS10[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS10[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS10[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS10[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS10[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS10[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS10[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS10[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS10[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS10[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS10[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS10[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS10[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS10[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS10[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS10[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS10[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS10[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS10[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS10[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS10[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS10[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS10[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS10[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS10[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS10[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS10[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS10[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS10[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS10[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS10[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS10[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS10[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS10[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS10[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS10[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS10[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS10[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS10[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS10[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS10[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS10[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS10[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS10[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS10[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS10[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS10[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS10[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS10[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS10[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS10[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS10[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS10[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS10[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanyvmasks12(bool_type enable, uint512_dt * kvdram, unit1_type vmaskBITS0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS1[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS2[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS3[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS4[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS5[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS6[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS7[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS8[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS9[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS10[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmaskBITS11[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_vbuffer_t tempbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], batch_type offset_kvs, buffer_type size_kvs, globalparams_t globalparams){
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;
	uint32_type bitsbuffer[MAXREDUCEBUFFERSZ];

	READVMASKS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount1 avg=analysis_loopcount1
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		tempbuffer[0][i] = kvdram[offset_kvs + i].range(31, 0); 
		tempbuffer[1][i] = kvdram[offset_kvs + i].range(63, 32); 
		tempbuffer[2][i] = kvdram[offset_kvs + i].range(95, 64); 
		tempbuffer[3][i] = kvdram[offset_kvs + i].range(127, 96); 
		tempbuffer[4][i] = kvdram[offset_kvs + i].range(159, 128); 
		tempbuffer[5][i] = kvdram[offset_kvs + i].range(191, 160); 
		tempbuffer[6][i] = kvdram[offset_kvs + i].range(223, 192); 
		tempbuffer[7][i] = kvdram[offset_kvs + i].range(255, 224); 
		tempbuffer[8][i] = kvdram[offset_kvs + i].range(287, 256); 
		tempbuffer[9][i] = kvdram[offset_kvs + i].range(319, 288); 
		tempbuffer[10][i] = kvdram[offset_kvs + i].range(351, 320); 
		tempbuffer[11][i] = kvdram[offset_kvs + i].range(383, 352); 
		tempbuffer[12][i] = kvdram[offset_kvs + i].range(415, 384); 
		tempbuffer[13][i] = kvdram[offset_kvs + i].range(447, 416); 
		tempbuffer[14][i] = kvdram[offset_kvs + i].range(479, 448); 
		tempbuffer[15][i] = kvdram[offset_kvs + i].range(511, 480); 
		#else 
		tempbuffer[0][i].key = kvdram[offset_kvs + i].data[0].key;
		tempbuffer[0][i].value = kvdram[offset_kvs + i].data[0].value; 
		tempbuffer[1][i].key = kvdram[offset_kvs + i].data[1].key;
		tempbuffer[1][i].value = kvdram[offset_kvs + i].data[1].value; 
		tempbuffer[2][i].key = kvdram[offset_kvs + i].data[2].key;
		tempbuffer[2][i].value = kvdram[offset_kvs + i].data[2].value; 
		tempbuffer[3][i].key = kvdram[offset_kvs + i].data[3].key;
		tempbuffer[3][i].value = kvdram[offset_kvs + i].data[3].value; 
		tempbuffer[4][i].key = kvdram[offset_kvs + i].data[4].key;
		tempbuffer[4][i].value = kvdram[offset_kvs + i].data[4].value; 
		tempbuffer[5][i].key = kvdram[offset_kvs + i].data[5].key;
		tempbuffer[5][i].value = kvdram[offset_kvs + i].data[5].value; 
		tempbuffer[6][i].key = kvdram[offset_kvs + i].data[6].key;
		tempbuffer[6][i].value = kvdram[offset_kvs + i].data[6].value; 
		tempbuffer[7][i].key = kvdram[offset_kvs + i].data[7].key;
		tempbuffer[7][i].value = kvdram[offset_kvs + i].data[7].value; 
		
		#endif 
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsread(VECTOR_SIZE);
		#endif
	}
	
	uint32_type D0;
	uint32_type D1;
	uint32_type D2;
	uint32_type D3;
	uint32_type D4;
	uint32_type D5;
	uint32_type D6;
	uint32_type D7;
	uint32_type D8;
	uint32_type D9;
	uint32_type D10;
	uint32_type D11;
	uint32_type D12;
	uint32_type D13;
	uint32_type D14;
	uint32_type D15;
	buffer_type index = 0;
	LOADVMASKS_LOOP1: for (buffer_type i=0; i<size_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
	#pragma HLS PIPELINE II=8
		#ifdef _WIDEWORD
		bitsbuffer[index + 0] = tempbuffer[0][i];
		bitsbuffer[index + 1] = tempbuffer[1][i];
		bitsbuffer[index + 2] = tempbuffer[2][i];
		bitsbuffer[index + 3] = tempbuffer[3][i];
		bitsbuffer[index + 4] = tempbuffer[4][i];
		bitsbuffer[index + 5] = tempbuffer[5][i];
		bitsbuffer[index + 6] = tempbuffer[6][i];
		bitsbuffer[index + 7] = tempbuffer[7][i];
		bitsbuffer[index + 8] = tempbuffer[8][i];
		bitsbuffer[index + 9] = tempbuffer[9][i];
		bitsbuffer[index + 10] = tempbuffer[10][i];
		bitsbuffer[index + 11] = tempbuffer[11][i];
		bitsbuffer[index + 12] = tempbuffer[12][i];
		bitsbuffer[index + 13] = tempbuffer[13][i];
		bitsbuffer[index + 14] = tempbuffer[14][i];
		bitsbuffer[index + 15] = tempbuffer[15][i];
		#else 
		bitsbuffer[index + 0] = tempbuffer[0][i].key;
		bitsbuffer[index + 1] = tempbuffer[0][i].value;
		bitsbuffer[index + 2] = tempbuffer[1][i].key;
		bitsbuffer[index + 3] = tempbuffer[1][i].value;
		bitsbuffer[index + 4] = tempbuffer[2][i].key;
		bitsbuffer[index + 5] = tempbuffer[2][i].value;
		bitsbuffer[index + 6] = tempbuffer[3][i].key;
		bitsbuffer[index + 7] = tempbuffer[3][i].value;
		bitsbuffer[index + 8] = tempbuffer[4][i].key;
		bitsbuffer[index + 9] = tempbuffer[4][i].value;
		bitsbuffer[index + 10] = tempbuffer[5][i].key;
		bitsbuffer[index + 11] = tempbuffer[5][i].value;
		bitsbuffer[index + 12] = tempbuffer[6][i].key;
		bitsbuffer[index + 13] = tempbuffer[6][i].value;
		bitsbuffer[index + 14] = tempbuffer[7][i].key;
		bitsbuffer[index + 15] = tempbuffer[7][i].value;
		#endif
		
		index += VECTOR_SIZE * 2;
	}

	// u32 => u16bits	
	buffer_type index2 = 0;
	LOADVMASKS_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=1
		#ifdef _WIDEWORD
		vmaskBITS0[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS0[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS0[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS0[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS0[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS0[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS0[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS0[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS0[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS0[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS0[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS0[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS0[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS0[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS0[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS0[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS0[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS0[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS0[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS0[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS0[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS0[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS0[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS0[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS0[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS0[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS0[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS0[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS0[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS0[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS0[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS0[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS0[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS0[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS0[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS0[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS0[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS0[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS0[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS0[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS0[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS0[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS0[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS0[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS0[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS0[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS0[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS0[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS0[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS0[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS0[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS0[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS0[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS0[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS0[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS0[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS0[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS0[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS0[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS0[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS0[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS0[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS0[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS0[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS1[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS1[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS1[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS1[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS1[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS1[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS1[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS1[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS1[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS1[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS1[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS1[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS1[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS1[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS1[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS1[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS1[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS1[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS1[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS1[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS1[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS1[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS1[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS1[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS1[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS1[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS1[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS1[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS1[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS1[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS1[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS1[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS1[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS1[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS1[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS1[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS1[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS1[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS1[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS1[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS1[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS1[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS1[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS1[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS1[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS1[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS1[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS1[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS1[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS1[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS1[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS1[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS1[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS1[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS1[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS1[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS1[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS1[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS1[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS1[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS1[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS1[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS1[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS1[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS2[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS2[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS2[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS2[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS2[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS2[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS2[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS2[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS2[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS2[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS2[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS2[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS2[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS2[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS2[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS2[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS2[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS2[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS2[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS2[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS2[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS2[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS2[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS2[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS2[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS2[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS2[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS2[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS2[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS2[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS2[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS2[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS2[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS2[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS2[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS2[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS2[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS2[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS2[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS2[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS2[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS2[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS2[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS2[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS2[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS2[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS2[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS2[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS2[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS2[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS2[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS2[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS2[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS2[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS2[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS2[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS2[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS2[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS2[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS2[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS2[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS2[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS2[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS2[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS3[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS3[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS3[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS3[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS3[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS3[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS3[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS3[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS3[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS3[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS3[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS3[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS3[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS3[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS3[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS3[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS3[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS3[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS3[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS3[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS3[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS3[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS3[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS3[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS3[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS3[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS3[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS3[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS3[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS3[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS3[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS3[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS3[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS3[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS3[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS3[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS3[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS3[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS3[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS3[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS3[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS3[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS3[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS3[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS3[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS3[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS3[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS3[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS3[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS3[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS3[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS3[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS3[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS3[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS3[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS3[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS3[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS3[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS3[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS3[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS3[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS3[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS3[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS3[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS4[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS4[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS4[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS4[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS4[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS4[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS4[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS4[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS4[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS4[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS4[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS4[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS4[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS4[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS4[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS4[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS4[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS4[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS4[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS4[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS4[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS4[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS4[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS4[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS4[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS4[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS4[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS4[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS4[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS4[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS4[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS4[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS4[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS4[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS4[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS4[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS4[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS4[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS4[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS4[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS4[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS4[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS4[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS4[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS4[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS4[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS4[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS4[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS4[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS4[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS4[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS4[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS4[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS4[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS4[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS4[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS4[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS4[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS4[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS4[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS4[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS4[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS4[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS4[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS5[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS5[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS5[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS5[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS5[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS5[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS5[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS5[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS5[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS5[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS5[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS5[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS5[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS5[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS5[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS5[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS5[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS5[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS5[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS5[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS5[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS5[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS5[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS5[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS5[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS5[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS5[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS5[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS5[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS5[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS5[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS5[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS5[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS5[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS5[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS5[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS5[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS5[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS5[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS5[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS5[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS5[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS5[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS5[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS5[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS5[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS5[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS5[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS5[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS5[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS5[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS5[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS5[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS5[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS5[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS5[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS5[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS5[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS5[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS5[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS5[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS5[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS5[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS5[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS6[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS6[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS6[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS6[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS6[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS6[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS6[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS6[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS6[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS6[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS6[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS6[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS6[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS6[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS6[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS6[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS6[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS6[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS6[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS6[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS6[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS6[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS6[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS6[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS6[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS6[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS6[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS6[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS6[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS6[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS6[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS6[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS6[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS6[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS6[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS6[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS6[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS6[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS6[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS6[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS6[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS6[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS6[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS6[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS6[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS6[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS6[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS6[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS6[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS6[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS6[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS6[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS6[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS6[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS6[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS6[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS6[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS6[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS6[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS6[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS6[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS6[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS6[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS6[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS7[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS7[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS7[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS7[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS7[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS7[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS7[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS7[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS7[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS7[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS7[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS7[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS7[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS7[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS7[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS7[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS7[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS7[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS7[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS7[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS7[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS7[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS7[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS7[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS7[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS7[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS7[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS7[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS7[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS7[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS7[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS7[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS7[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS7[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS7[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS7[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS7[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS7[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS7[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS7[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS7[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS7[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS7[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS7[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS7[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS7[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS7[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS7[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS7[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS7[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS7[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS7[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS7[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS7[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS7[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS7[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS7[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS7[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS7[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS7[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS7[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS7[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS7[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS7[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS8[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS8[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS8[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS8[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS8[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS8[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS8[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS8[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS8[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS8[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS8[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS8[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS8[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS8[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS8[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS8[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS8[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS8[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS8[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS8[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS8[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS8[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS8[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS8[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS8[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS8[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS8[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS8[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS8[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS8[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS8[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS8[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS8[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS8[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS8[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS8[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS8[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS8[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS8[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS8[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS8[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS8[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS8[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS8[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS8[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS8[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS8[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS8[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS8[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS8[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS8[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS8[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS8[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS8[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS8[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS8[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS8[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS8[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS8[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS8[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS8[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS8[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS8[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS8[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS9[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS9[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS9[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS9[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS9[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS9[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS9[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS9[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS9[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS9[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS9[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS9[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS9[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS9[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS9[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS9[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS9[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS9[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS9[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS9[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS9[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS9[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS9[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS9[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS9[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS9[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS9[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS9[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS9[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS9[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS9[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS9[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS9[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS9[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS9[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS9[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS9[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS9[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS9[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS9[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS9[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS9[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS9[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS9[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS9[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS9[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS9[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS9[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS9[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS9[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS9[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS9[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS9[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS9[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS9[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS9[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS9[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS9[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS9[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS9[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS9[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS9[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS9[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS9[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS10[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS10[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS10[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS10[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS10[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS10[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS10[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS10[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS10[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS10[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS10[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS10[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS10[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS10[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS10[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS10[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS10[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS10[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS10[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS10[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS10[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS10[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS10[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS10[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS10[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS10[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS10[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS10[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS10[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS10[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS10[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS10[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS10[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS10[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS10[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS10[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS10[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS10[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS10[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS10[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS10[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS10[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS10[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS10[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS10[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS10[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS10[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS10[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS10[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS10[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS10[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS10[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS10[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS10[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS10[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS10[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS10[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS10[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS10[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS10[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS10[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS10[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS10[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS10[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		#ifdef _WIDEWORD
		vmaskBITS11[0][index2] = bitsbuffer[i].range(0, 0);
		vmaskBITS11[1][index2] = bitsbuffer[i].range(1, 1);
		vmaskBITS11[2][index2] = bitsbuffer[i].range(2, 2);
		vmaskBITS11[3][index2] = bitsbuffer[i].range(3, 3);
		vmaskBITS11[4][index2] = bitsbuffer[i].range(4, 4);
		vmaskBITS11[5][index2] = bitsbuffer[i].range(5, 5);
		vmaskBITS11[6][index2] = bitsbuffer[i].range(6, 6);
		vmaskBITS11[7][index2] = bitsbuffer[i].range(7, 7);
		vmaskBITS11[8][index2] = bitsbuffer[i].range(8, 8);
		vmaskBITS11[9][index2] = bitsbuffer[i].range(9, 9);
		vmaskBITS11[10][index2] = bitsbuffer[i].range(10, 10);
		vmaskBITS11[11][index2] = bitsbuffer[i].range(11, 11);
		vmaskBITS11[12][index2] = bitsbuffer[i].range(12, 12);
		vmaskBITS11[13][index2] = bitsbuffer[i].range(13, 13);
		vmaskBITS11[14][index2] = bitsbuffer[i].range(14, 14);
		vmaskBITS11[15][index2] = bitsbuffer[i].range(15, 15);
		vmaskBITS11[0][index2 + 1] = bitsbuffer[i].range(16, 16);
		vmaskBITS11[1][index2 + 1] = bitsbuffer[i].range(17, 17);
		vmaskBITS11[2][index2 + 1] = bitsbuffer[i].range(18, 18);
		vmaskBITS11[3][index2 + 1] = bitsbuffer[i].range(19, 19);
		vmaskBITS11[4][index2 + 1] = bitsbuffer[i].range(20, 20);
		vmaskBITS11[5][index2 + 1] = bitsbuffer[i].range(21, 21);
		vmaskBITS11[6][index2 + 1] = bitsbuffer[i].range(22, 22);
		vmaskBITS11[7][index2 + 1] = bitsbuffer[i].range(23, 23);
		vmaskBITS11[8][index2 + 1] = bitsbuffer[i].range(24, 24);
		vmaskBITS11[9][index2 + 1] = bitsbuffer[i].range(25, 25);
		vmaskBITS11[10][index2 + 1] = bitsbuffer[i].range(26, 26);
		vmaskBITS11[11][index2 + 1] = bitsbuffer[i].range(27, 27);
		vmaskBITS11[12][index2 + 1] = bitsbuffer[i].range(28, 28);
		vmaskBITS11[13][index2 + 1] = bitsbuffer[i].range(29, 29);
		vmaskBITS11[14][index2 + 1] = bitsbuffer[i].range(30, 30);
		vmaskBITS11[15][index2 + 1] = bitsbuffer[i].range(31, 31);
		#else 
		vmaskBITS11[0][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 0, 1);
		vmaskBITS11[1][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 1, 1);
		vmaskBITS11[2][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 2, 1);
		vmaskBITS11[3][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 3, 1);
		vmaskBITS11[4][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 4, 1);
		vmaskBITS11[5][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 5, 1);
		vmaskBITS11[6][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 6, 1);
		vmaskBITS11[7][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 7, 1);
		vmaskBITS11[8][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 8, 1);
		vmaskBITS11[9][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 9, 1);
		vmaskBITS11[10][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 10, 1);
		vmaskBITS11[11][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 11, 1);
		vmaskBITS11[12][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 12, 1);
		vmaskBITS11[13][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 13, 1);
		vmaskBITS11[14][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 14, 1);
		vmaskBITS11[15][index2] = UTIL_READFROM_UINT(bitsbuffer[i], 15, 1);
		vmaskBITS11[0][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 16, 1);
		vmaskBITS11[1][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 17, 1);
		vmaskBITS11[2][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 18, 1);
		vmaskBITS11[3][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 19, 1);
		vmaskBITS11[4][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 20, 1);
		vmaskBITS11[5][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 21, 1);
		vmaskBITS11[6][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 22, 1);
		vmaskBITS11[7][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 23, 1);
		vmaskBITS11[8][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 24, 1);
		vmaskBITS11[9][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 25, 1);
		vmaskBITS11[10][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 26, 1);
		vmaskBITS11[11][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 27, 1);
		vmaskBITS11[12][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 28, 1);
		vmaskBITS11[13][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 29, 1);
		vmaskBITS11[14][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 30, 1);
		vmaskBITS11[15][index2 + 1] = UTIL_READFROM_UINT(bitsbuffer[i], 31, 1);
		#endif
		
		index2 += 2;
	}
	return;
}

void acts_all::MEMACCESS_SPL_readmanyspmask1(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask2(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask3(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask4(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask5(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask6(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask7(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask8(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask7_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask7_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask7_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask9(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask7_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask8_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask7_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask7_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask8_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask8_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask10(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask7_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask8_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask9_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask7_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask7_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask8_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask8_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask9_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask9_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask11(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask7_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask8_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask9_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask10_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask7_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask7_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask8_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask8_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask9_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask9_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask10_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask10_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask10_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask10_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask10_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask10_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask10_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask10_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask10_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask10_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask10_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask10_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask10_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask10_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask10_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask10_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask10_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask10_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask10_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask10_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask10_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask10_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask10_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask10_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask10_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask10_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask10_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask10_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask10_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask10_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask10_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask10_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}
void acts_all::MEMACCESS_SPL_readmanyspmask12(bool_type enable, unit1_type vmask0[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask0_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask1_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask2_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask3_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask4_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask5_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask6_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask7_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask8_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask9_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask10_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],unit1_type vmask11_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type size_kvs){
	
	#ifdef NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOTIMPLEMENTED // FIXME. NOT IMPLEMENTED.
	
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount1 = BLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = BLOCKRAM_SIZE / 16;
	analysis_type analysis_loopcount3 = BLOCKRAM_SIZE;
	
	buffer_type transfsize = size_kvs * 16;

	unitBRAMwidth_type tempvmask;
	#pragma HLS DATA_PACK variable = tempvmask	
	unitBRAMwidth_type tempvSUBmask;
	#pragma HLS DATA_PACK variable = tempvSUBmask		
	tempvSUBmask.data[0].key = 0;
	tempvSUBmask.data[0].value = 0;
	tempvSUBmask.data[1].key = 0;
	tempvSUBmask.data[1].value = 0;
	tempvSUBmask.data[2].key = 0;
	tempvSUBmask.data[2].value = 0;
	tempvSUBmask.data[3].key = 0;
	tempvSUBmask.data[3].value = 0;
	tempvSUBmask.data[4].key = 0;
	tempvSUBmask.data[4].value = 0;
	tempvSUBmask.data[5].key = 0;
	tempvSUBmask.data[5].value = 0;
	tempvSUBmask.data[6].key = 0;
	tempvSUBmask.data[6].value = 0;
	tempvSUBmask.data[7].key = 0;
	tempvSUBmask.data[7].value = 0;
	tempvSUBmask.data[8].key = 0;
	tempvSUBmask.data[8].value = 0;
	tempvSUBmask.data[9].key = 0;
	tempvSUBmask.data[9].value = 0;
	tempvSUBmask.data[10].key = 0;
	tempvSUBmask.data[10].value = 0;
	tempvSUBmask.data[11].key = 0;
	tempvSUBmask.data[11].value = 0;
	tempvSUBmask.data[12].key = 0;
	tempvSUBmask.data[12].value = 0;
	tempvSUBmask.data[13].key = 0;
	tempvSUBmask.data[13].value = 0;
	tempvSUBmask.data[14].key = 0;
	tempvSUBmask.data[14].value = 0;
	tempvSUBmask.data[15].key = 0;
	tempvSUBmask.data[15].value = 0;
	LOADVMASKSSUBP_LOOP2: for (buffer_type i=0; i<transfsize; i++){ // transfsize, reducebuffersz
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount3 avg=analysis_loopcount3
	#pragma HLS PIPELINE II=2
		
		tempvmask = vmask0[i];
		
		// subp mask 
		#ifdef ENABLE_SUBVMASKING
		tempvSUBmask.data[0].key = tempvSUBmask.data[0].key | tempvmask.data[0].key;
		tempvSUBmask.data[0].value = tempvSUBmask.data[0].value | tempvmask.data[0].value;
		tempvSUBmask.data[1].key = tempvSUBmask.data[1].key | tempvmask.data[1].key;
		tempvSUBmask.data[1].value = tempvSUBmask.data[1].value | tempvmask.data[1].value;
		tempvSUBmask.data[2].key = tempvSUBmask.data[2].key | tempvmask.data[2].key;
		tempvSUBmask.data[2].value = tempvSUBmask.data[2].value | tempvmask.data[2].value;
		tempvSUBmask.data[3].key = tempvSUBmask.data[3].key | tempvmask.data[3].key;
		tempvSUBmask.data[3].value = tempvSUBmask.data[3].value | tempvmask.data[3].value;
		tempvSUBmask.data[4].key = tempvSUBmask.data[4].key | tempvmask.data[4].key;
		tempvSUBmask.data[4].value = tempvSUBmask.data[4].value | tempvmask.data[4].value;
		tempvSUBmask.data[5].key = tempvSUBmask.data[5].key | tempvmask.data[5].key;
		tempvSUBmask.data[5].value = tempvSUBmask.data[5].value | tempvmask.data[5].value;
		tempvSUBmask.data[6].key = tempvSUBmask.data[6].key | tempvmask.data[6].key;
		tempvSUBmask.data[6].value = tempvSUBmask.data[6].value | tempvmask.data[6].value;
		tempvSUBmask.data[7].key = tempvSUBmask.data[7].key | tempvmask.data[7].key;
		tempvSUBmask.data[7].value = tempvSUBmask.data[7].value | tempvmask.data[7].value;
		tempvSUBmask.data[8].key = tempvSUBmask.data[8].key | tempvmask.data[8].key;
		tempvSUBmask.data[8].value = tempvSUBmask.data[8].value | tempvmask.data[8].value;
		tempvSUBmask.data[9].key = tempvSUBmask.data[9].key | tempvmask.data[9].key;
		tempvSUBmask.data[9].value = tempvSUBmask.data[9].value | tempvmask.data[9].value;
		tempvSUBmask.data[10].key = tempvSUBmask.data[10].key | tempvmask.data[10].key;
		tempvSUBmask.data[10].value = tempvSUBmask.data[10].value | tempvmask.data[10].value;
		tempvSUBmask.data[11].key = tempvSUBmask.data[11].key | tempvmask.data[11].key;
		tempvSUBmask.data[11].value = tempvSUBmask.data[11].value | tempvmask.data[11].value;
		tempvSUBmask.data[12].key = tempvSUBmask.data[12].key | tempvmask.data[12].key;
		tempvSUBmask.data[12].value = tempvSUBmask.data[12].value | tempvmask.data[12].value;
		tempvSUBmask.data[13].key = tempvSUBmask.data[13].key | tempvmask.data[13].key;
		tempvSUBmask.data[13].value = tempvSUBmask.data[13].value | tempvmask.data[13].value;
		tempvSUBmask.data[14].key = tempvSUBmask.data[14].key | tempvmask.data[14].key;
		tempvSUBmask.data[14].value = tempvSUBmask.data[14].value | tempvmask.data[14].value;
		tempvSUBmask.data[15].key = tempvSUBmask.data[15].key | tempvmask.data[15].key;
		tempvSUBmask.data[15].value = tempvSUBmask.data[15].value | tempvmask.data[15].value;
		
		if(i % 8 == 7){ // CRITICAL AUTOMATEME.
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask0_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask0_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask0_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask0_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask0_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask0_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask0_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask0_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask0_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask0_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask0_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask0_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask0_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask0_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask0_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask0_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask0_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask1_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask1_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask1_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask1_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask1_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask1_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask1_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask1_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask1_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask1_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask1_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask1_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask1_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask1_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask1_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask1_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask1_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask2_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask2_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask2_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask2_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask2_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask2_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask2_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask2_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask2_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask2_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask2_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask2_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask2_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask2_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask2_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask2_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask2_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask3_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask3_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask3_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask3_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask3_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask3_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask3_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask3_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask3_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask3_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask3_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask3_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask3_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask3_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask3_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask3_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask3_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask4_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask4_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask4_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask4_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask4_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask4_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask4_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask4_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask4_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask4_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask4_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask4_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask4_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask4_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask4_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask4_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask4_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask5_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask5_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask5_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask5_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask5_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask5_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask5_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask5_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask5_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask5_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask5_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask5_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask5_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask5_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask5_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask5_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask5_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask6_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask6_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask6_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask6_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask6_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask6_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask6_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask6_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask6_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask6_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask6_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask6_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask6_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask6_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask6_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask6_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask6_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask7_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask7_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask7_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask7_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask7_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask7_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask7_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask7_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask7_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask7_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask7_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask7_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask7_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask7_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask7_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask7_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask7_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask8_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask8_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask8_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask8_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask8_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask8_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask8_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask8_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask8_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask8_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask8_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask8_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask8_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask8_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask8_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask8_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask8_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask9_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask9_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask9_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask9_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask9_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask9_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask9_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask9_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask9_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask9_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask9_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask9_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask9_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask9_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask9_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask9_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask9_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask10_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask10_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask10_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask10_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask10_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask10_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask10_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask10_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask10_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask10_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask10_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask10_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask10_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask10_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask10_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask10_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask10_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask10_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask10_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask10_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask10_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask10_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask10_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask10_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask10_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask10_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask10_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask10_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask10_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask10_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask10_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask10_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			if(i%16==7){  // CRITICAL AUTOMATEME.
				vmask11_subp[i/16].data[0].key = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask11_subp[i/16].data[1].key = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask11_subp[i/16].data[2].key = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask11_subp[i/16].data[3].key = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask11_subp[i/16].data[4].key = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask11_subp[i/16].data[5].key = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask11_subp[i/16].data[6].key = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask11_subp[i/16].data[7].key = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask11_subp[i/16].data[8].key = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask11_subp[i/16].data[9].key = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask11_subp[i/16].data[10].key = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask11_subp[i/16].data[11].key = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask11_subp[i/16].data[12].key = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask11_subp[i/16].data[13].key = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask11_subp[i/16].data[14].key = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask11_subp[i/16].data[15].key = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			} else {
				vmask11_subp[i/16].data[0].value = tempvSUBmask.data[0].key | tempvSUBmask.data[0].value; 
				vmask11_subp[i/16].data[1].value = tempvSUBmask.data[1].key | tempvSUBmask.data[1].value; 
				vmask11_subp[i/16].data[2].value = tempvSUBmask.data[2].key | tempvSUBmask.data[2].value; 
				vmask11_subp[i/16].data[3].value = tempvSUBmask.data[3].key | tempvSUBmask.data[3].value; 
				vmask11_subp[i/16].data[4].value = tempvSUBmask.data[4].key | tempvSUBmask.data[4].value; 
				vmask11_subp[i/16].data[5].value = tempvSUBmask.data[5].key | tempvSUBmask.data[5].value; 
				vmask11_subp[i/16].data[6].value = tempvSUBmask.data[6].key | tempvSUBmask.data[6].value; 
				vmask11_subp[i/16].data[7].value = tempvSUBmask.data[7].key | tempvSUBmask.data[7].value; 
				vmask11_subp[i/16].data[8].value = tempvSUBmask.data[8].key | tempvSUBmask.data[8].value; 
				vmask11_subp[i/16].data[9].value = tempvSUBmask.data[9].key | tempvSUBmask.data[9].value; 
				vmask11_subp[i/16].data[10].value = tempvSUBmask.data[10].key | tempvSUBmask.data[10].value; 
				vmask11_subp[i/16].data[11].value = tempvSUBmask.data[11].key | tempvSUBmask.data[11].value; 
				vmask11_subp[i/16].data[12].value = tempvSUBmask.data[12].key | tempvSUBmask.data[12].value; 
				vmask11_subp[i/16].data[13].value = tempvSUBmask.data[13].key | tempvSUBmask.data[13].value; 
				vmask11_subp[i/16].data[14].value = tempvSUBmask.data[14].key | tempvSUBmask.data[14].value; 
				vmask11_subp[i/16].data[15].value = tempvSUBmask.data[15].key | tempvSUBmask.data[15].value; 
			}
			
			tempvSUBmask.data[0].key = 0;
			tempvSUBmask.data[0].value = 0;
			tempvSUBmask.data[1].key = 0;
			tempvSUBmask.data[1].value = 0;
			tempvSUBmask.data[2].key = 0;
			tempvSUBmask.data[2].value = 0;
			tempvSUBmask.data[3].key = 0;
			tempvSUBmask.data[3].value = 0;
			tempvSUBmask.data[4].key = 0;
			tempvSUBmask.data[4].value = 0;
			tempvSUBmask.data[5].key = 0;
			tempvSUBmask.data[5].value = 0;
			tempvSUBmask.data[6].key = 0;
			tempvSUBmask.data[6].value = 0;
			tempvSUBmask.data[7].key = 0;
			tempvSUBmask.data[7].value = 0;
			tempvSUBmask.data[8].key = 0;
			tempvSUBmask.data[8].value = 0;
			tempvSUBmask.data[9].key = 0;
			tempvSUBmask.data[9].value = 0;
			tempvSUBmask.data[10].key = 0;
			tempvSUBmask.data[10].value = 0;
			tempvSUBmask.data[11].key = 0;
			tempvSUBmask.data[11].value = 0;
			tempvSUBmask.data[12].key = 0;
			tempvSUBmask.data[12].value = 0;
			tempvSUBmask.data[13].key = 0;
			tempvSUBmask.data[13].value = 0;
			tempvSUBmask.data[14].key = 0;
			tempvSUBmask.data[14].value = 0;
			tempvSUBmask.data[15].key = 0;
			tempvSUBmask.data[15].value = 0;
		}
		#endif 
	}
	
	#endif 
	return;
}

void acts_all::MEMACCESS_SPL_readmanypmask1(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask2(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask3(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask4(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask5(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask6(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask7(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask8(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE],uint32_type vmask7_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask7_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask7_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask9(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE],uint32_type vmask7_p[BLOCKRAM_SIZE],uint32_type vmask8_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask7_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask8_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask7_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask8_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask10(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE],uint32_type vmask7_p[BLOCKRAM_SIZE],uint32_type vmask8_p[BLOCKRAM_SIZE],uint32_type vmask9_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask7_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask8_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask9_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask7_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask8_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask9_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask11(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE],uint32_type vmask7_p[BLOCKRAM_SIZE],uint32_type vmask8_p[BLOCKRAM_SIZE],uint32_type vmask9_p[BLOCKRAM_SIZE],uint32_type vmask10_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask7_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask8_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask9_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask10_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask7_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask8_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask9_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask10_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}
void acts_all::MEMACCESS_SPL_readmanypmask12(uint512_dt * kvdram, uint32_type vmask0_p[BLOCKRAM_SIZE],uint32_type vmask1_p[BLOCKRAM_SIZE],uint32_type vmask2_p[BLOCKRAM_SIZE],uint32_type vmask3_p[BLOCKRAM_SIZE],uint32_type vmask4_p[BLOCKRAM_SIZE],uint32_type vmask5_p[BLOCKRAM_SIZE],uint32_type vmask6_p[BLOCKRAM_SIZE],uint32_type vmask7_p[BLOCKRAM_SIZE],uint32_type vmask8_p[BLOCKRAM_SIZE],uint32_type vmask9_p[BLOCKRAM_SIZE],uint32_type vmask10_p[BLOCKRAM_SIZE],uint32_type vmask11_p[BLOCKRAM_SIZE], batch_type offset_kvs, batch_type size_kvs){
	LOADACTIVEPARTITIONS_LOOP: for (buffer_type i=0; i<size_kvs; i++){
		#ifdef _WIDEWORD
		vmask0_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask1_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask2_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask3_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask4_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask5_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask6_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask7_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask8_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask9_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask10_p[i] = kvdram[offset_kvs + i].range(31, 0);
		vmask11_p[i] = kvdram[offset_kvs + i].range(31, 0);
		#else
		vmask0_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask1_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask2_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask3_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask4_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask5_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask6_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask7_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask8_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask9_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask10_p[i] = kvdram[offset_kvs + i].data[0].key;
		vmask11_p[i] = kvdram[offset_kvs + i].data[0].key;
		#endif 
	}
	return;
}



	
#endif
#ifdef CONFIG_ENABLECLASS_PROCESSEDGES_SPLITDSTVXS
#include "processedges_splitdstvxs.h"
using namespace std;

// => VDATA (to read)
// 16:[0,32,...,480] | [1,33,...,481] | ... | [31,63,...,511]

// => VMASK (to read)
// 32:[0,32,...,480,...,992] | [1,33,...,481,...,993] | ... | [31,63,...,511,...,1023]

// int programglobalvar_numvtxsprocessed = 0; // program global variables

#ifdef SW
processedges_splitdstvxs::processedges_splitdstvxs(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj);
	mydebugobj = _mydebugobj;
}
processedges_splitdstvxs::~processedges_splitdstvxs(){}
#endif

//
value_t acts_all::PROCESS_SPL_processfunc(value_t udata, value_t edgew, unsigned int GraphAlgo){
	value_t res = 0;
	// if(GraphAlgo == PAGERANK){
		// res = udata;
	// } else if(GraphAlgo == BFS){
		// res = NAp;
	// } else if(GraphAlgo == SSSP){
		// res = udata + edgew;
	// } else {
		// res = NAp;
	// }
	
	res = udata + edgew;
	return res;
}

parsededge_t acts_all::PARSE_EDGE(uint32_type data){ 
	parsededge_t parsededge;
	#ifdef _WIDEWORD
	parsededge.incr = data.range(31, 28);
	parsededge.dstvid = data.range(28, 0);
	#else
	parsededge.incr = UTIL_READFROM_UINT(data, 28, 4);
	parsededge.dstvid = UTIL_READFROM_UINT(data, 0, 28);
	#endif
	return parsededge; 
}

void acts_all::PROCESS_SPL_debug(unsigned int debugid,
	unsigned int i, value_t E[VECTOR2_SIZE], bool_type ens[VECTOR2_SIZE], unsigned int mask[VECTOR2_SIZE],
		value_t udataset[MAX_NUM_UNIQ_EDGES_PER_VEC], value_t maskset[VECTOR2_SIZE], value_t Vset[MAX_NUM_UNIQ_EDGES_PER_VEC], unit1_type VMset[MAX_NUM_UNIQ_EDGES_PER_VEC], vertex_t lvids[VECTOR2_SIZE],
			unsigned int incr[VECTOR2_SIZE], unsigned int lsrcvids[VECTOR2_SIZE], unsigned int ldstvids[VECTOR2_SIZE], value_t res[VECTOR2_SIZE], keyvalue_t mykeyvalue[VECTOR2_SIZE], sweepparams_t sweepparams, globalparams_t globalparams,
				unsigned int lvid_head, unsigned int srcvid_head, travstate_t travstate, unsigned int chunk_size, sliceinfos_t sliceinfos, unsigned int * activeloadcount, unsigned int * inactiveloadcount, unsigned int * debug_numinvalidheads
				){
	buffer_type reducebuffersz = globalparams.SIZE_REDUCE / 2;
	unsigned int validbound = reducebuffersz * FETFACTOR * VECTOR2_SIZE;
	
	if(debugid == 0){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[0]: "<<E[0]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[1]: "<<E[1]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[2]: "<<E[2]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[3]: "<<E[3]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[4]: "<<E[4]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[5]: "<<E[5]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[6]: "<<E[6]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[7]: "<<E[7]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[8]: "<<E[8]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[9]: "<<E[9]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[10]: "<<E[10]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[11]: "<<E[11]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[12]: "<<E[12]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[13]: "<<E[13]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[14]: "<<E[14]<<endl;
		cout<<"readandprocess(1-2)::DEBUG CODE 0:: E[15]: "<<E[15]<<endl;
		#endif
	}
	
	if(debugid == 1){
		#ifdef _DEBUGMODE_CHECKS
		if(srcvid_head < travstate.i2){ cout<<"readandprocess(12)::DEBUG CODE 1:: INVALID srcvid_head. this is an error. i: "<<i<<"(of "<<chunk_size<<"), srcvid_head: "<<srcvid_head<<", travstate.i2: "<<travstate.i2<<" offset_kvs: "<<offset_kvs<<". exiting..."<<endl;					 
			for(unsigned int v=0; v<VECTOR_SIZE; v++){ cout<<"readandprocess(12): E["<<v<<"]: "<<E[v]<<endl; }
			exit(EXIT_FAILURE); }
		if(lvid_head >= (reducebuffersz*FETFACTOR*VECTOR2_SIZE)){ cout<<"readandprocess(12)::DEBUG CODE 1:: INVALID srcvid_head. this is an error. i: "<<i<<"(of "<<chunk_size<<"), lvid_head: "<<lvid_head<<", reducebuffersz*FETFACTOR*VECTOR2_SIZE: "<<reducebuffersz*FETFACTOR*VECTOR2_SIZE<<". exiting..."<<endl;					 
			for(unsigned int v=0; v<VECTOR_SIZE; v++){ cout<<"readandprocess(12)::DEBUG CODE 1:: E["<<v<<"]: "<<E[v]<<endl; }
			exit(EXIT_FAILURE); }
		actsutilityobj->checkoutofbounds("readandprocess(12)::DEBUG CODE 1::1", lvid_head, reducebuffersz * FETFACTOR * VECTOR2_SIZE, srcvid_head, travstate.i2, i);
		#endif
	}
	
	if(debugid == 2){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 0<<", udataset[0]: "<<udataset[0]<<", maskset[0]: "<<maskset[0]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 1<<", udataset[1]: "<<udataset[1]<<", maskset[1]: "<<maskset[1]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 2<<", udataset[2]: "<<udataset[2]<<", maskset[2]: "<<maskset[2]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 3<<", udataset[3]: "<<udataset[3]<<", maskset[3]: "<<maskset[3]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 4<<", udataset[4]: "<<udataset[4]<<", maskset[4]: "<<maskset[4]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 5<<", udataset[5]: "<<udataset[5]<<", maskset[5]: "<<maskset[5]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 6<<", udataset[6]: "<<udataset[6]<<", maskset[6]: "<<maskset[6]<<endl;
		cout<<"readandprocess(2)::DEBUG CODE 2:: lvid_head: "<<lvid_head<<", lvid: "<<lvid_head + 7<<", udataset[7]: "<<udataset[7]<<", maskset[7]: "<<maskset[7]<<endl;
		#endif
		#ifdef _DEBUGMODE_CHECKS
		if(maskset[0] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[0].1. maskset[0]: "<<maskset[0]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 0: "<<lvid + 0<<endl; } exit(EXIT_FAILURE); }
		if(maskset[1] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[1].1. maskset[1]: "<<maskset[1]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 1: "<<lvid + 1<<endl; } exit(EXIT_FAILURE); }
		if(maskset[2] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[2].1. maskset[2]: "<<maskset[2]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 2: "<<lvid + 2<<endl; } exit(EXIT_FAILURE); }
		if(maskset[3] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[3].1. maskset[3]: "<<maskset[3]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 3: "<<lvid + 3<<endl; } exit(EXIT_FAILURE); }
		if(maskset[4] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[4].1. maskset[4]: "<<maskset[4]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 4: "<<lvid + 4<<endl; } exit(EXIT_FAILURE); }
		if(maskset[5] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[5].1. maskset[5]: "<<maskset[5]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 5: "<<lvid + 5<<endl; } exit(EXIT_FAILURE); }
		if(maskset[6] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[6].1. maskset[6]: "<<maskset[6]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 6: "<<lvid + 6<<endl; } exit(EXIT_FAILURE); }
		if(maskset[7] > 2){ cout<<"ERROR @ readandprocess(13)::DEBUG CODE 2::.maskset[7].1. maskset[7]: "<<maskset[7]<<endl; for(unsigned int n=0; n<8; n++){ cout<<">>> readandprocess.mask: maskset["<<n<<"]: "<<maskset[n]<<", lvid + 7: "<<lvid + 7<<endl; } exit(EXIT_FAILURE); }
		#endif
	}
	
	if(debugid == 3){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", incr[0]: "<<incr[0]<<", lsrcvids[0]: "<<lsrcvids[0]<<", ens[0]: "<<ens[0]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", incr[1]: "<<incr[1]<<", lsrcvids[1]: "<<lsrcvids[1]<<", ens[1]: "<<ens[1]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", incr[2]: "<<incr[2]<<", lsrcvids[2]: "<<lsrcvids[2]<<", ens[2]: "<<ens[2]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", incr[3]: "<<incr[3]<<", lsrcvids[3]: "<<lsrcvids[3]<<", ens[3]: "<<ens[3]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", incr[4]: "<<incr[4]<<", lsrcvids[4]: "<<lsrcvids[4]<<", ens[4]: "<<ens[4]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", incr[5]: "<<incr[5]<<", lsrcvids[5]: "<<lsrcvids[5]<<", ens[5]: "<<ens[5]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", incr[6]: "<<incr[6]<<", lsrcvids[6]: "<<lsrcvids[6]<<", ens[6]: "<<ens[6]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", incr[7]: "<<incr[7]<<", lsrcvids[7]: "<<lsrcvids[7]<<", ens[7]: "<<ens[7]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", incr[8]: "<<incr[8]<<", lsrcvids[8]: "<<lsrcvids[8]<<", ens[8]: "<<ens[8]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", incr[9]: "<<incr[9]<<", lsrcvids[9]: "<<lsrcvids[9]<<", ens[9]: "<<ens[9]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", incr[10]: "<<incr[10]<<", lsrcvids[10]: "<<lsrcvids[10]<<", ens[10]: "<<ens[10]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", incr[11]: "<<incr[11]<<", lsrcvids[11]: "<<lsrcvids[11]<<", ens[11]: "<<ens[11]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", incr[12]: "<<incr[12]<<", lsrcvids[12]: "<<lsrcvids[12]<<", ens[12]: "<<ens[12]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", incr[13]: "<<incr[13]<<", lsrcvids[13]: "<<lsrcvids[13]<<", ens[13]: "<<ens[13]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", incr[14]: "<<incr[14]<<", lsrcvids[14]: "<<lsrcvids[14]<<", ens[14]: "<<ens[14]<<endl;
		cout<<"readandprocess(3)::DEBUG CODE 3:: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", incr[15]: "<<incr[15]<<", lsrcvids[15]: "<<lsrcvids[15]<<", ens[15]: "<<ens[15]<<endl;
		#endif
		#ifdef _DEBUGMODE_CHECKS2
		if(ens[0] == ON && incr[0] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[0]("<<incr[0]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[1] == ON && incr[1] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[1]("<<incr[1]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[2] == ON && incr[2] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[2]("<<incr[2]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[3] == ON && incr[3] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[3]("<<incr[3]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[4] == ON && incr[4] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[4]("<<incr[4]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[5] == ON && incr[5] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[5]("<<incr[5]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[6] == ON && incr[6] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[6]("<<incr[6]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[7] == ON && incr[7] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[7]("<<incr[7]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[8] == ON && incr[8] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[8]("<<incr[8]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[9] == ON && incr[9] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[9]("<<incr[9]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[10] == ON && incr[10] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[10]("<<incr[10]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[11] == ON && incr[11] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[11]("<<incr[11]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[12] == ON && incr[12] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[12]("<<incr[12]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[13] == ON && incr[13] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[13]("<<incr[13]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[14] == ON && incr[14] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[14]("<<incr[14]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		if(ens[15] == ON && incr[15] >= MAX_NUM_UNIQ_EDGES_PER_VEC){ 
			cout<<"readandprocess(12)::DEBUG CODE 3:: incr[15]("<<incr[15]<<") > MAX_NUM_UNIQ_EDGES_PER_VEC("<<MAX_NUM_UNIQ_EDGES_PER_VEC<<"). lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<endl;
 cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(12)::DEBUG CODE 3::mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			exit(EXIT_FAILURE); 
		}
		#endif
		#ifdef _DEBUGMODE_CHECKS2
		if(lsrcvids[0] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 0, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 0, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[1] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 1, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 1, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[2] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 2, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 2, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[3] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 3, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 3, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[4] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 4, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 4, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[5] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 5, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 5, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[6] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 6, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 6, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[7] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 7, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 7, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[8] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 8, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 8, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[9] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 9, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 9, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[10] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 10, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 10, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[11] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 11, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 11, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[12] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 12, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 12, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[13] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 13, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 13, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[14] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 14, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 14, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		if(lsrcvids[15] >= validbound){
			if(*debug_numinvalidheads > 32){
 cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<endl;  cout<<">>> readandprocess(17)::DEBUG CODE 3:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<endl;  
			cout<<"readandprocess::::DEBUG CODE 3::ERROR(17): "<<*debug_numinvalidheads<<" srcv heads found (4 was limit set). i: "<<i<<" (of "<<chunk_size<<"), v: 15, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<". EXITING..."<<endl; exit(EXIT_FAILURE); } 
			else {
			// cout<<"readandprocess:: i: "<<i<<" (of "<<chunk_size<<"), v: 15, validbound: "<<validbound<<", *debug_numinvalidheads: "<<*debug_numinvalidheads<<endl;
			*debug_numinvalidheads += 1; }}
		#endif 
	}
	
	if(debugid == 4){
		#ifdef _DEBUGMODE_CHECKS2
		if(ens[0] == ON && mask[0] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[0].2. i: "<<i<<", mask[0]: "<<mask[0]<<", incr[0]: "<<incr[0]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[0]: "<<mask[0]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[0]: "<<mask[0]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[1] == ON && mask[1] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[1].2. i: "<<i<<", mask[1]: "<<mask[1]<<", incr[1]: "<<incr[1]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[1]: "<<mask[1]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[1]: "<<mask[1]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[2] == ON && mask[2] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[2].2. i: "<<i<<", mask[2]: "<<mask[2]<<", incr[2]: "<<incr[2]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[2]: "<<mask[2]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[2]: "<<mask[2]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[3] == ON && mask[3] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[3].2. i: "<<i<<", mask[3]: "<<mask[3]<<", incr[3]: "<<incr[3]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[3]: "<<mask[3]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[3]: "<<mask[3]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[4] == ON && mask[4] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[4].2. i: "<<i<<", mask[4]: "<<mask[4]<<", incr[4]: "<<incr[4]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[4]: "<<mask[4]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[4]: "<<mask[4]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[5] == ON && mask[5] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[5].2. i: "<<i<<", mask[5]: "<<mask[5]<<", incr[5]: "<<incr[5]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[5]: "<<mask[5]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[5]: "<<mask[5]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[6] == ON && mask[6] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[6].2. i: "<<i<<", mask[6]: "<<mask[6]<<", incr[6]: "<<incr[6]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[6]: "<<mask[6]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[6]: "<<mask[6]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[7] == ON && mask[7] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[7].2. i: "<<i<<", mask[7]: "<<mask[7]<<", incr[7]: "<<incr[7]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[7]: "<<mask[7]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[7]: "<<mask[7]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[8] == ON && mask[8] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[8].2. i: "<<i<<", mask[8]: "<<mask[8]<<", incr[8]: "<<incr[8]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[8]: "<<mask[8]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[8]: "<<mask[8]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[9] == ON && mask[9] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[9].2. i: "<<i<<", mask[9]: "<<mask[9]<<", incr[9]: "<<incr[9]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[9]: "<<mask[9]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[9]: "<<mask[9]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[10] == ON && mask[10] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[10].2. i: "<<i<<", mask[10]: "<<mask[10]<<", incr[10]: "<<incr[10]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[10]: "<<mask[10]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[10]: "<<mask[10]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[11] == ON && mask[11] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[11].2. i: "<<i<<", mask[11]: "<<mask[11]<<", incr[11]: "<<incr[11]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[11]: "<<mask[11]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[11]: "<<mask[11]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[12] == ON && mask[12] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[12].2. i: "<<i<<", mask[12]: "<<mask[12]<<", incr[12]: "<<incr[12]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[12]: "<<mask[12]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[12]: "<<mask[12]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[13] == ON && mask[13] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[13].2. i: "<<i<<", mask[13]: "<<mask[13]<<", incr[13]: "<<incr[13]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[13]: "<<mask[13]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[13]: "<<mask[13]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[14] == ON && mask[14] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[14].2. i: "<<i<<", mask[14]: "<<mask[14]<<", incr[14]: "<<incr[14]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[14]: "<<mask[14]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[14]: "<<mask[14]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		if(ens[15] == ON && mask[15] > 2){ 
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::mask[15].2. i: "<<i<<", mask[15]: "<<mask[15]<<", incr[15]: "<<incr[15]<<endl;
 cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[0]: "<<E[0]<<", lvid_head: "<<lvid_head<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", incr[0]: "<<incr[0]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[1]: "<<E[1]<<", lvid_head: "<<lvid_head<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", incr[1]: "<<incr[1]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[2]: "<<E[2]<<", lvid_head: "<<lvid_head<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", incr[2]: "<<incr[2]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[3]: "<<E[3]<<", lvid_head: "<<lvid_head<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", incr[3]: "<<incr[3]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[4]: "<<E[4]<<", lvid_head: "<<lvid_head<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", incr[4]: "<<incr[4]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[5]: "<<E[5]<<", lvid_head: "<<lvid_head<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", incr[5]: "<<incr[5]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[6]: "<<E[6]<<", lvid_head: "<<lvid_head<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", incr[6]: "<<incr[6]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[7]: "<<E[7]<<", lvid_head: "<<lvid_head<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", incr[7]: "<<incr[7]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[8]: "<<E[8]<<", lvid_head: "<<lvid_head<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", incr[8]: "<<incr[8]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[9]: "<<E[9]<<", lvid_head: "<<lvid_head<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", incr[9]: "<<incr[9]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[10]: "<<E[10]<<", lvid_head: "<<lvid_head<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", incr[10]: "<<incr[10]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[11]: "<<E[11]<<", lvid_head: "<<lvid_head<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", incr[11]: "<<incr[11]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[12]: "<<E[12]<<", lvid_head: "<<lvid_head<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", incr[12]: "<<incr[12]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[13]: "<<E[13]<<", lvid_head: "<<lvid_head<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", incr[13]: "<<incr[13]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[14]: "<<E[14]<<", lvid_head: "<<lvid_head<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", incr[14]: "<<incr[14]<<", mask[15]: "<<mask[15]<<endl;  cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: E[15]: "<<E[15]<<", lvid_head: "<<lvid_head<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", incr[15]: "<<incr[15]<<", mask[15]: "<<mask[15]<<endl;  
			for(unsigned int r=0; r<MAX_NUM_UNIQ_EDGES_PER_VEC; r++){ cout<<">>> readandprocess(14)::DEBUG CODE 4:: mask: udataset["<<r<<"]: "<<udataset[r]<<", maskset["<<r<<"]: "<<maskset[r]<<endl; }
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[0].beginoffset: "<<sliceinfos.slice[0].beginoffset<<", sliceinfos.slice[0].endoffset: "<<sliceinfos.slice[0].endoffset<<endl;
			cout<<"ERROR @ readandprocess(14)::DEBUG CODE 4::. sliceinfos.slice[1].beginoffset: "<<sliceinfos.slice[1].beginoffset<<", sliceinfos.slice[1].endoffset: "<<sliceinfos.slice[1].endoffset<<endl;
			exit(EXIT_FAILURE); 
		}
		#endif
	}
	
	if(debugid == 5){
		#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
		if(ens[0] == ON && mask[0] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[0]: "<<lsrcvids[0]<<", ldstvids[0]: "<<ldstvids[0]<<", udata: "<<udataset[incr[0]]<<"], [ens[0]: "<<ens[0]<<", mask[0]: "<<mask[0]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[1] == ON && mask[1] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[1]: "<<lsrcvids[1]<<", ldstvids[1]: "<<ldstvids[1]<<", udata: "<<udataset[incr[1]]<<"], [ens[1]: "<<ens[1]<<", mask[1]: "<<mask[1]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[2] == ON && mask[2] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[2]: "<<lsrcvids[2]<<", ldstvids[2]: "<<ldstvids[2]<<", udata: "<<udataset[incr[2]]<<"], [ens[2]: "<<ens[2]<<", mask[2]: "<<mask[2]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[3] == ON && mask[3] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[3]: "<<lsrcvids[3]<<", ldstvids[3]: "<<ldstvids[3]<<", udata: "<<udataset[incr[3]]<<"], [ens[3]: "<<ens[3]<<", mask[3]: "<<mask[3]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[4] == ON && mask[4] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[4]: "<<lsrcvids[4]<<", ldstvids[4]: "<<ldstvids[4]<<", udata: "<<udataset[incr[4]]<<"], [ens[4]: "<<ens[4]<<", mask[4]: "<<mask[4]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[5] == ON && mask[5] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[5]: "<<lsrcvids[5]<<", ldstvids[5]: "<<ldstvids[5]<<", udata: "<<udataset[incr[5]]<<"], [ens[5]: "<<ens[5]<<", mask[5]: "<<mask[5]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[6] == ON && mask[6] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[6]: "<<lsrcvids[6]<<", ldstvids[6]: "<<ldstvids[6]<<", udata: "<<udataset[incr[6]]<<"], [ens[6]: "<<ens[6]<<", mask[6]: "<<mask[6]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[7] == ON && mask[7] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[7]: "<<lsrcvids[7]<<", ldstvids[7]: "<<ldstvids[7]<<", udata: "<<udataset[incr[7]]<<"], [ens[7]: "<<ens[7]<<", mask[7]: "<<mask[7]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[8] == ON && mask[8] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[8]: "<<lsrcvids[8]<<", ldstvids[8]: "<<ldstvids[8]<<", udata: "<<udataset[incr[8]]<<"], [ens[8]: "<<ens[8]<<", mask[8]: "<<mask[8]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[9] == ON && mask[9] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[9]: "<<lsrcvids[9]<<", ldstvids[9]: "<<ldstvids[9]<<", udata: "<<udataset[incr[9]]<<"], [ens[9]: "<<ens[9]<<", mask[9]: "<<mask[9]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[10] == ON && mask[10] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[10]: "<<lsrcvids[10]<<", ldstvids[10]: "<<ldstvids[10]<<", udata: "<<udataset[incr[10]]<<"], [ens[10]: "<<ens[10]<<", mask[10]: "<<mask[10]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[11] == ON && mask[11] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[11]: "<<lsrcvids[11]<<", ldstvids[11]: "<<ldstvids[11]<<", udata: "<<udataset[incr[11]]<<"], [ens[11]: "<<ens[11]<<", mask[11]: "<<mask[11]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[12] == ON && mask[12] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[12]: "<<lsrcvids[12]<<", ldstvids[12]: "<<ldstvids[12]<<", udata: "<<udataset[incr[12]]<<"], [ens[12]: "<<ens[12]<<", mask[12]: "<<mask[12]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[13] == ON && mask[13] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[13]: "<<lsrcvids[13]<<", ldstvids[13]: "<<ldstvids[13]<<", udata: "<<udataset[incr[13]]<<"], [ens[13]: "<<ens[13]<<", mask[13]: "<<mask[13]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[14] == ON && mask[14] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[14]: "<<lsrcvids[14]<<", ldstvids[14]: "<<ldstvids[14]<<", udata: "<<udataset[incr[14]]<<"], [ens[14]: "<<ens[14]<<", mask[14]: "<<mask[14]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
		if(ens[15] == ON && mask[15] == 1){ cout<<"readandprocess(15)::DEBUG CODE 5:: [i: "<<i<<", lsrcvids[15]: "<<lsrcvids[15]<<", ldstvids[15]: "<<ldstvids[15]<<", udata: "<<udataset[incr[15]]<<"], [ens[15]: "<<ens[15]<<", mask[15]: "<<mask[15]<<"]. sweepparams.source_partition: "<<sweepparams.source_partition<<endl; }			
	
		// for(unsigned int v=0; v<MAX_NUM_UNIQ_EDGES_PER_VEC; v++){ cout<<"readandprocess(15)::DEBUG CODE 5:: Vset["<<v<<"]: "<<Vset[v]<<", VMset["<<v<<"]: "<<VMset[v]<<endl; }
		#endif
	}
	
	if(debugid == 6){
		#ifdef _DEBUGMODE_CHECKS3
		if(mykeyvalue[0].key == INVALIDDATA || mykeyvalue[0].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[1].key == INVALIDDATA || mykeyvalue[1].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[2].key == INVALIDDATA || mykeyvalue[2].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[3].key == INVALIDDATA || mykeyvalue[3].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[4].key == INVALIDDATA || mykeyvalue[4].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[5].key == INVALIDDATA || mykeyvalue[5].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[6].key == INVALIDDATA || mykeyvalue[6].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[7].key == INVALIDDATA || mykeyvalue[7].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[8].key == INVALIDDATA || mykeyvalue[8].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[9].key == INVALIDDATA || mykeyvalue[9].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[10].key == INVALIDDATA || mykeyvalue[10].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[11].key == INVALIDDATA || mykeyvalue[11].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[12].key == INVALIDDATA || mykeyvalue[12].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[13].key == INVALIDDATA || mykeyvalue[13].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[14].key == INVALIDDATA || mykeyvalue[14].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		if(mykeyvalue[15].key == INVALIDDATA || mykeyvalue[15].value == INVALIDDATA){ *inactiveloadcount += 1; } else { *activeloadcount += 1; } 
		#endif 
	}

	if(debugid == 7){
		#ifdef _DEBUGMODE_STATS
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[0] == ON && mask[0] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[1] == ON && mask[1] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[2] == ON && mask[2] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[3] == ON && mask[3] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[4] == ON && mask[4] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[5] == ON && mask[5] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[6] == ON && mask[6] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[7] == ON && mask[7] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[8] == ON && mask[8] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[9] == ON && mask[9] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[10] == ON && mask[10] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[11] == ON && mask[11] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[12] == ON && mask[12] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[13] == ON && mask[13] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[14] == ON && mask[14] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		actsutilityobj->globalstats_countkvsprocessed(1);
		if(ens[15] == ON && mask[15] == 1){ actsutilityobj->globalstats_processedges_countvalidkvsprocessed(1); } // mask0? FIXME.
		#endif 
	}
	return;
}

//
value_t acts_all::PROCESS_SPL_GETVTXMASK(unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unsigned int loc, globalparams_t globalparams){
	#pragma HLS INLINE
	if(loc >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<">>> PROCESS_SPL_GETVTXMASK: ERROR DETECTED (23). loc("<<loc<<") >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE("<<globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE<<"). loc: "<<loc<<endl;
		#endif 
		loc = 0; }
		
	unsigned int instid = loc % NUM_PEs;
	unsigned int lloc = UTIL_GETLOCALVID(loc, instid);
	unsigned int rowoffset = instid * (globalparams.SIZEKVS2_PROCESSEDGESPARTITION / NUM_PEs);
	
	unsigned int col = lloc % 16;
	unsigned int row = lloc / 16;
	unsigned int realcol = col;
	unsigned int realrow = rowoffset + row;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<">>> PROCESS_SPL_GETVTXMASK: loc: "<<loc<<", col: "<<col<<", row: "<<row<<", realcol: "<<realcol<<", realrow: "<<realrow<<endl;
	#endif 
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.row", row, REDUCEPARTITIONSZ_KVS2, col, row, NAp);
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.realcol", realcol, VDATA_PACKINGSIZE, col, row, NAp);
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.realrow", realrow, DOUBLE_BLOCKRAM_SIZE, col, row, NAp); 
	#endif 
	
	value_t data = vmaskBITS[realcol][realrow];
	return data;
}

value_t acts_all::PROCESS_SPL_GETVTXMASK_SLIDED(unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unsigned int loc, globalparams_t globalparams){
	#pragma HLS INLINE
	if(loc >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<">>> PROCESS_SPL_GETVTXMASK: ERROR DETECTED (23). loc("<<loc<<") >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE("<<globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE<<"). loc: "<<loc<<endl;
		#endif 
		loc = 0; }
		
	unsigned int s = loc % NUM_PEs;
	unsigned int lloc = UTIL_GETLOCALVID(loc, s);
	unsigned int rowoffset = s * (globalparams.SIZEKVS2_PROCESSEDGESPARTITION / NUM_PEs);
	
	unsigned int col = lloc % 16;
	unsigned int row = lloc / 16;
	unsigned int realcol = col;
	unsigned int rrealcol = (s + realcol) % 16;
	unsigned int realrow = rowoffset + row;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<">>> PROCESS_SPL_GETVTXMASK: loc: "<<loc<<", col: "<<col<<", row: "<<row<<", realcol: "<<realcol<<", realrow: "<<realrow<<endl;
	#endif 
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.row", row, REDUCEPARTITIONSZ_KVS2, col, row, NAp);
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.realcol", realcol, VDATA_PACKINGSIZE, col, row, NAp);
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.rrealcol", rrealcol, VDATA_PACKINGSIZE, col, row, NAp);
	actsutilityobj->checkoutofbounds("UTIL_SETVTXMASK.realrow", realrow, DOUBLE_BLOCKRAM_SIZE, col, row, NAp); 
	#endif 
	
	value_t data = vmaskBITS[rrealcol][realrow];
	return data;
}

sliceinfos_t acts_all::PROCESS_SPL_GETVTXSLICES(unsigned int loc, globalparams_t globalparams){					
	#pragma HLS INLINE
	if(loc >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<">>> PROCESS_SPL_GETVTXMASK: ERROR DETECTED (23). loc("<<loc<<") >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE("<<globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE<<"). loc: "<<loc<<endl;
		#endif 
		loc = 0; }

	int s_begin = loc % NUM_PEs; //
	int llocA = UTIL_GETLOCALVID(loc, s_begin);
	int v_begin = llocA % 16; //
	int s_base = -1 * v_begin;
	int row = llocA / 16;

	int loc2 = ((loc / NUM_PEs) * NUM_PEs) + NUM_PEs;
	int s_beginB = 0;
	int llocB = llocA + 1;
	int v_beginB = llocB % 16;
	int s_baseB = -1 * v_beginB;
	int rowB = llocB / 16;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"PROCESS_SPL_GETVTXSLICES(A): loc: "<<loc<<", s_begin: "<<s_begin<<", llocA: "<<llocA<<", v_begin: "<<v_begin<<", s_base: "<<s_base<<", row: "<<row<<endl;
	cout<<"PROCESS_SPL_GETVTXSLICES(B): loc2: "<<loc2<<", s_beginB: "<<s_beginB<<", llocB: "<<llocB<<", v_beginB: "<<v_beginB<<", s_baseB: "<<s_baseB<<", rowB: "<<rowB<<" "<<endl;
	#endif 
	
	sliceinfo_t sliceX; sliceX.active = false; sliceX.beginoffset = 0; sliceX.endoffset = NUM_PEs;
	sliceinfo_t sliceY; sliceY.active = false; sliceY.beginoffset = 0; sliceY.endoffset = NUM_PEs;

	int s_baseX; 
	int s_baseY;
	
	int rowX; 
	int rowY;
	
	int s_baseA0 = s_base+0;
	int s_baseA1 = s_base+VECTOR2_SIZE;
	int s_baseA2 = s_base+VECTOR2_SIZE+VECTOR2_SIZE;
	
	int s_baseB0 = s_baseB+0;
	int s_baseB1 = s_baseB+VECTOR2_SIZE;
	int s_baseB2 = s_baseB+VECTOR2_SIZE+VECTOR2_SIZE;

	if(s_begin>=s_baseA0 && s_begin<s_baseA0+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA0; sliceX.beginoffset = s_begin - s_baseA0; if(s_baseA0 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA0; } else{ sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseA1; sliceY.beginoffset = 0; if(s_baseA1 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseA1; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = row; 
	} else if(s_begin>=s_baseA1 && s_begin<s_baseA1+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA1; sliceX.beginoffset = s_begin - s_baseA1; if(s_baseA1 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA1; } else { sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseA2; sliceY.beginoffset = 0; if(s_baseA2 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseA2; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = row; 
	} else if(s_begin>=s_baseA2 && s_begin<s_baseA2+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA2; sliceX.beginoffset = s_begin - s_baseA2; if(s_baseA2 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA2; } else { sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseB0; sliceY.beginoffset = s_beginB - s_baseB0; if(s_baseB0 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseB0; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = rowB; 
	} else {
		#ifdef _DEBUGMODE_CHECKS2
		cout<<"PROCESS_SPL_GETVTXSLICES:: SHOULD NOT BE SEEN. 23 EXITING..."<<endl;
		exit(EXIT_FAILURE);
		#endif 
	}
	
	sliceinfos_t sliceinfos; sliceinfos.slice[0] = sliceX; sliceinfos.slice[1] = sliceY;
	return sliceinfos;
}

sliceinfo_t acts_all::PROCESS_SPL_GETVTXSLICE(unsigned int id, unsigned int loc, globalparams_t globalparams){					
	#pragma HLS INLINE
	if(loc >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<">>> PROCESS_SPL_GETVTXMASK: ERROR DETECTED (23). loc("<<loc<<") >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE("<<globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE<<"). loc: "<<loc<<endl;
		#endif 
		loc = 0; }

	int s_begin = loc % NUM_PEs; //
	int llocA = UTIL_GETLOCALVID(loc, s_begin);
	int v_begin = llocA % 16; //
	int s_base = -1 * v_begin;
	int row = llocA / 16;

	int loc2 = ((loc / NUM_PEs) * NUM_PEs) + NUM_PEs;
	int s_beginB = 0;
	int llocB = llocA + 1;
	int v_beginB = llocB % 16;
	int s_baseB = -1 * v_beginB;
	int rowB = llocB / 16;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"PROCESS_SPL_GETVTXSLICES(A): loc: "<<loc<<", s_begin: "<<s_begin<<", llocA: "<<llocA<<", v_begin: "<<v_begin<<", s_base: "<<s_base<<", row: "<<row<<endl;
	cout<<"PROCESS_SPL_GETVTXSLICES(B): loc2: "<<loc2<<", s_beginB: "<<s_beginB<<", llocB: "<<llocB<<", v_beginB: "<<v_beginB<<", s_baseB: "<<s_baseB<<", rowB: "<<rowB<<" "<<endl;
	#endif 
	
	sliceinfo_t sliceX; sliceX.active = false; sliceX.beginoffset = 0; sliceX.endoffset = NUM_PEs;
	sliceinfo_t sliceY; sliceY.active = false; sliceY.beginoffset = 0; sliceY.endoffset = NUM_PEs;

	int s_baseX; 
	int s_baseY;
	
	int rowX; 
	int rowY;
	
	int s_baseA0 = s_base+0;
	int s_baseA1 = s_base+VECTOR2_SIZE;
	int s_baseA2 = s_base+VECTOR2_SIZE+VECTOR2_SIZE;
	
	int s_baseB0 = s_baseB+0;
	int s_baseB1 = s_baseB+VECTOR2_SIZE;
	int s_baseB2 = s_baseB+VECTOR2_SIZE+VECTOR2_SIZE;

	if(s_begin>=s_baseA0 && s_begin<s_baseA0+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA0; sliceX.beginoffset = s_begin - s_baseA0; if(s_baseA0 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA0; } else{ sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseA1; sliceY.beginoffset = 0; if(s_baseA1 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseA1; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = row; 
	} else if(s_begin>=s_baseA1 && s_begin<s_baseA1+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA1; sliceX.beginoffset = s_begin - s_baseA1; if(s_baseA1 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA1; } else { sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseA2; sliceY.beginoffset = 0; if(s_baseA2 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseA2; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = row; 
	} else if(s_begin>=s_baseA2 && s_begin<s_baseA2+VECTOR2_SIZE){
		sliceX.active = true; sliceX.s_base = s_baseA2; sliceX.beginoffset = s_begin - s_baseA2; if(s_baseA2 + VECTOR2_SIZE > NUM_PEs){ sliceX.endoffset = NUM_PEs - s_baseA2; } else { sliceX.endoffset = VECTOR2_SIZE; } sliceX.local_rowoffset = row; 
		sliceY.active = true; sliceY.s_base = s_baseB0; sliceY.beginoffset = s_beginB - s_baseB0; if(s_baseB0 + VECTOR2_SIZE > NUM_PEs){ sliceY.endoffset = NUM_PEs - s_baseB0; } else{ sliceY.endoffset = VECTOR2_SIZE; } sliceY.local_rowoffset = rowB; 
	} else {
		#ifdef _DEBUGMODE_CHECKS2
		cout<<"PROCESS_SPL_GETVTXSLICES:: SHOULD NOT BE SEEN. 23 EXITING..."<<endl;
		exit(EXIT_FAILURE);
		#endif 
	}
	
	sliceinfo_t sliceinfo;
	if(id==0){ sliceinfo = sliceX; } else { sliceinfo = sliceY; }
	return sliceinfo;
}

void acts_all::PROCESS_SPL1_GETVTXDATASET(unsigned int loc, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], value_t Vdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], unit1_type VMdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], globalparams_t globalparams){
	#pragma HLS INLINE
	if(loc >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ 
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<">>> PROCESS_SPL1_GETVTXDATASET: ERROR DETECTED (23). loc("<<loc<<") >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE("<<globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE<<"). loc: "<<loc<<endl;
		#endif 
		loc = 0; }

	for(unsigned int v=0; v<MAX_NUM_UNIQ_EDGES_PER_VEC; v++){
		unsigned int instid = (loc+v) % NUM_PEs;
		unsigned int lloc = UTIL_GETLOCALVID((loc+v), instid);
		unsigned int rowoffset = instid * (globalparams.SIZEKVS2_PROCESSEDGESPARTITION / NUM_PEs); // TOO EXPENSIVE.
		
		unsigned int col = lloc % 16;
		unsigned int row = lloc / 16;
		unsigned int realcol = col;
		unsigned int realrow = rowoffset + row;
		
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("PROCESS_SPL3_GETVTXDATASET.realcol", realcol, VECTOR2_SIZE, realcol, loc, v);
		actsutilityobj->checkoutofbounds("PROCESS_SPL3_GETVTXDATASET.realrow", realrow, DOUBLE_BLOCKRAM_SIZE, realrow, loc, v);
		#endif
		// if(row % 2 == 0){ Vdatas[v] = UTIL_GETKV2(vbuffer[realcol][realrow]).key; } 
		// else { Vdatas[v] = UTIL_GETKV2(vbuffer[realcol][realrow]).value; }
		// VMdatas[v] = vmaskBITS[realcol][realrow];
		
		// VMdatas[v] = vmaskBITS[realcol][realrow];
		// keyvalue_t KV = UTIL_GETKV2(vbuffer[realcol][realrow/2]);
		// if(realrow%2==0){ Vdatas[v] = KV.key; } else { Vdatas[v] = KV.value; }

		VMdatas[v] = MEMCA_READFROMBUFFER_VMASK(realrow, vmaskBITS[realcol], 0);
		Vdatas[v] = MEMCA_READFROMBUFFER_VDATA(realrow, vbuffer[realcol], 0);
	}
	return;
}

void acts_all::PROCESS_SPL2_GETVTXDATASET(unsigned int loc, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], value_t Vdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], unit1_type VMdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], globalparams_t globalparams){					
	for(unsigned int v=0; v<MAX_NUM_UNIQ_EDGES_PER_VEC; v++){
		// unsigned int index = 16369;
		// unsigned int index = 16352; // loc + v
		// unsigned int index = 16144;
		// unsigned int index = loc + v;
		unsigned int index = loc + v;
		if(index >= globalparams.SIZEKVS2_REDUCEPARTITION * VDATA_PACKINGSIZE){ index = 0; }
		
		#if NUM_PEs==3
		NOT IMPLEMENTED.
		#elif NUM_PEs==12
		NOT IMPLEMENTED.
		#elif NUM_PEs==22
		NOT IMPLEMENTED.
		#elif NUM_PEs==24
		NOT IMPLEMENTED.
		#elif NUM_PEs==25
		NOT IMPLEMENTED.
		#elif NUM_PEs==32
			unsigned int col_dim32 = index % NUM_PEs;
			unsigned int row_dim32 = index / NUM_PEs; // OPTIMIZE: follow with processedges_splitdstvxs
			unsigned int basecol_dim16 = 0;
			unsigned int col_dim16 = index % VECTOR2_SIZE;
			unsigned int row_dim16 = index / VECTOR2_SIZE;
			
			unsigned int block = index / 512;
			unsigned int baserow_dim16 = ((index / 512) * 512) / VECTOR2_SIZE;
			unsigned int localrow_16 = row_dim16 - baserow_dim16;
			localrow_16 = localrow_16 / 2; if(col_dim32 < 16){ localrow_16 = localrow_16; } else{ localrow_16 = localrow_16 + 16; }
			unsigned int truerow_dim16 = baserow_dim16 + localrow_16;
		#else
		NOT IMPLEMENTED.
		#endif
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"PROCESS_SPL2_GETVTXDATASET[AFTER]:: index: "<<index<<", col_dim32: "<<col_dim32<<", row_dim32: "<<row_dim32<<", col_dim16: "<<col_dim16<<", baserow_dim16: "<<baserow_dim16<<", localrow_16: "<<localrow_16<<", truerow_dim16: "<<truerow_dim16<<endl;
		#endif 
		
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("PROCESS_SPL2_GETVTXDATASET.col_dim16", col_dim16, VECTOR2_SIZE, col_dim16, index, loc);
		actsutilityobj->checkoutofbounds("PROCESS_SPL2_GETVTXDATASET.truerow_dim16", truerow_dim16, DOUBLE_BLOCKRAM_SIZE, truerow_dim16, index, loc);
		#endif 
		// VMdatas[v] = vmaskBITS[col_dim16][truerow_dim16];
		// keyvalue_t KV = UTIL_GETKV2(vbuffer[col_dim16][truerow_dim16/2]);
		// if(truerow_dim16%2==0){ Vdatas[v] = KV.key; } else { Vdatas[v] = KV.value; }
		VMdatas[v] = MEMCA_READFROMBUFFER_VMASK(truerow_dim16, vmaskBITS[col_dim16], 0);
		Vdatas[v] = MEMCA_READFROMBUFFER_VDATA(truerow_dim16, vbuffer[col_dim16], 0);
		
		#ifdef _DEBUGMODE_KERNELPRINTS
		if(VMdatas[v] == 1){ cout<<"PROCESS_SPL2_GETVTXDATASET: MASK=1 FOUND: VMdatas["<<v<<"]: "<<VMdatas[v]<<", vmaskBITS["<<col_dim16<<"]["<<truerow_dim16<<"]: "<<vmaskBITS[col_dim16][truerow_dim16]<<", (loc + v): "<<loc + v<<", loc: "<<loc<<", v: "<<v<<endl; }
		#endif
	}
	return;
}

unsigned int acts_all::PROCESS_SPL3_GETROW(unsigned int loc){					
	unsigned int col_dim32 = loc % NUM_PEs;
	unsigned int row_dim32 = loc / NUM_PEs; // OPTIMIZE: follow with processedges_splitdstvxs
	unsigned int basecol_dim16 = 0;
	unsigned int col_dim16 = loc % VECTOR2_SIZE;
	unsigned int row_dim16 = loc / VECTOR2_SIZE;
	
	unsigned int block = loc / 512;
	unsigned int baserow_dim16 = ((loc / 512) * 512) / VECTOR2_SIZE;
	unsigned int localrow_16 = row_dim16 - baserow_dim16;
	localrow_16 = localrow_16 / 2; if(col_dim32 < 16){ localrow_16 = localrow_16; } else{ localrow_16 = localrow_16 + 16; }
	unsigned int truerow_dim16 = baserow_dim16 + localrow_16;
	
	return truerow_dim16;
}
void acts_all::PROCESS_SPL3_GETVTXDATASET(unsigned int loc, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], value_t Vdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], unit1_type VMdatas[MAX_NUM_UNIQ_EDGES_PER_VEC], globalparams_t globalparams){					
	unit1_type VMdatas_tmp[32];
	unit1_type VMdatas_tmpA[VECTOR2_SIZE];
	unit1_type VMdatas_tmpB[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=VMdatas_tmp complete
	#pragma HLS ARRAY_PARTITION variable=VMdatas_tmpA complete
	#pragma HLS ARRAY_PARTITION variable=VMdatas_tmpB complete
	value_t Vdatas_tmp[32];
	value_t Vdatas_tmpA[VECTOR2_SIZE];
	value_t Vdatas_tmpB[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=Vdatas_tmp complete
	#pragma HLS ARRAY_PARTITION variable=Vdatas_tmpA complete
	#pragma HLS ARRAY_PARTITION variable=Vdatas_tmpB complete
	
	unsigned int fcol_dim16 = loc % VECTOR2_SIZE;
	unsigned int col_dim16 = loc % VECTOR2_SIZE;
	
	unsigned int truerow1_dim16 = PROCESS_SPL3_GETROW(loc);
	unsigned int truerow2_dim16 = PROCESS_SPL3_GETROW((loc + (VECTOR2_SIZE - col_dim16)));

	#ifdef CONFIG_MERGEVMASKSWITHVBUFFERDATA
	if(truerow1_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VDATASWITHVMASKS(truerow1_dim16, vbuffer, Vdatas_tmpA, VMdatas_tmpA, 0); }
	if(truerow2_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VDATASWITHVMASKS(truerow2_dim16, vbuffer, Vdatas_tmpB, VMdatas_tmpB, 0); }
	#else 
	if(truerow1_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VDATAS(truerow1_dim16, vbuffer, Vdatas_tmpA, 0); }
	if(truerow2_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VDATAS(truerow2_dim16, vbuffer, Vdatas_tmpB, 0); }
	if(truerow1_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VMASKS(truerow1_dim16, vmaskBITS, VMdatas_tmpA, 0); }
	if(truerow2_dim16 < globalparams.SIZEKVS2_REDUCEPARTITION){ MEMCA_READFROMBUFFER_VMASKS(truerow2_dim16, vmaskBITS, VMdatas_tmpB, 0); }
	#endif 
	
	for(unsigned int v=0; v<VECTOR2_SIZE; v++){ VMdatas_tmp[v] = VMdatas_tmpA[v]; Vdatas_tmp[v] = Vdatas_tmpA[v]; }
	for(unsigned int v=0; v<VECTOR2_SIZE; v++){ VMdatas_tmp[VECTOR2_SIZE + v] = VMdatas_tmpB[v]; Vdatas_tmp[VECTOR2_SIZE + v] = Vdatas_tmpB[v]; }
	
	unsigned int index = 0;
	for(unsigned int v=fcol_dim16; v<fcol_dim16 + MAX_NUM_UNIQ_EDGES_PER_VEC; v++){
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("PROCESS_SPL3_GETVTXDATASET(C).fcol_dim16", index, 32, v, NAp, NAp);
		actsutilityobj->checkoutofbounds("PROCESS_SPL3_GETVTXDATASET(C).v", v, 32, v, NAp, NAp);
		#endif
		VMdatas[index] = VMdatas_tmp[v];
		Vdatas[index] = Vdatas_tmp[v];
		index += 1;
	}
	return;
}

fetchmessage_t acts_all::PROCESS_SPL_readandprocess(bool_type enable, uint512_dt * edges, uint512_dt * kvdram, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_buffer_t buffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], 
		batch_type goffset_kvs, batch_type loffset_kvs, batch_type size_kvs, travstate_t travstate, sweepparams_t sweepparams, globalparams_t globalparams){
	fetchmessage_t fetchmessage;
	fetchmessage.chunksize_kvs = -1;
	fetchmessage.nextoffset_kvs = -1;
	if(enable == OFF){ return fetchmessage; }
	
	analysis_type analysis_loop = BLOCKRAM_SIZE / 2;

	uint32_type E[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=E complete
	bool_type en = ON;
	bool_type ens[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=ens complete
	unsigned int udata[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=udata complete
	unit1_type mask[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=mask complete
	
	buffer_type reducebuffersz = globalparams.SIZE_REDUCE / 2;
	unsigned int validbound = reducebuffersz * FETFACTOR * VECTOR2_SIZE;
	
	travstate.i_kvs = travstate.i_kvs / 2;
	travstate.end_kvs = travstate.end_kvs / 2;
	loffset_kvs = loffset_kvs / 2;
	buffer_type edgessize_kvs = size_kvs / 2;
	
	batch_type offset_kvs = goffset_kvs + loffset_kvs;
	
	value_t udataset[MAX_NUM_UNIQ_EDGES_PER_VEC];
	#pragma HLS ARRAY_PARTITION variable=udataset complete
	value_t maskset[MAX_NUM_UNIQ_EDGES_PER_VEC];
	#pragma HLS ARRAY_PARTITION variable=maskset complete
	vertex_t lvids[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=lvids complete
	keyvalue_t mykeyvalue[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=mykeyvalue complete
	
	unit4_type incr[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=incr complete
	unsigned int lsrcvids[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=lsrcvids complete
	unsigned int ldstvids[VECTOR2_SIZE];	
	#pragma HLS ARRAY_PARTITION variable=ldstvids complete
	value_t res[VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=res complete
	
	value_t Vsets[2][VECTOR2_SIZE]; // DEPRECIATED.
	#pragma HLS ARRAY_PARTITION variable=Vset complete
	unit1_type VMsets[2][VECTOR2_SIZE];
	#pragma HLS ARRAY_PARTITION variable=VMset complete
	
	value_t Vset[MAX_NUM_UNIQ_EDGES_PER_VEC];
	#pragma HLS ARRAY_PARTITION variable=Vset complete
	unit1_type VMset[MAX_NUM_UNIQ_EDGES_PER_VEC];
	#pragma HLS ARRAY_PARTITION variable=VMset complete
	
	sliceinfos_t sliceinfos;
	
	vertex_t srcvid_head;
	vertex_t lvid_head;
	
	batch_type vptrbaseoffset_kvs = globalparams.BASEOFFSETKVS_VERTEXPTR + (globalparams.ACTSPARAMS_SRCVOFFSET / VECTOR_SIZE);
	batch_type voffset_kvs = sweepparams.source_partition * reducebuffersz * FETFACTOR;
	keyy_t nextbeginvptr;
	keyy_t nextbeginvptr_kvs;
	
	fetchmessage.chunksize_kvs = edgessize_kvs;
	fetchmessage.nextoffset_kvs = -1;
	buffer_type loadcount = 0;
	buffer_type activeloadcount = 0;
	buffer_type inactiveloadcount = 0;
	
	unsigned int debug_numinvalidheads = 0;
	unsigned int GraphAlgo = globalparams.ALGORITHMINFO_GRAPHALGORITHMID;
	for(unsigned int v=0; v<MAX_NUM_UNIQ_EDGES_PER_VEC; v++){ udataset[v] = 0; }

	unsigned int num_passes = 1;
	buffer_type chunk_size = UTIL_getchunksize_kvs(edgessize_kvs, travstate, 0);
	READANDPROCESS_SPL_LOOP3A:  for(buffer_type part=0; part<1; part++){
		READANDPROCESS_SPL_LOOP3B:  for(buffer_type m=0; m<num_passes; m++){
			loadcount = 0;
			debug_numinvalidheads = 0;
			READANDPROCESS_SPL_LOOP3C: for (buffer_type i=0; i<chunk_size; i++){
			#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loop avg=analysis_loop	
			#pragma HLS PIPELINE II=1
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"--- PROCESS_SPL_readandprocess: m: "<<m<<", i: "<<i<<" (of "<<chunk_size<<")"<<endl;
				#endif

				#ifdef _WIDEWORD
				E[0] = edges[offset_kvs + i].range(31, 0); 
				E[1] = edges[offset_kvs + i].range(63, 32); 
				E[2] = edges[offset_kvs + i].range(95, 64); 
				E[3] = edges[offset_kvs + i].range(127, 96); 
				E[4] = edges[offset_kvs + i].range(159, 128); 
				E[5] = edges[offset_kvs + i].range(191, 160); 
				E[6] = edges[offset_kvs + i].range(223, 192); 
				E[7] = edges[offset_kvs + i].range(255, 224); 
				E[8] = edges[offset_kvs + i].range(287, 256); 
				E[9] = edges[offset_kvs + i].range(319, 288); 
				E[10] = edges[offset_kvs + i].range(351, 320); 
				E[11] = edges[offset_kvs + i].range(383, 352); 
				E[12] = edges[offset_kvs + i].range(415, 384); 
				E[13] = edges[offset_kvs + i].range(447, 416); 
				E[14] = edges[offset_kvs + i].range(479, 448); 
				E[15] = edges[offset_kvs + i].range(511, 480); 
				#else 
				E[0] = edges[offset_kvs + i].data[0].key; 
				E[1] = edges[offset_kvs + i].data[0].value;
				E[2] = edges[offset_kvs + i].data[1].key; 
				E[3] = edges[offset_kvs + i].data[1].value;
				E[4] = edges[offset_kvs + i].data[2].key; 
				E[5] = edges[offset_kvs + i].data[2].value;
				E[6] = edges[offset_kvs + i].data[3].key; 
				E[7] = edges[offset_kvs + i].data[3].value;
				E[8] = edges[offset_kvs + i].data[4].key; 
				E[9] = edges[offset_kvs + i].data[4].value;
				E[10] = edges[offset_kvs + i].data[5].key; 
				E[11] = edges[offset_kvs + i].data[5].value;
				E[12] = edges[offset_kvs + i].data[6].key; 
				E[13] = edges[offset_kvs + i].data[6].value;
				E[14] = edges[offset_kvs + i].data[7].key; 
				E[15] = edges[offset_kvs + i].data[7].value;
				#endif
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(0, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif 
					
				srcvid_head = E[0];
				lvid_head = srcvid_head - travstate.i2;	
				parsededge_t parsed_edge0 = PARSE_EDGE(E[0]);
				incr[0] = parsed_edge0.incr;
				lsrcvids[0] = lvid_head + incr[0];
				ldstvids[0] = parsed_edge0.dstvid;	
				parsededge_t parsed_edge1 = PARSE_EDGE(E[1]);
				incr[1] = parsed_edge1.incr;
				lsrcvids[1] = lvid_head + incr[1];
				ldstvids[1] = parsed_edge1.dstvid;	
				parsededge_t parsed_edge2 = PARSE_EDGE(E[2]);
				incr[2] = parsed_edge2.incr;
				lsrcvids[2] = lvid_head + incr[2];
				ldstvids[2] = parsed_edge2.dstvid;	
				parsededge_t parsed_edge3 = PARSE_EDGE(E[3]);
				incr[3] = parsed_edge3.incr;
				lsrcvids[3] = lvid_head + incr[3];
				ldstvids[3] = parsed_edge3.dstvid;	
				parsededge_t parsed_edge4 = PARSE_EDGE(E[4]);
				incr[4] = parsed_edge4.incr;
				lsrcvids[4] = lvid_head + incr[4];
				ldstvids[4] = parsed_edge4.dstvid;	
				parsededge_t parsed_edge5 = PARSE_EDGE(E[5]);
				incr[5] = parsed_edge5.incr;
				lsrcvids[5] = lvid_head + incr[5];
				ldstvids[5] = parsed_edge5.dstvid;	
				parsededge_t parsed_edge6 = PARSE_EDGE(E[6]);
				incr[6] = parsed_edge6.incr;
				lsrcvids[6] = lvid_head + incr[6];
				ldstvids[6] = parsed_edge6.dstvid;	
				parsededge_t parsed_edge7 = PARSE_EDGE(E[7]);
				incr[7] = parsed_edge7.incr;
				lsrcvids[7] = lvid_head + incr[7];
				ldstvids[7] = parsed_edge7.dstvid;	
				parsededge_t parsed_edge8 = PARSE_EDGE(E[8]);
				incr[8] = parsed_edge8.incr;
				lsrcvids[8] = lvid_head + incr[8];
				ldstvids[8] = parsed_edge8.dstvid;	
				parsededge_t parsed_edge9 = PARSE_EDGE(E[9]);
				incr[9] = parsed_edge9.incr;
				lsrcvids[9] = lvid_head + incr[9];
				ldstvids[9] = parsed_edge9.dstvid;	
				parsededge_t parsed_edge10 = PARSE_EDGE(E[10]);
				incr[10] = parsed_edge10.incr;
				lsrcvids[10] = lvid_head + incr[10];
				ldstvids[10] = parsed_edge10.dstvid;	
				parsededge_t parsed_edge11 = PARSE_EDGE(E[11]);
				incr[11] = parsed_edge11.incr;
				lsrcvids[11] = lvid_head + incr[11];
				ldstvids[11] = parsed_edge11.dstvid;	
				parsededge_t parsed_edge12 = PARSE_EDGE(E[12]);
				incr[12] = parsed_edge12.incr;
				lsrcvids[12] = lvid_head + incr[12];
				ldstvids[12] = parsed_edge12.dstvid;	
				parsededge_t parsed_edge13 = PARSE_EDGE(E[13]);
				incr[13] = parsed_edge13.incr;
				lsrcvids[13] = lvid_head + incr[13];
				ldstvids[13] = parsed_edge13.dstvid;	
				parsededge_t parsed_edge14 = PARSE_EDGE(E[14]);
				incr[14] = parsed_edge14.incr;
				lsrcvids[14] = lvid_head + incr[14];
				ldstvids[14] = parsed_edge14.dstvid;	
				parsededge_t parsed_edge15 = PARSE_EDGE(E[15]);
				incr[15] = parsed_edge15.incr;
				lsrcvids[15] = lvid_head + incr[15];
				ldstvids[15] = parsed_edge15.dstvid;	
				
				bool_type en = ON;
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(1, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif
				
				#if defined(CONFIG_READVDATA_SLIDE)
				NOT IMPLEMENTED.
				#elif defined(CONFIG_READVDATA_SLIDEANDREARRANGE)
				PROCESS_SPL3_GETVTXDATASET(lvid_head, vbuffer, vmaskBITS, Vset, VMset, globalparams);
				#else
				PROCESS_SPL1_GETVTXDATASET(lvid_head, vbuffer, vmaskBITS, Vset, VMset, globalparams);
				#endif
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(2, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif 
				
				ens[0] = ON; if(E[0] == INVALIDDATA || lsrcvids[0] >= validbound){ ens[0] = OFF; }
				ens[1] = ON; if(E[1] == INVALIDDATA || lsrcvids[1] >= validbound){ ens[1] = OFF; }
				ens[2] = ON; if(E[2] == INVALIDDATA || lsrcvids[2] >= validbound){ ens[2] = OFF; }
				ens[3] = ON; if(E[3] == INVALIDDATA || lsrcvids[3] >= validbound){ ens[3] = OFF; }
				ens[4] = ON; if(E[4] == INVALIDDATA || lsrcvids[4] >= validbound){ ens[4] = OFF; }
				ens[5] = ON; if(E[5] == INVALIDDATA || lsrcvids[5] >= validbound){ ens[5] = OFF; }
				ens[6] = ON; if(E[6] == INVALIDDATA || lsrcvids[6] >= validbound){ ens[6] = OFF; }
				ens[7] = ON; if(E[7] == INVALIDDATA || lsrcvids[7] >= validbound){ ens[7] = OFF; }
				ens[8] = ON; if(E[8] == INVALIDDATA || lsrcvids[8] >= validbound){ ens[8] = OFF; }
				ens[9] = ON; if(E[9] == INVALIDDATA || lsrcvids[9] >= validbound){ ens[9] = OFF; }
				ens[10] = ON; if(E[10] == INVALIDDATA || lsrcvids[10] >= validbound){ ens[10] = OFF; }
				ens[11] = ON; if(E[11] == INVALIDDATA || lsrcvids[11] >= validbound){ ens[11] = OFF; }
				ens[12] = ON; if(E[12] == INVALIDDATA || lsrcvids[12] >= validbound){ ens[12] = OFF; }
				ens[13] = ON; if(E[13] == INVALIDDATA || lsrcvids[13] >= validbound){ ens[13] = OFF; }
				ens[14] = ON; if(E[14] == INVALIDDATA || lsrcvids[14] >= validbound){ ens[14] = OFF; }
				ens[15] = ON; if(E[15] == INVALIDDATA || lsrcvids[15] >= validbound){ ens[15] = OFF; }
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(3, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif 
				
 mask[0] = 0;  mask[1] = 0;  mask[2] = 0;  mask[3] = 0;  mask[4] = 0;  mask[5] = 0;  mask[6] = 0;  mask[7] = 0;  mask[8] = 0;  mask[9] = 0;  mask[10] = 0;  mask[11] = 0;  mask[12] = 0;  mask[13] = 0;  mask[14] = 0;  mask[15] = 0; 				if(GraphAlgo == PAGERANK){  mask[0] = 1;  mask[1] = 1;  mask[2] = 1;  mask[3] = 1;  mask[4] = 1;  mask[5] = 1;  mask[6] = 1;  mask[7] = 1;  mask[8] = 1;  mask[9] = 1;  mask[10] = 1;  mask[11] = 1;  mask[12] = 1;  mask[13] = 1;  mask[14] = 1;  mask[15] = 1;  } 
				else {
					udata[0] = Vset[incr[0]]; 
					mask[0] = VMset[incr[0]];
					udata[1] = Vset[incr[1]]; 
					mask[1] = VMset[incr[1]];
					udata[2] = Vset[incr[2]]; 
					mask[2] = VMset[incr[2]];
					udata[3] = Vset[incr[3]]; 
					mask[3] = VMset[incr[3]];
					udata[4] = Vset[incr[4]]; 
					mask[4] = VMset[incr[4]];
					udata[5] = Vset[incr[5]]; 
					mask[5] = VMset[incr[5]];
					udata[6] = Vset[incr[6]]; 
					mask[6] = VMset[incr[6]];
					udata[7] = Vset[incr[7]]; 
					mask[7] = VMset[incr[7]];
					udata[8] = Vset[incr[8]]; 
					mask[8] = VMset[incr[8]];
					udata[9] = Vset[incr[9]]; 
					mask[9] = VMset[incr[9]];
					udata[10] = Vset[incr[10]]; 
					mask[10] = VMset[incr[10]];
					udata[11] = Vset[incr[11]]; 
					mask[11] = VMset[incr[11]];
					udata[12] = Vset[incr[12]]; 
					mask[12] = VMset[incr[12]];
					udata[13] = Vset[incr[13]]; 
					mask[13] = VMset[incr[13]];
					udata[14] = Vset[incr[14]]; 
					mask[14] = VMset[incr[14]];
					udata[15] = Vset[incr[15]]; 
					mask[15] = VMset[incr[15]];
				}
				mask[0] = 0; 
				ens[0] = OFF;
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(4, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif
				
				res[0] = PROCESS_SPL_processfunc(udata[0], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[1] = PROCESS_SPL_processfunc(udata[1], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[2] = PROCESS_SPL_processfunc(udata[2], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[3] = PROCESS_SPL_processfunc(udata[3], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[4] = PROCESS_SPL_processfunc(udata[4], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[5] = PROCESS_SPL_processfunc(udata[5], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[6] = PROCESS_SPL_processfunc(udata[6], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[7] = PROCESS_SPL_processfunc(udata[7], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[8] = PROCESS_SPL_processfunc(udata[8], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[9] = PROCESS_SPL_processfunc(udata[9], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[10] = PROCESS_SPL_processfunc(udata[10], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[11] = PROCESS_SPL_processfunc(udata[11], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[12] = PROCESS_SPL_processfunc(udata[12], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[13] = PROCESS_SPL_processfunc(udata[13], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[14] = PROCESS_SPL_processfunc(udata[14], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				res[15] = PROCESS_SPL_processfunc(udata[15], 1, globalparams.ALGORITHMINFO_GRAPHALGORITHMID); 
				if(ens[0] == ON && mask[0] == 1){ mykeyvalue[0].key = ldstvids[0]; mykeyvalue[0].value = res[0]; } else { mykeyvalue[0].key = INVALIDDATA; mykeyvalue[0].value = INVALIDDATA;  }
				if(ens[1] == ON && mask[1] == 1){ mykeyvalue[1].key = ldstvids[1]; mykeyvalue[1].value = res[1]; } else { mykeyvalue[1].key = INVALIDDATA; mykeyvalue[1].value = INVALIDDATA;  }
				if(ens[2] == ON && mask[2] == 1){ mykeyvalue[2].key = ldstvids[2]; mykeyvalue[2].value = res[2]; } else { mykeyvalue[2].key = INVALIDDATA; mykeyvalue[2].value = INVALIDDATA;  }
				if(ens[3] == ON && mask[3] == 1){ mykeyvalue[3].key = ldstvids[3]; mykeyvalue[3].value = res[3]; } else { mykeyvalue[3].key = INVALIDDATA; mykeyvalue[3].value = INVALIDDATA;  }
				if(ens[4] == ON && mask[4] == 1){ mykeyvalue[4].key = ldstvids[4]; mykeyvalue[4].value = res[4]; } else { mykeyvalue[4].key = INVALIDDATA; mykeyvalue[4].value = INVALIDDATA;  }
				if(ens[5] == ON && mask[5] == 1){ mykeyvalue[5].key = ldstvids[5]; mykeyvalue[5].value = res[5]; } else { mykeyvalue[5].key = INVALIDDATA; mykeyvalue[5].value = INVALIDDATA;  }
				if(ens[6] == ON && mask[6] == 1){ mykeyvalue[6].key = ldstvids[6]; mykeyvalue[6].value = res[6]; } else { mykeyvalue[6].key = INVALIDDATA; mykeyvalue[6].value = INVALIDDATA;  }
				if(ens[7] == ON && mask[7] == 1){ mykeyvalue[7].key = ldstvids[7]; mykeyvalue[7].value = res[7]; } else { mykeyvalue[7].key = INVALIDDATA; mykeyvalue[7].value = INVALIDDATA;  }
				if(ens[8] == ON && mask[8] == 1){ mykeyvalue[8].key = ldstvids[8]; mykeyvalue[8].value = res[8]; } else { mykeyvalue[8].key = INVALIDDATA; mykeyvalue[8].value = INVALIDDATA;  }
				if(ens[9] == ON && mask[9] == 1){ mykeyvalue[9].key = ldstvids[9]; mykeyvalue[9].value = res[9]; } else { mykeyvalue[9].key = INVALIDDATA; mykeyvalue[9].value = INVALIDDATA;  }
				if(ens[10] == ON && mask[10] == 1){ mykeyvalue[10].key = ldstvids[10]; mykeyvalue[10].value = res[10]; } else { mykeyvalue[10].key = INVALIDDATA; mykeyvalue[10].value = INVALIDDATA;  }
				if(ens[11] == ON && mask[11] == 1){ mykeyvalue[11].key = ldstvids[11]; mykeyvalue[11].value = res[11]; } else { mykeyvalue[11].key = INVALIDDATA; mykeyvalue[11].value = INVALIDDATA;  }
				if(ens[12] == ON && mask[12] == 1){ mykeyvalue[12].key = ldstvids[12]; mykeyvalue[12].value = res[12]; } else { mykeyvalue[12].key = INVALIDDATA; mykeyvalue[12].value = INVALIDDATA;  }
				if(ens[13] == ON && mask[13] == 1){ mykeyvalue[13].key = ldstvids[13]; mykeyvalue[13].value = res[13]; } else { mykeyvalue[13].key = INVALIDDATA; mykeyvalue[13].value = INVALIDDATA;  }
				if(ens[14] == ON && mask[14] == 1){ mykeyvalue[14].key = ldstvids[14]; mykeyvalue[14].value = res[14]; } else { mykeyvalue[14].key = INVALIDDATA; mykeyvalue[14].value = INVALIDDATA;  }
				if(ens[15] == ON && mask[15] == 1){ mykeyvalue[15].key = ldstvids[15]; mykeyvalue[15].value = res[15]; } else { mykeyvalue[15].key = INVALIDDATA; mykeyvalue[15].value = INVALIDDATA;  }
				mykeyvalue[0].key = INVALIDDATA;
				mykeyvalue[0].value = INVALIDDATA;
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(5, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif 
		
				buffer[0][loadcount] = UTIL_GETKV(mykeyvalue[0]);
				buffer[1][loadcount] = UTIL_GETKV(mykeyvalue[1]);
				buffer[2][loadcount] = UTIL_GETKV(mykeyvalue[2]);
				buffer[3][loadcount] = UTIL_GETKV(mykeyvalue[3]);
				buffer[4][loadcount] = UTIL_GETKV(mykeyvalue[4]);
				buffer[5][loadcount] = UTIL_GETKV(mykeyvalue[5]);
				buffer[6][loadcount] = UTIL_GETKV(mykeyvalue[6]);
				buffer[7][loadcount] = UTIL_GETKV(mykeyvalue[7]);
	
				buffer[0][loadcount + 1] = UTIL_GETKV(mykeyvalue[8]);
				buffer[1][loadcount + 1] = UTIL_GETKV(mykeyvalue[9]);
				buffer[2][loadcount + 1] = UTIL_GETKV(mykeyvalue[10]);
				buffer[3][loadcount + 1] = UTIL_GETKV(mykeyvalue[11]);
				buffer[4][loadcount + 1] = UTIL_GETKV(mykeyvalue[12]);
				buffer[5][loadcount + 1] = UTIL_GETKV(mykeyvalue[13]);
				buffer[6][loadcount + 1] = UTIL_GETKV(mykeyvalue[14]);
				buffer[7][loadcount + 1] = UTIL_GETKV(mykeyvalue[15]);
	
				if(ens[1] == ON && mask[1] == 1){ loadcount += 2; }
				#ifdef _DEBUGMODE_CHECKS3
				PROCESS_SPL_debug(6, i, E, ens, mask, udataset, maskset, Vset, VMset, lvids, incr, lsrcvids, ldstvids, res, mykeyvalue, sweepparams, globalparams, lvid_head, srcvid_head, travstate, chunk_size, sliceinfos, &activeloadcount, &inactiveloadcount, &debug_numinvalidheads);
				#endif 
				
				// exit(EXIT_SUCCESS); ///
			}
		}
	}
	// cout<<">>> readandprocess: loadcount: "<<loadcount<<", activeloadcount: "<<activeloadcount<<", inactiveloadcount: "<<inactiveloadcount<<endl;
	// exit(EXIT_SUCCESS); ///
	fetchmessage.chunksize_kvs = loadcount;
	return fetchmessage;
}

	
#endif 
#ifdef CONFIG_ENABLECLASS_PARTITIONUPDATES
#include "partitionupdates.h"
using namespace std;

#ifdef SW
partitionupdates::partitionupdates(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	mydebugobj = _mydebugobj; 
}
partitionupdates::~partitionupdates(){}
#endif

void acts_all::PARTITION_preparekeyvalues(bool_type enable1, bool_type enable2, unsigned int mode, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_buffer_t destbuffer[VECTOR_SIZE][BLOCKRAM_SIZE], keyvalue_capsule_t localcapsule[VECTOR_SIZE][MAX_NUM_PARTITIONS], step_type currentLOP, sweepparams_t sweepparams, buffer_type size_kvs, buffer_type cutoffs[VECTOR_SIZE], globalparams_t globalparams){				
	if(enable1 == OFF && enable2 == OFF){ return; }
	analysis_type analysis_loop1 = WORKBUFFER_SIZE;
	analysis_type analysis_dummyfiller = SRCBUFFER_SIZE - WORKBUFFER_SIZE;
	
	value_t emptyslot[VECTOR_SIZE];
	#pragma HLS ARRAY_PARTITION variable=emptyslot complete
UTIL_resetvalues(emptyslot, VECTOR_SIZE, 0);
	
	buffer_type chunk_size = size_kvs;
	unsigned int upperlimit = sweepparams.upperlimit;
	unsigned int upperpartition = sweepparams.upperpartition;
	
	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){ 
		localcapsule[0][p].key = 0;
		localcapsule[0][p].value = 0; 
		localcapsule[1][p].key = 0;
		localcapsule[1][p].value = 0; 
		localcapsule[2][p].key = 0;
		localcapsule[2][p].value = 0; 
		localcapsule[3][p].key = 0;
		localcapsule[3][p].value = 0; 
		localcapsule[4][p].key = 0;
		localcapsule[4][p].value = 0; 
		localcapsule[5][p].key = 0;
		localcapsule[5][p].value = 0; 
		localcapsule[6][p].key = 0;
		localcapsule[6][p].value = 0; 
		localcapsule[7][p].key = 0;
		localcapsule[7][p].value = 0; 
	}
	
	PREPAREKEYVALUES_LOOP1: for(buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loop1 avg=analysis_loop1	
	#pragma HLS PIPELINE II=2
		keyvalue_buffer_t keyvalue0 = sourcebuffer[0][i];
		keyvalue_buffer_t keyvalue1 = sourcebuffer[1][i];
		keyvalue_buffer_t keyvalue2 = sourcebuffer[2][i];
		keyvalue_buffer_t keyvalue3 = sourcebuffer[3][i];
		keyvalue_buffer_t keyvalue4 = sourcebuffer[4][i];
		keyvalue_buffer_t keyvalue5 = sourcebuffer[5][i];
		keyvalue_buffer_t keyvalue6 = sourcebuffer[6][i];
		keyvalue_buffer_t keyvalue7 = sourcebuffer[7][i];
		
		keyvalue_t mykeyvalue0 = UTIL_GETKV(keyvalue0);
		keyvalue_t mykeyvalue1 = UTIL_GETKV(keyvalue1);
		keyvalue_t mykeyvalue2 = UTIL_GETKV(keyvalue2);
		keyvalue_t mykeyvalue3 = UTIL_GETKV(keyvalue3);
		keyvalue_t mykeyvalue4 = UTIL_GETKV(keyvalue4);
		keyvalue_t mykeyvalue5 = UTIL_GETKV(keyvalue5);
		keyvalue_t mykeyvalue6 = UTIL_GETKV(keyvalue6);
		keyvalue_t mykeyvalue7 = UTIL_GETKV(keyvalue7);
		
		bool_type valid0 = ON;
		if(mykeyvalue0.key != UTIL_GETK(INVALIDDATA) && mykeyvalue0.value != UTIL_GETV(INVALIDDATA)){ valid0 = ON; } else { valid0 = OFF; }
		bool_type valid1 = ON;
		if(mykeyvalue1.key != UTIL_GETK(INVALIDDATA) && mykeyvalue1.value != UTIL_GETV(INVALIDDATA)){ valid1 = ON; } else { valid1 = OFF; }
		bool_type valid2 = ON;
		if(mykeyvalue2.key != UTIL_GETK(INVALIDDATA) && mykeyvalue2.value != UTIL_GETV(INVALIDDATA)){ valid2 = ON; } else { valid2 = OFF; }
		bool_type valid3 = ON;
		if(mykeyvalue3.key != UTIL_GETK(INVALIDDATA) && mykeyvalue3.value != UTIL_GETV(INVALIDDATA)){ valid3 = ON; } else { valid3 = OFF; }
		bool_type valid4 = ON;
		if(mykeyvalue4.key != UTIL_GETK(INVALIDDATA) && mykeyvalue4.value != UTIL_GETV(INVALIDDATA)){ valid4 = ON; } else { valid4 = OFF; }
		bool_type valid5 = ON;
		if(mykeyvalue5.key != UTIL_GETK(INVALIDDATA) && mykeyvalue5.value != UTIL_GETV(INVALIDDATA)){ valid5 = ON; } else { valid5 = OFF; }
		bool_type valid6 = ON;
		if(mykeyvalue6.key != UTIL_GETK(INVALIDDATA) && mykeyvalue6.value != UTIL_GETV(INVALIDDATA)){ valid6 = ON; } else { valid6 = OFF; }
		bool_type valid7 = ON;
		if(mykeyvalue7.key != UTIL_GETK(INVALIDDATA) && mykeyvalue7.value != UTIL_GETV(INVALIDDATA)){ valid7 = ON; } else { valid7 = OFF; }
		
		partition_type p0 = 0;
		if(valid0 == ON){ p0 = UTIL_getpartition(ON, mode, keyvalue0, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p1 = 0;
		if(valid1 == ON){ p1 = UTIL_getpartition(ON, mode, keyvalue1, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p2 = 0;
		if(valid2 == ON){ p2 = UTIL_getpartition(ON, mode, keyvalue2, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p3 = 0;
		if(valid3 == ON){ p3 = UTIL_getpartition(ON, mode, keyvalue3, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p4 = 0;
		if(valid4 == ON){ p4 = UTIL_getpartition(ON, mode, keyvalue4, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p5 = 0;
		if(valid5 == ON){ p5 = UTIL_getpartition(ON, mode, keyvalue5, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p6 = 0;
		if(valid6 == ON){ p6 = UTIL_getpartition(ON, mode, keyvalue6, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		partition_type p7 = 0;
		if(valid7 == ON){ p7 = UTIL_getpartition(ON, mode, keyvalue7, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE); }
		
		if(valid0 == ON){
			if(localcapsule[0][p0].value == 0){ 
				localcapsule[0][p0].key = emptyslot[0]; emptyslot[0] += 4;
			} else if(localcapsule[0][p0].value % 4 == 0){ 
				localcapsule[0][p0].key = emptyslot[0]; emptyslot[0] += 4;
			} else {}
		}
		if(valid1 == ON){
			if(localcapsule[1][p1].value == 0){ 
				localcapsule[1][p1].key = emptyslot[1]; emptyslot[1] += 4;
			} else if(localcapsule[1][p1].value % 4 == 0){ 
				localcapsule[1][p1].key = emptyslot[1]; emptyslot[1] += 4;
			} else {}
		}
		if(valid2 == ON){
			if(localcapsule[2][p2].value == 0){ 
				localcapsule[2][p2].key = emptyslot[2]; emptyslot[2] += 4;
			} else if(localcapsule[2][p2].value % 4 == 0){ 
				localcapsule[2][p2].key = emptyslot[2]; emptyslot[2] += 4;
			} else {}
		}
		if(valid3 == ON){
			if(localcapsule[3][p3].value == 0){ 
				localcapsule[3][p3].key = emptyslot[3]; emptyslot[3] += 4;
			} else if(localcapsule[3][p3].value % 4 == 0){ 
				localcapsule[3][p3].key = emptyslot[3]; emptyslot[3] += 4;
			} else {}
		}
		if(valid4 == ON){
			if(localcapsule[4][p4].value == 0){ 
				localcapsule[4][p4].key = emptyslot[4]; emptyslot[4] += 4;
			} else if(localcapsule[4][p4].value % 4 == 0){ 
				localcapsule[4][p4].key = emptyslot[4]; emptyslot[4] += 4;
			} else {}
		}
		if(valid5 == ON){
			if(localcapsule[5][p5].value == 0){ 
				localcapsule[5][p5].key = emptyslot[5]; emptyslot[5] += 4;
			} else if(localcapsule[5][p5].value % 4 == 0){ 
				localcapsule[5][p5].key = emptyslot[5]; emptyslot[5] += 4;
			} else {}
		}
		if(valid6 == ON){
			if(localcapsule[6][p6].value == 0){ 
				localcapsule[6][p6].key = emptyslot[6]; emptyslot[6] += 4;
			} else if(localcapsule[6][p6].value % 4 == 0){ 
				localcapsule[6][p6].key = emptyslot[6]; emptyslot[6] += 4;
			} else {}
		}
		if(valid7 == ON){
			if(localcapsule[7][p7].value == 0){ 
				localcapsule[7][p7].key = emptyslot[7]; emptyslot[7] += 4;
			} else if(localcapsule[7][p7].value % 4 == 0){ 
				localcapsule[7][p7].key = emptyslot[7]; emptyslot[7] += 4;
			} else {}
		}
		
		buffer_type loc0 = localcapsule[0][p0].key + (localcapsule[0][p0].value % 4);
		buffer_type loc1 = localcapsule[1][p1].key + (localcapsule[1][p1].value % 4);
		buffer_type loc2 = localcapsule[2][p2].key + (localcapsule[2][p2].value % 4);
		buffer_type loc3 = localcapsule[3][p3].key + (localcapsule[3][p3].value % 4);
		buffer_type loc4 = localcapsule[4][p4].key + (localcapsule[4][p4].value % 4);
		buffer_type loc5 = localcapsule[5][p5].key + (localcapsule[5][p5].value % 4);
		buffer_type loc6 = localcapsule[6][p6].key + (localcapsule[6][p6].value % 4);
		buffer_type loc7 = localcapsule[7][p7].key + (localcapsule[7][p7].value % 4);
		
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[0][p0].value", localcapsule[0][p0].value % 4, 4, localcapsule[0][p0].value, localcapsule[0][p0].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc0", loc0, SRCBUFFER_SIZE, localcapsule[0][p0].key, localcapsule[0][p0].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[1][p1].value", localcapsule[1][p1].value % 4, 4, localcapsule[1][p1].value, localcapsule[1][p1].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc1", loc1, SRCBUFFER_SIZE, localcapsule[1][p1].key, localcapsule[1][p1].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[2][p2].value", localcapsule[2][p2].value % 4, 4, localcapsule[2][p2].value, localcapsule[2][p2].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc2", loc2, SRCBUFFER_SIZE, localcapsule[2][p2].key, localcapsule[2][p2].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[3][p3].value", localcapsule[3][p3].value % 4, 4, localcapsule[3][p3].value, localcapsule[3][p3].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc3", loc3, SRCBUFFER_SIZE, localcapsule[3][p3].key, localcapsule[3][p3].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[4][p4].value", localcapsule[4][p4].value % 4, 4, localcapsule[4][p4].value, localcapsule[4][p4].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc4", loc4, SRCBUFFER_SIZE, localcapsule[4][p4].key, localcapsule[4][p4].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[5][p5].value", localcapsule[5][p5].value % 4, 4, localcapsule[5][p5].value, localcapsule[5][p5].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc5", loc5, SRCBUFFER_SIZE, localcapsule[5][p5].key, localcapsule[5][p5].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[6][p6].value", localcapsule[6][p6].value % 4, 4, localcapsule[6][p6].value, localcapsule[6][p6].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc6", loc6, SRCBUFFER_SIZE, localcapsule[6][p6].key, localcapsule[6][p6].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.localcapsule[7][p7].value", localcapsule[7][p7].value % 4, 4, localcapsule[7][p7].value, localcapsule[7][p7].value, NAp);
		actsutilityobj->checkoutofbounds("preparekeyvalues.loc7", loc7, SRCBUFFER_SIZE, localcapsule[7][p7].key, localcapsule[7][p7].value, NAp);
		#endif
		
		if(valid0 == ON){
			destbuffer[0][loc0] = keyvalue0;
			localcapsule[0][p0].value += 1;
		}
		if(valid1 == ON){
			destbuffer[1][loc1] = keyvalue1;
			localcapsule[1][p1].value += 1;
		}
		if(valid2 == ON){
			destbuffer[2][loc2] = keyvalue2;
			localcapsule[2][p2].value += 1;
		}
		if(valid3 == ON){
			destbuffer[3][loc3] = keyvalue3;
			localcapsule[3][p3].value += 1;
		}
		if(valid4 == ON){
			destbuffer[4][loc4] = keyvalue4;
			localcapsule[4][p4].value += 1;
		}
		if(valid5 == ON){
			destbuffer[5][loc5] = keyvalue5;
			localcapsule[5][p5].value += 1;
		}
		if(valid6 == ON){
			destbuffer[6][loc6] = keyvalue6;
			localcapsule[6][p6].value += 1;
		}
		if(valid7 == ON){
			destbuffer[7][loc7] = keyvalue7;
			localcapsule[7][p7].value += 1;
		}
	}
	
	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){
		keyvalue_t mydummykv;
		mydummykv.key = p;
		mydummykv.value = INVALIDDATA;
		keyvalue_buffer_t dummykv = UTIL_GETKV(mydummykv);
		for(vector_type k=0; k<4; k++){
		#pragma HLS PIPELINE II=2
			if(localcapsule[0][p].value > 0 && (localcapsule[0][p].value % 4) > 0){
				if(k >= localcapsule[0][p].value % 4){
					destbuffer[0][localcapsule[0][p].key + k] = dummykv;
					localcapsule[0][p].value += 1;
				}
			}
			if(localcapsule[1][p].value > 0 && (localcapsule[1][p].value % 4) > 0){
				if(k >= localcapsule[1][p].value % 4){
					destbuffer[1][localcapsule[1][p].key + k] = dummykv;
					localcapsule[1][p].value += 1;
				}
			}
			if(localcapsule[2][p].value > 0 && (localcapsule[2][p].value % 4) > 0){
				if(k >= localcapsule[2][p].value % 4){
					destbuffer[2][localcapsule[2][p].key + k] = dummykv;
					localcapsule[2][p].value += 1;
				}
			}
			if(localcapsule[3][p].value > 0 && (localcapsule[3][p].value % 4) > 0){
				if(k >= localcapsule[3][p].value % 4){
					destbuffer[3][localcapsule[3][p].key + k] = dummykv;
					localcapsule[3][p].value += 1;
				}
			}
			if(localcapsule[4][p].value > 0 && (localcapsule[4][p].value % 4) > 0){
				if(k >= localcapsule[4][p].value % 4){
					destbuffer[4][localcapsule[4][p].key + k] = dummykv;
					localcapsule[4][p].value += 1;
				}
			}
			if(localcapsule[5][p].value > 0 && (localcapsule[5][p].value % 4) > 0){
				if(k >= localcapsule[5][p].value % 4){
					destbuffer[5][localcapsule[5][p].key + k] = dummykv;
					localcapsule[5][p].value += 1;
				}
			}
			if(localcapsule[6][p].value > 0 && (localcapsule[6][p].value % 4) > 0){
				if(k >= localcapsule[6][p].value % 4){
					destbuffer[6][localcapsule[6][p].key + k] = dummykv;
					localcapsule[6][p].value += 1;
				}
			}
			if(localcapsule[7][p].value > 0 && (localcapsule[7][p].value % 4) > 0){
				if(k >= localcapsule[7][p].value % 4){
					destbuffer[7][localcapsule[7][p].key + k] = dummykv;
					localcapsule[7][p].value += 1;
				}
			}
		}
	}
	
	for(vector_type v=0; v<VECTOR_SIZE; v++){ cutoffs[v] = emptyslot[v]; }
	
	localcapsule[0][0].value += (SRCBUFFER_SIZE - emptyslot[0]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[1][0].value += (SRCBUFFER_SIZE - emptyslot[1]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[2][0].value += (SRCBUFFER_SIZE - emptyslot[2]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[3][0].value += (SRCBUFFER_SIZE - emptyslot[3]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[4][0].value += (SRCBUFFER_SIZE - emptyslot[4]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[5][0].value += (SRCBUFFER_SIZE - emptyslot[5]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[6][0].value += (SRCBUFFER_SIZE - emptyslot[6]); //?????????????????????? FIXME. MAKE OBSOLETE?
	localcapsule[7][0].value += (SRCBUFFER_SIZE - emptyslot[7]); //?????????????????????? FIXME. MAKE OBSOLETE?
	
	localcapsule[0][0].key = 0;
	localcapsule[1][0].key = 0;
	localcapsule[2][0].key = 0;
	localcapsule[3][0].key = 0;
	localcapsule[4][0].key = 0;
	localcapsule[5][0].key = 0;
	localcapsule[6][0].key = 0;
	localcapsule[7][0].key = 0;
	
UTIL_calculatemanyunallignedoffsets(localcapsule, MAX_NUM_PARTITIONS, 0, 0);

	#ifdef _DEBUGMODE_CHECKS2
	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){
		for(vector_type v=0; v<VECTOR_SIZE; v++){
			actsutilityobj->checkfordivisibleby(ON, "preparekeyvalues.localcapsule[v][p].key", localcapsule[v][p].key, 4);
		}
	}
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printkeyvalues("[after]preparekeyvalues.localcapsule[0].2", (keyvalue_t *)localcapsule[0], MAX_NUM_PARTITIONS);
	actsutilityobj->printvalues("preparekeyvalues:cutoffs", cutoffs, VECTOR_SIZE);
	#endif
	return;
}

void acts_all::PARTITION_priorpartitionkeyvalues(bool_type enable1, bool_type enable2, unsigned int mode, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_buffer_t destbuffer[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], step_type currentLOP, sweepparams_t sweepparams, buffer_type size_kvs, globalparams_t globalparams){				
	#ifdef ENABLERECURSIVEPARTITIONING
	if(currentLOP == globalparams.ACTSPARAMS_TREEDEPTH){ return; } /// NEWCHANGE.
	#else 
	if(currentLOP > globalparams.ACTSPARAMS_TREEDEPTH){ return; } /// NEWCHANGE.	
	#endif 
	if(enable1 == OFF && enable2 == OFF){ return; }
	analysis_type analysis_loopcount = SOURCEBLOCKRAM_SIZE;
	analysis_type analysis_loopcount2 = VECTOR_SIZE;
	
	buffer_type chunk_size = size_kvs;
	unsigned int upperlimit = sweepparams.upperlimit;
	unsigned int upperpartition = sweepparams.upperpartition;
	
	for(partition_type p=0; p<NUM_PARTITIONS; p++){ 
	#pragma HLS PIPELINE II=1
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
		localcapsule[p].key = 0;
		localcapsule[p].value = 0; 
	}
	
	BASICPARTITIONKEYVALUES_LOOP1: for(buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
		BASICPARTITIONKEYVALUES_LOOP1B: for(unsigned int v=0; v<VECTOR_SIZE; v++){
		#pragma HLS PIPELINE II=2
			keyvalue_buffer_t kv = sourcebuffer[v][i];
			
			partition_type p = UTIL_getpartition(ON, mode, kv, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			if(UTIL_GETKV(kv).key != UTIL_GETV(INVALIDDATA) && UTIL_GETKV(kv).value != UTIL_GETV(INVALIDDATA)){ localcapsule[p].value += 1; }
		}
	}
	
UTIL_calculateoffsets(localcapsule, NUM_PARTITIONS);
UTIL_resetvalues(localcapsule, NUM_PARTITIONS, 0);
	
	BASICPARTITIONKEYVALUES_LOOP2: for(buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
		BASICPARTITIONKEYVALUES_LOOP2B: for(unsigned int v=0; v<VECTOR_SIZE; v++){
		#pragma HLS PIPELINE II=2
			keyvalue_buffer_t kv = sourcebuffer[v][i];
			// cout<<"--- priorpartitionkeyvalues: kv.key: "<<kv.key<<endl; // REMOVEME.
			partition_type p = UTIL_getpartition(ON, mode, kv, currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			buffer_type pos = localcapsule[p].key + localcapsule[p].value;
			
			if(UTIL_GETKV(kv).key != UTIL_GETV(INVALIDDATA) && UTIL_GETKV(kv).value != UTIL_GETV(INVALIDDATA)){ destbuffer[pos % VECTOR_SIZE][pos / VECTOR_SIZE] = kv; } // NOTE: could this be the cause of slight imperfection in results?
			if(UTIL_GETKV(kv).key != UTIL_GETV(INVALIDDATA) && UTIL_GETKV(kv).value != UTIL_GETV(INVALIDDATA)){ localcapsule[p].value += 1; }
		}
	}
	
	BASICPARTITIONKEYVALUES_LOOP3: for(partition_type p=0; p<NUM_PARTITIONS; p++){
	// #pragma HLS PIPELINE II=8
		keyvalue_t mydummykv;
		mydummykv.key = p;
		mydummykv.value = UTIL_GETV(INVALIDDATA);
		keyvalue_buffer_t dummykv = UTIL_GETKV(mydummykv);
	
		unsigned int endoffset = localcapsule[p].key + localcapsule[p].value;
		unsigned int xpos = endoffset % VECTOR_SIZE;
		unsigned int ypos = endoffset / VECTOR_SIZE;
		
		if(localcapsule[p].value > 0){
			BASICPARTITIONKEYVALUES_LOOP3B: for(vector_type v=xpos; v<VECTOR_SIZE; v++){
			#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount2 avg=analysis_loopcount2
			#pragma HLS PIPELINE II=2
				destbuffer[v][ypos] = dummykv;
				localcapsule[p].value += 1;
			}
		}
	}
	return;
}



	
#endif 
#ifdef CONFIG_ENABLECLASS_REDUCEUPDATES
#include "reduceupdates.h"
using namespace std;

#ifdef SW
reduceupdates::reduceupdates(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	mydebugobj = _mydebugobj; 
}
reduceupdates::~reduceupdates(){}
#endif

value_t acts_all::REDUCE_reducefunc(value_t vtemp, value_t res, unsigned int GraphIter, unsigned int GraphAlgo){
	value_t temp = 0;
	if(GraphAlgo == PAGERANK){
		temp = vtemp + res;
	} else if(GraphAlgo == BFS){
		temp = UTIL_amin(vtemp, GraphIter);
	} else if(GraphAlgo == SSSP){
		temp = UTIL_amin(vtemp, res);
	} else {
		temp = NAp;
	}
	return temp;
}

void acts_all::REDUCE_reducevector(unsigned int col, keyvalue_buffer_t kvdata, keyvalue_vbuffer_t destbuffer[BLOCKRAM_SIZE], unit1_type vmaskBITS[DOUBLE_BLOCKRAM_SIZE], buffer_type destoffset, unsigned int upperlimit, sweepparams_t sweepparams, globalparams_t globalparams){
	#pragma HLS PIPELINE II=3
	analysis_type analysis_loop1 = VECTOR_SIZE;
	
	keyvalue_t mykeyvalue = UTIL_GETKV(kvdata);
	
	#ifdef CONFIG_SPLIT_DESTVTXS
	vertex_t loc = ((mykeyvalue.key - upperlimit) - col) >> NUM_PARTITIONS_POW;
	#else 
	vertex_t loc = mykeyvalue.key - upperlimit;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"REDUCE_reducevector:: col: "<<col<<", loc: "<<loc<<", mykeyvalue.key: "<<mykeyvalue.key<<", mykeyvalue.value: "<<mykeyvalue.value<<endl;
	#endif 
	
	bool en = true; if(mykeyvalue.key != UTIL_GETK(INVALIDDATA) && mykeyvalue.value != UTIL_GETV(INVALIDDATA)){ en = true; } else { en = false; }
	
	#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3 // upperlimit + loc
	if(en == true){ cout<<"REDUCE_reducevector:: REDUCE SEEN @ vid: "<<UTIL_GETREALVID(mykeyvalue.key, globalparams.ACTSPARAMS_INSTID)<<", loc: "<<loc<<", mykeyvalue.key: "<<mykeyvalue.key<<", mykeyvalue.value: "<<mykeyvalue.value<<", upperlimit: "<<upperlimit<<", reduce size: "<<globalparams.SIZE_REDUCE<<endl; }
	#endif 
	
	if(loc >= globalparams.SIZE_REDUCE && en == true){ 
		#ifdef _DEBUGMODE_CHECKS2
		if(true){ cout<<"REDUCE_reducevector::ERROR SEEN @ loc("<<loc<<") >= globalparams.SIZE_REDUCE("<<globalparams.SIZE_REDUCE<<"). mykeyvalue.key: "<<mykeyvalue.key<<", upperlimit: "<<upperlimit<<", col: "<<col<<". EXITING... "<<endl; exit(EXIT_FAILURE); }
		actsutilityobj->reducehelper_checkreduceloc(0, loc, mykeyvalue, sweepparams, globalparams); 
		#endif 
		loc = 0; }
		
	value_t curr_vprop;
	if(en == true){ curr_vprop = MEMCA_READFROMBUFFER_VDATA(loc, destbuffer, destoffset); }

	value_t new_vprop = REDUCE_reducefunc(curr_vprop, mykeyvalue.value, globalparams.ALGORITHMINFO_GRAPHITERATIONID, globalparams.ALGORITHMINFO_GRAPHALGORITHMID);
	#ifdef _DEBUGMODE_KERNELPRINTS
	if(en == true){ cout<<"REDUCE_reducevector:: REDUCEFUNC RESULT @ new_vprop: "<<new_vprop<<", curr_vprop: "<<curr_vprop<<", mykeyvalue.value: "<<mykeyvalue.value<<", NAp: "<<NAp<<endl; }
	#endif 
	
	#ifdef CONFIG_MERGEVMASKSWITHVBUFFERDATA
		unit1_type vmdata = 0;
		if(en == true && new_vprop != curr_vprop){ vmdata = 1; }
		// vmdata = 0; // REMOVEME
		if(en == true && new_vprop != curr_vprop){ vmaskBITS[loc] = 1; } // REMOVEME.
		#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
		if(en == true && new_vprop != curr_vprop){ cout<<"REDUCE_reducevector:: ACTIVE MASK SEEN AT: vmaskBITS["<<loc<<"]: "<<vmaskBITS[loc]<<endl; }
		#endif
		if(en == true){ MEMCA_WRITETOBUFFER_VDATAWITHVMASK(loc, destbuffer, new_vprop, vmdata, destoffset); }
	#else 
		if(en == true){ MEMCA_WRITETOBUFFER_VDATA(loc, destbuffer, new_vprop, destoffset); }
		#ifdef CONFIG_COLLECTMASKINFOSDURINGREDUCE
		if(en == true && new_vprop != curr_vprop){ vmaskBITS[loc] = 1; }
		#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
		if(en == true && new_vprop != curr_vprop){ cout<<"REDUCE_reducevector:: ACTIVE MASK SEEN AT: vmaskBITS["<<loc<<"]: "<<vmaskBITS[loc]<<endl; }
		#endif 
		#endif
	#endif 
	return;
}

void acts_all::REDUCE_reduceandbuffer(bool_type enable, keyvalue_buffer_t buffer[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], sweepparams_t sweepparams, globalparams_t globalparams){				
	if(enable == OFF){ return; }
	#if REDUCEBUFFERFACTOR==8
	analysis_type analysis_loopcount = (DESTBLOCKRAM_SIZE / (NUM_PARTITIONS / 2)); // =46: '2' is safety padding.
	#endif 
	#if REDUCEBUFFERFACTOR==16
	analysis_type analysis_loopcount = (DESTBLOCKRAM_SIZE / NUM_PARTITIONS);
	#endif 
	
	keyvalue_buffer_t kvdata0;
	keyvalue_buffer_t kvdata1;
	keyvalue_buffer_t kvdata2;
	keyvalue_buffer_t kvdata3;
	keyvalue_buffer_t kvdata4;
	keyvalue_buffer_t kvdata5;
	keyvalue_buffer_t kvdata6;
	keyvalue_buffer_t kvdata7;
	keyvalue_buffer_t kvdata8;
	keyvalue_buffer_t kvdata9;
	keyvalue_buffer_t kvdata10;
	keyvalue_buffer_t kvdata11;
	keyvalue_buffer_t kvdata12;
	keyvalue_buffer_t kvdata13;
	keyvalue_buffer_t kvdata14;
	keyvalue_buffer_t kvdata15;
	buffer_type bramoffset_kvs[MAX_NUM_PARTITIONS];
	#pragma HLS ARRAY_PARTITION variable=bramoffset_kvs complete
	buffer_type size_kvs[MAX_NUM_PARTITIONS];
	#pragma HLS ARRAY_PARTITION variable=size_kvs complete
	unsigned int upperlimits[MAX_NUM_PARTITIONS];
	#pragma HLS ARRAY_PARTITION variable=upperlimits complete
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printkeyvalues("reduceandbuffer.localcapsule", (keyvalue_t *)localcapsule, NUM_PARTITIONS);
	#endif
	// exit(EXIT_SUCCESS); ////

	unsigned int tmplloprange = 0;
	#if REDUCEBUFFERFACTOR==8
	REDUCEBUFFERPARTITIONS_LOOP1: for(unsigned int it=0; it<NUM_PARTITIONS; it+=NUM_PARTITIONS/2){
		buffer_type maxsize_kvs = 0;
		REDUCEBUFFERPARTITIONS_LOOP1B: for(partition_type p=0; p<NUM_PARTITIONS/2; p++){
		#pragma HLS PIPELINE II=1
			bramoffset_kvs[p] = localcapsule[it+p].key / VECTOR_SIZE;
			size_kvs[p] = localcapsule[it+p].value / VECTOR_SIZE;
			if(maxsize_kvs < size_kvs[p]){ maxsize_kvs = size_kvs[p]; }
		}
		
		unsigned int lloprange = UTIL_getrangeforeachllop(globalparams);
		REDUCEBUFFERPARTITIONS_LOOP1C: for(unsigned int p=0; p<NUM_PARTITIONS/2; p++){
		#pragma HLS PIPELINE II=1
			upperlimits[p] = sweepparams.upperlimit + tmplloprange;
			tmplloprange += lloprange;
		}
		
		REDUCEBUFFERPARTITIONS_LOOP1D: for(buffer_type i=0; i<maxsize_kvs; i++){
		#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
		#pragma HLS PIPELINE II=16
			for(vector_type v=0; v<VECTOR_SIZE; v++){
				kvdata0 = buffer[v][bramoffset_kvs[0] + i]; 	
				kvdata1 = buffer[v][bramoffset_kvs[1] + i]; 	
				kvdata2 = buffer[v][bramoffset_kvs[2] + i]; 	
				kvdata3 = buffer[v][bramoffset_kvs[3] + i]; 	
				kvdata4 = buffer[v][bramoffset_kvs[4] + i]; 	
				kvdata5 = buffer[v][bramoffset_kvs[5] + i]; 	
				kvdata6 = buffer[v][bramoffset_kvs[6] + i]; 	
				kvdata7 = buffer[v][bramoffset_kvs[7] + i]; 	
	

				#ifdef CONFIG_SPLIT_DESTVTXS
				if(i< size_kvs[0]){ REDUCE_reducevector(it+0, kvdata0, vbuffer[it+0], vmaskBITS[it+0], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[1]){ REDUCE_reducevector(it+1, kvdata1, vbuffer[it+1], vmaskBITS[it+1], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[2]){ REDUCE_reducevector(it+2, kvdata2, vbuffer[it+2], vmaskBITS[it+2], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[3]){ REDUCE_reducevector(it+3, kvdata3, vbuffer[it+3], vmaskBITS[it+3], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[4]){ REDUCE_reducevector(it+4, kvdata4, vbuffer[it+4], vmaskBITS[it+4], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[5]){ REDUCE_reducevector(it+5, kvdata5, vbuffer[it+5], vmaskBITS[it+5], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[6]){ REDUCE_reducevector(it+6, kvdata6, vbuffer[it+6], vmaskBITS[it+6], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				if(i< size_kvs[7]){ REDUCE_reducevector(it+7, kvdata7, vbuffer[it+7], vmaskBITS[it+7], 0, sweepparams.upperlimit, sweepparams, globalparams); }
				#else 
				if(i< size_kvs[0]){ REDUCE_reducevector(it+0, kvdata0, vbuffer[it+0], vmaskBITS[it+0], 0, upperlimits[0], sweepparams, globalparams); }
				if(i< size_kvs[1]){ REDUCE_reducevector(it+1, kvdata1, vbuffer[it+1], vmaskBITS[it+1], 0, upperlimits[1], sweepparams, globalparams); }
				if(i< size_kvs[2]){ REDUCE_reducevector(it+2, kvdata2, vbuffer[it+2], vmaskBITS[it+2], 0, upperlimits[2], sweepparams, globalparams); }
				if(i< size_kvs[3]){ REDUCE_reducevector(it+3, kvdata3, vbuffer[it+3], vmaskBITS[it+3], 0, upperlimits[3], sweepparams, globalparams); }
				if(i< size_kvs[4]){ REDUCE_reducevector(it+4, kvdata4, vbuffer[it+4], vmaskBITS[it+4], 0, upperlimits[4], sweepparams, globalparams); }
				if(i< size_kvs[5]){ REDUCE_reducevector(it+5, kvdata5, vbuffer[it+5], vmaskBITS[it+5], 0, upperlimits[5], sweepparams, globalparams); }
				if(i< size_kvs[6]){ REDUCE_reducevector(it+6, kvdata6, vbuffer[it+6], vmaskBITS[it+6], 0, upperlimits[6], sweepparams, globalparams); }
				if(i< size_kvs[7]){ REDUCE_reducevector(it+7, kvdata7, vbuffer[it+7], vmaskBITS[it+7], 0, upperlimits[7], sweepparams, globalparams); }
				#endif 
			}
		}
	}
	#endif 
	#if REDUCEBUFFERFACTOR==16 // NOT USED.
	buffer_type maxsize_kvs = 0;
	REDUCEBUFFERPARTITIONS_LOOP1B: for(partition_type p=0; p<NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		bramoffset_kvs[p] = localcapsule[p].key / VECTOR_SIZE;
		size_kvs[p] = localcapsule[p].value / VECTOR_SIZE;
		if(maxsize_kvs < size_kvs[p]){ maxsize_kvs = size_kvs[p]; }
	}
	
	unsigned int lloprange = UTIL_getrangeforeachllop(globalparams);
	REDUCEBUFFERPARTITIONS_LOOP1C: for(unsigned int p=0; p<NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		upperlimits[p] = sweepparams.upperlimit + tmplloprange;
		tmplloprange += lloprange;
	}
	
	REDUCEBUFFERPARTITIONS_LOOP1D: for(buffer_type i=0; i<maxsize_kvs; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=16
		for(vector_type v=0; v<VECTOR_SIZE; v++){
			kvdata0 = buffer[v][bramoffset_kvs[0] + i]; 	
			kvdata1 = buffer[v][bramoffset_kvs[1] + i]; 	
			kvdata2 = buffer[v][bramoffset_kvs[2] + i]; 	
			kvdata3 = buffer[v][bramoffset_kvs[3] + i]; 	
			kvdata4 = buffer[v][bramoffset_kvs[4] + i]; 	
			kvdata5 = buffer[v][bramoffset_kvs[5] + i]; 	
			kvdata6 = buffer[v][bramoffset_kvs[6] + i]; 	
			kvdata7 = buffer[v][bramoffset_kvs[7] + i]; 	
			kvdata8 = buffer[v][bramoffset_kvs[8] + i]; 	
			kvdata9 = buffer[v][bramoffset_kvs[9] + i]; 	
			kvdata10 = buffer[v][bramoffset_kvs[10] + i]; 	
			kvdata11 = buffer[v][bramoffset_kvs[11] + i]; 	
			kvdata12 = buffer[v][bramoffset_kvs[12] + i]; 	
			kvdata13 = buffer[v][bramoffset_kvs[13] + i]; 	
			kvdata14 = buffer[v][bramoffset_kvs[14] + i]; 	
			kvdata15 = buffer[v][bramoffset_kvs[15] + i]; 	
	

			#ifdef CONFIG_SPLIT_DESTVTXS
			if(i< size_kvs[0]){ REDUCE_reducevector(it+0, kvdata0, vbuffer[0], vmaskBITS[0], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[1]){ REDUCE_reducevector(it+1, kvdata1, vbuffer[1], vmaskBITS[1], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[2]){ REDUCE_reducevector(it+2, kvdata2, vbuffer[2], vmaskBITS[2], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[3]){ REDUCE_reducevector(it+3, kvdata3, vbuffer[3], vmaskBITS[3], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[4]){ REDUCE_reducevector(it+4, kvdata4, vbuffer[4], vmaskBITS[4], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[5]){ REDUCE_reducevector(it+5, kvdata5, vbuffer[5], vmaskBITS[5], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[6]){ REDUCE_reducevector(it+6, kvdata6, vbuffer[6], vmaskBITS[6], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[7]){ REDUCE_reducevector(it+7, kvdata7, vbuffer[7], vmaskBITS[7], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[8]){ REDUCE_reducevector(it+8, kvdata8, vbuffer[8], vmaskBITS[8], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[9]){ REDUCE_reducevector(it+9, kvdata9, vbuffer[9], vmaskBITS[9], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[10]){ REDUCE_reducevector(it+10, kvdata10, vbuffer[10], vmaskBITS[10], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[11]){ REDUCE_reducevector(it+11, kvdata11, vbuffer[11], vmaskBITS[11], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[12]){ REDUCE_reducevector(it+12, kvdata12, vbuffer[12], vmaskBITS[12], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[13]){ REDUCE_reducevector(it+13, kvdata13, vbuffer[13], vmaskBITS[13], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[14]){ REDUCE_reducevector(it+14, kvdata14, vbuffer[14], vmaskBITS[14], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			if(i< size_kvs[15]){ REDUCE_reducevector(it+15, kvdata15, vbuffer[15], vmaskBITS[15], 0, sweepparams.upperlimit, sweepparams, globalparams); }
			#else 
			if(i< size_kvs[0]){ REDUCE_reducevector(it+0, kvdata0, vbuffer[0], vmaskBITS[0], 0, upperlimits[0], sweepparams, globalparams); }
			if(i< size_kvs[1]){ REDUCE_reducevector(it+1, kvdata1, vbuffer[1], vmaskBITS[1], 0, upperlimits[1], sweepparams, globalparams); }
			if(i< size_kvs[2]){ REDUCE_reducevector(it+2, kvdata2, vbuffer[2], vmaskBITS[2], 0, upperlimits[2], sweepparams, globalparams); }
			if(i< size_kvs[3]){ REDUCE_reducevector(it+3, kvdata3, vbuffer[3], vmaskBITS[3], 0, upperlimits[3], sweepparams, globalparams); }
			if(i< size_kvs[4]){ REDUCE_reducevector(it+4, kvdata4, vbuffer[4], vmaskBITS[4], 0, upperlimits[4], sweepparams, globalparams); }
			if(i< size_kvs[5]){ REDUCE_reducevector(it+5, kvdata5, vbuffer[5], vmaskBITS[5], 0, upperlimits[5], sweepparams, globalparams); }
			if(i< size_kvs[6]){ REDUCE_reducevector(it+6, kvdata6, vbuffer[6], vmaskBITS[6], 0, upperlimits[6], sweepparams, globalparams); }
			if(i< size_kvs[7]){ REDUCE_reducevector(it+7, kvdata7, vbuffer[7], vmaskBITS[7], 0, upperlimits[7], sweepparams, globalparams); }
			if(i< size_kvs[8]){ REDUCE_reducevector(it+8, kvdata8, vbuffer[8], vmaskBITS[8], 0, upperlimits[8], sweepparams, globalparams); }
			if(i< size_kvs[9]){ REDUCE_reducevector(it+9, kvdata9, vbuffer[9], vmaskBITS[9], 0, upperlimits[9], sweepparams, globalparams); }
			if(i< size_kvs[10]){ REDUCE_reducevector(it+10, kvdata10, vbuffer[10], vmaskBITS[10], 0, upperlimits[10], sweepparams, globalparams); }
			if(i< size_kvs[11]){ REDUCE_reducevector(it+11, kvdata11, vbuffer[11], vmaskBITS[11], 0, upperlimits[11], sweepparams, globalparams); }
			if(i< size_kvs[12]){ REDUCE_reducevector(it+12, kvdata12, vbuffer[12], vmaskBITS[12], 0, upperlimits[12], sweepparams, globalparams); }
			if(i< size_kvs[13]){ REDUCE_reducevector(it+13, kvdata13, vbuffer[13], vmaskBITS[13], 0, upperlimits[13], sweepparams, globalparams); }
			if(i< size_kvs[14]){ REDUCE_reducevector(it+14, kvdata14, vbuffer[14], vmaskBITS[14], 0, upperlimits[14], sweepparams, globalparams); }
			if(i< size_kvs[15]){ REDUCE_reducevector(it+15, kvdata15, vbuffer[15], vmaskBITS[15], 0, upperlimits[15], sweepparams, globalparams); }
	
			#endif 
		}
	}
	#endif 
	// exit(EXIT_SUCCESS); ////
	return;
}

void acts_all::REDUCE_priorreduceandbuffer(bool_type enable, keyvalue_buffer_t buffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], buffer_type chunk_size, sweepparams_t sweepparams, globalparams_t globalparams){				
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount = SOURCEBLOCKRAM_SIZE;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printkeyvalues("priorreduceandbuffer.localcapsule", (keyvalue_t *)localcapsule, 8);
	#endif 
	
	PRIORREDUCEANDBUFFER_LOOP1: for(buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
	#pragma HLS PIPELINE II=16 // NEWCHANGE.
		PRIORREDUCEANDBUFFER_LOOP1B: for(unsigned int v=0; v<VECTOR_SIZE; v++){
		// #pragma HLS PIPELINE II=1 // NEWCHANGE.
			keyvalue_buffer_t kv = buffer[v][i];
			keyvalue_t kv2 = UTIL_GETKV(kv);
		
			partition_type p = ((kv2.key - sweepparams.upperlimit) >> (REDUCESZ_POW));
			
			unsigned int upperlimit = sweepparams.upperlimit + p*REDUCESZ;
			
			#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
			cout<<"priorreduceandbuffer: kv2.key: "<<kv2.key<<", kv2.value: "<<kv2.value<<", p: "<<p<<", upperlimit: "<<upperlimit<<", sweepparams.upperlimit: "<<sweepparams.upperlimit<<", currentLOP: "<<sweepparams.currentLOP<<endl;
			#endif 
			
			if(p < VDATA_PACKINGSIZE){ REDUCE_reducevector(p, kv, vbuffer[p], vmaskBITS[p], 0, upperlimit, sweepparams, globalparams); } // REMOVEME.
		}
	}
	return;
}

void acts_all::REDUCE_tradreduceandbuffer(bool_type enable, uint512_dt * kvdram, keyvalue_buffer_t buffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], buffer_type chunk_size, keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], sweepparams_t sweepparams, globalparams_t globalparams){				
	if(enable == OFF){ return; }
	analysis_type analysis_loopcount = SOURCEBLOCKRAM_SIZE;
	
	TRADREDUCEANDBUFFER_LOOP1: for(buffer_type i=0; i<chunk_size; i++){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loopcount avg=analysis_loopcount
		TRADREDUCEANDBUFFER_LOOP1B: for(unsigned int v=0; v<VECTOR_SIZE; v++){
		#pragma HLS PIPELINE II=1 // NEWCHANGE.
			keyvalue_buffer_t kv = buffer[v][i];
			keyvalue_t kv2 = UTIL_GETKV(kv);
			
			if(kv2.key != UTIL_GETV(INVALIDDATA) && kv2.value != UTIL_GETV(INVALIDDATA)){
			
				unsigned int block = kv2.key / (REDUCESZ * VECTOR_SIZE); // REDUCESZ, globalparams.SIZE_REDUCE 
				unsigned int globalpos_offset = block * (REDUCESZ * VECTOR_SIZE);
				unsigned int globalrow_offset = globalpos_offset / VECTOR2_SIZE;
				
				unsigned int localpos = kv2.key % (REDUCESZ * VECTOR_SIZE); // 8192;
				unsigned int localrow = (localpos % REDUCESZ) / 2;
				unsigned int localcol = localpos / REDUCESZ;
				
				unsigned int row = globalrow_offset + localrow;
				unsigned int col = localcol;
				
				#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
				cout<<"REDUCE SEEN @ tradreduceandbuffer:: kv2.key: "<<kv2.key<<", kv2.value: "<<kv2.value<<" || block: "<<block<<", row: "<<row<<", col: "<<col<<" || localpos: "<<localpos<<", localrow: "<<localrow<<", localcol: "<<localcol<<endl;
				#endif
				
				value_t temp;
				uint512_vec_dt vdata;
				#pragma HLS data_pack variable=vdata
				
				#ifdef _WIDEWORD
				vdata.data[0].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(31, 0);
				vdata.data[0].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(63, 32);
				vdata.data[1].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(95, 64);
				vdata.data[1].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(127, 96);
				vdata.data[2].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(159, 128);
				vdata.data[2].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(191, 160);
				vdata.data[3].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(223, 192);
				vdata.data[3].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(255, 224);
				vdata.data[4].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(287, 256);
				vdata.data[4].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(319, 288);
				vdata.data[5].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(351, 320);
				vdata.data[5].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(383, 352);
				vdata.data[6].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(415, 384);
				vdata.data[6].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(447, 416);
				vdata.data[7].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(479, 448);
				vdata.data[7].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(511, 480);
				#else 
				vdata.data[0].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[0].key; 
				vdata.data[0].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[0].value; 
				vdata.data[1].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[1].key; 
				vdata.data[1].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[1].value; 
				vdata.data[2].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[2].key; 
				vdata.data[2].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[2].value; 
				vdata.data[3].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[3].key; 
				vdata.data[3].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[3].value; 
				vdata.data[4].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[4].key; 
				vdata.data[4].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[4].value; 
				vdata.data[5].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[5].key; 
				vdata.data[5].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[5].value; 
				vdata.data[6].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[6].key; 
				vdata.data[6].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[6].value; 
				vdata.data[7].key = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[7].key; 
				vdata.data[7].value = kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[7].value; 
				#endif
				
				if(localpos % 2 == 0){ temp = vdata.data[localcol].key; }
				else { temp = vdata.data[localcol].value; }
				
				value_t new_vprop = REDUCE_reducefunc(temp, kv2.value, globalparams.ALGORITHMINFO_GRAPHITERATIONID, globalparams.ALGORITHMINFO_GRAPHALGORITHMID);
				
				if(localpos % 2 == 0){ vdata.data[localcol].key = new_vprop; }
				else { vdata.data[localcol].value = new_vprop; }
				
				#ifdef _WIDEWORD
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(31, 0) = vdata.data[0].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(63, 32) = vdata.data[0].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(95, 64) = vdata.data[1].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(127, 96) = vdata.data[1].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(159, 128) = vdata.data[2].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(191, 160) = vdata.data[2].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(223, 192) = vdata.data[3].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(255, 224) = vdata.data[3].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(287, 256) = vdata.data[4].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(319, 288) = vdata.data[4].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(351, 320) = vdata.data[5].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(383, 352) = vdata.data[5].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(415, 384) = vdata.data[6].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(447, 416) = vdata.data[6].value;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(479, 448) = vdata.data[7].key;
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].range(511, 480) = vdata.data[7].value;
				#else 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[0].key = vdata.data[0].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[0].value = vdata.data[0].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[1].key = vdata.data[1].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[1].value = vdata.data[1].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[2].key = vdata.data[2].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[2].value = vdata.data[2].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[3].key = vdata.data[3].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[3].value = vdata.data[3].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[4].key = vdata.data[4].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[4].value = vdata.data[4].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[5].key = vdata.data[5].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[5].value = vdata.data[5].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[6].key = vdata.data[6].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[6].value = vdata.data[6].value; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[7].key = vdata.data[7].key; 
				kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[7].value = vdata.data[7].value; 
				#endif
				
				partition_type p = UTIL_getpartition(ON, REDUCEMODE, kv, sweepparams.currentLOP, sweepparams.upperlimit, sweepparams.upperpartition, globalparams.POW_BATCHRANGE);
				globalstatsbuffer[p].value += 1;
				
				#ifdef _DEBUGMODE_KERNELPRINTS_TRACE3
				if(localpos % 2 == 0){ cout<<"--- tradreduceandbuffer :: kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + "<<row<<"].data["<<localcol<<"].key: "<<kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[localcol].key<<endl; }
				else { cout<<"--- tradreduceandbuffer :: kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + "<<row<<"].data["<<localcol<<"].value: "<<kvdram[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + row].data[localcol].value<<endl; }
				#endif
			}
		}
	}
	return;
}


	
#endif 
#ifdef CONFIG_ENABLECLASS_ACTS_MERGE_SPLITDSTVXS
#include "acts_merge_splitdstvxs.h"
using namespace std;

#ifdef SW
acts_merge_splitdstvxs::acts_merge_splitdstvxs(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	processedges_splitdstvxsobj = new processedges_splitdstvxs(_mydebugobj);
	partitionupdatesobj = new partitionupdates(_mydebugobj);
	reduceupdatesobj = new reduceupdates(_mydebugobj);
	mem_accessobj = new mem_access_splitdstvxs(_mydebugobj);
	actsobj = new acts(_mydebugobj);
	mydebugobj = _mydebugobj;
}
acts_merge_splitdstvxs::~acts_merge_splitdstvxs(){}
#endif

unsigned int acts_all::MERGE_SPLIT_actvpstatsoffset(globalparams_t globalparams){
	unsigned int actvpstats_beginoffset = 0;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparams.ACTSPARAMS_TREEDEPTH-1; k++){ actvpstats_beginoffset += (1 << (NUM_PARTITIONS_POW * k)); }
	#else 
	for(unsigned int k=0; k<globalparams.ACTSPARAMS_TREEDEPTH; k++){ actvpstats_beginoffset += (1 << (NUM_PARTITIONS_POW * k)); }
	#endif
	return actvpstats_beginoffset;
}

value_t acts_all::MERGE_SPLIT_applyfunc(value_t vtemp, value_t res, unsigned int GraphIter, unsigned int GraphAlgo){
	value_t temp = 0;
	if(GraphAlgo == PAGERANK){
		// temp = vtemp + res;
		// temp = 0.5 + (1 - 0.5)*res / vdeg; // IDEAL
		temp = res;
	} else if(GraphAlgo == BFS){
		temp = res;
	} else if(GraphAlgo == SSSP){
		temp = UTIL_amin(vtemp, res);
	} else {
		temp = NAp;
	}
	return temp;
}

void acts_all::MERGE_SPLIT_broadcastVs1(uint512_dt * kvdram0, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs1: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram1]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs1: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram1]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs1: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram1]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs2(uint512_dt * kvdram0,uint512_dt * kvdram1, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs2: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram2]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs2: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram2]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs2: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram2]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs3(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs3: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram3]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs3: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram3]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs3: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram3]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs4(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs4: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram4]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs4: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram4]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs4: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram4]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs5(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs5: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram5]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs5: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram5]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs5: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram5]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs6(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs6: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram6]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs6: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram6]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs6: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram6]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs7(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs7: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram7]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs7: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram7]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs7: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram7]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs8(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs8: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram8]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs8: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram8]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs8: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram8]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs9(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs9: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram9]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs9: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram9]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs9: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram9]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs10(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs10: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram10]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs10: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram10]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs10: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram10]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs11(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs11: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram11]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs11: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram10[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram11]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs11: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram11]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_broadcastVs12(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10,uint512_dt * kvdram11, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[BLOCKRAM_SIZE]; // AUTOMATEME FOR LARGER SIZES.
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int lbasevoffset_kvs2 = 0;
	unsigned int offseti_kvs = 0;
	
	//>> expensive variables 
	unsigned int _VDATACHUNKSZ_KVS2 = globalparams.SIZEKVS2_REDUCEPARTITION / NUM_PEs;
	unsigned int _VMASKCHUNKSZ_KVS2 = globalparams.SIZEKVS_VMASKBUFFER / NUM_PEs;
	unsigned int _TOTALSIZEKVS_VMASKBUFFER = globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER;
	//>>
	
	for(unsigned int partition=0; partition<globalparamsv.NUM_PROCESSEDGESPARTITIONS; partition++){
	#pragma HLS PIPELINE II=1
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs12: ERROR 23", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		#ifdef _WIDEWORD
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		psizes_kvs[partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram12]."<<endl; 	
	#endif
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs12: ERROR 24", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VDATACHUNKSZ_KVS2; continue; } 
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VDATAS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXS_LOOP: for(unsigned int k=0; k<_VDATACHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram10[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
					kvdram11[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + offseti_kvs + k];
				}
				offseti_kvs += _VDATACHUNKSZ_KVS2;
			}
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram12]."<<endl; 	
	#endif
	
	offseti_kvs = 0;
	for(unsigned int i=0; i<NUM_PEs; i++){
		unsigned int p_index = 0;
		for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
			for(unsigned int s=0; s<NUM_PEs; s++){
				#ifdef _DEBUGMODE_CHECKS2
				actsutilityobj->checkoutofbounds("MERGE_SPLIT_broadcastVs12: ERROR 25", p_index, BLOCKRAM_SIZE, NAp, NAp, NAp);
				#endif
				if(psizes_kvs[p_index++] == 0){ offseti_kvs += _VMASKCHUNKSZ_KVS2; continue; }
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"MERGE::BROADCAST VMASKS:: partition "<<(partition * NUM_PEs) + s<<" is active. [partition: "<<partition<<", s: "<<s<<", offseti_kvs: "<<offseti_kvs<<"]"<<endl; 
				#endif 
				
				MERGE_SPLIT_BROADCASTVTXMS_LOOP: for(unsigned int k=0; k<_VMASKCHUNKSZ_KVS2; k++){
				#pragma HLS PIPELINE II=1
					kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
					kvdram11[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + offseti_kvs + k];
				}
				offseti_kvs += _VMASKCHUNKSZ_KVS2;
			}
		}
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram12]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram11[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}

void acts_all::MERGE_SPLIT_BASICbroadcastVs1(uint512_dt * kvdram0, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram1]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram1]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram1]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs2(uint512_dt * kvdram0,uint512_dt * kvdram1, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram2]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram2]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram2]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs3(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram3]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram3]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram3]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs4(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram4]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram4]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram4]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs5(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram5]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram5]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram5]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs6(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram6]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram6]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram6]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs7(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram7]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram7]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram7]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs8(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram8]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram8]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram8]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs9(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram9]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram9]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram9]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs10(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram10]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram10]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram10]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs11(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram11]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram10[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram11]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram11]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}
void acts_all::MERGE_SPLIT_BASICbroadcastVs12(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10,uint512_dt * kvdram11, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: ACTS BROADCAST LAUNCHED. Broadcasting vertices..."<<endl; 
	#endif
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices data masks from vdram to [kvdram0:kvdram12]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * REDUCEPARTITIONSZ_KVS2 * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram1[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram2[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram3[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram4[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram5[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram6[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram7[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram8[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram9[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram10[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
		kvdram11[globalparams.BASEOFFSETKVS_SRCVERTICESDATA + t] = vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + t];
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices masks from vdram to [kvdram0:kvdram12]."<<endl; 	
	#endif
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
		kvdram11[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + t];
	}

	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::BROADCAST:: broadcasting vertices partition masks from vdram to [kvdram0:kvdram12]."<<endl; 			 
	#endif
	for(unsigned int partition=0; partition<globalparams.NUM_PROCESSEDGESPARTITIONS; partition++){
		#pragma HLS PIPELINE II=1
		kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
		kvdram11[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition] = vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition];
	}
	
	/////////////////////////////////////////////// REMOVEME
	// #ifdef _DEBUGMODE_CHECKS2
	// for(unsigned int t=0; t<globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; t++){
		// for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			// unsigned int vmdata;
			// unsigned int data;
			// if(v%2==0){ data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			// 			// vmdata = UTIL_READFROM_UINT(data, 0, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 1, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 2, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 3, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 4, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 5, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 6, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 7, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 8, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 9, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 10, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 11, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 12, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 13, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 14, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 15, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 16, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 17, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 18, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 19, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 20, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 21, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 22, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 23, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 24, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 25, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 26, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 27, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 28, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 29, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 30, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 			// vmdata = UTIL_READFROM_UINT(data, 31, 1);
			// if(vmdata==1){ mydebugobj->increment(3, globalparams.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			// 		// }
	// }
	// #endif 
	///////////////////////////////////////////////
	return;
}

void acts_all::MERGE_SPLIT_mergeVs1(uint512_dt * kvdram0, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[1][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 1:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs1: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 1:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 1:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs1: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 1:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 1:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs1: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs2(uint512_dt * kvdram0,uint512_dt * kvdram1, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[2][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 2:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs2: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 2:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 2:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs2: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 2:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 2:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs2: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 2:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 2:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs2: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 2:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 2:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs2: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs3(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[3][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 3:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs3: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 3:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 3:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs3: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs4(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[4][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 4:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs4: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 4:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 4:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs4: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs5(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[5][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 5:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs5: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 5:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 5:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs5: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs6(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[6][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 6:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs6: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 6:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 6:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs6: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs7(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[7][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 7:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs7: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 7:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 7:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs7: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs8(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[8][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram7, psizes_kvs[7], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[7], globalparamsv, actvpstats_beginoffset + 7 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 7, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 8:: [instance 7, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram7[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 7, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs8: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 8:: [instance 7, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 8:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs8: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs9(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[9][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram7, psizes_kvs[7], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram8, psizes_kvs[8], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[7], globalparamsv, actvpstats_beginoffset + 7 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[8], globalparamsv, actvpstats_beginoffset + 8 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 7, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 7, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram7[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 8, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 9:: [instance 8, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram8[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 7, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 7, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 8, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs9: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 9:: [instance 8, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 9:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs9: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs10(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[10][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram7, psizes_kvs[7], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram8, psizes_kvs[8], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram9, psizes_kvs[9], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[7], globalparamsv, actvpstats_beginoffset + 7 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[8], globalparamsv, actvpstats_beginoffset + 8 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[9], globalparamsv, actvpstats_beginoffset + 9 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 7, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 7, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram7[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 8, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 8, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram8[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 9, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 10:: [instance 9, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram9[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 7, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 7, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 8, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 8, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 9, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs10: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 10:: [instance 9, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 10:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs10: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs11(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[11][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram7, psizes_kvs[7], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram8, psizes_kvs[8], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram9, psizes_kvs[9], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram10, psizes_kvs[10], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[7], globalparamsv, actvpstats_beginoffset + 7 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[8], globalparamsv, actvpstats_beginoffset + 8 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[9], globalparamsv, actvpstats_beginoffset + 9 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[10], globalparamsv, actvpstats_beginoffset + 10 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 7, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 7, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram7[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 8, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 8, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram8[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 9, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 9, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram9[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP10: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 10, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[10][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 11:: [instance 10, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram10[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 7, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 7, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 8, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 8, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 9, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 9, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP10: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 10, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs11: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[10][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 11:: [instance 10, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 11:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs11: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}
void acts_all::MERGE_SPLIT_mergeVs12(uint512_dt * kvdram0,uint512_dt * kvdram1,uint512_dt * kvdram2,uint512_dt * kvdram3,uint512_dt * kvdram4,uint512_dt * kvdram5,uint512_dt * kvdram6,uint512_dt * kvdram7,uint512_dt * kvdram8,uint512_dt * kvdram9,uint512_dt * kvdram10,uint512_dt * kvdram11, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: ACTS MERGE LAUNCHED. Merging vertices..."<<endl; 
	#endif
	
	unsigned int psizes_kvs[12][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = psizes_kvs
	unsigned int partitionmasks[NUM_PEs];
	#pragma HLS ARRAY_PARTITION variable=partitionmasks complete
	for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
	
	globalparams_t globalparams = UTIL_getglobalparams(kvdram0);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsv);
	unsigned int vpmoffset_kvs = 0;
	
	//>> expensive variables 
	unsigned int lbasevoffset_kvs2;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevoffset_kvs2 = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevoffset_kvs2 = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevoffset_kvs2 = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS2_REDUCEPARTITION; }					
	
	unsigned int lbasevmoffset_kvs = 0;
	if(globalparams.ACTSPARAMS_INSTID >= 0 && globalparams.ACTSPARAMS_INSTID < NUMCOMPUTEUNITS_SLR2){ lbasevmoffset_kvs = 0; }
	else if(globalparams.ACTSPARAMS_INSTID >= NUMCOMPUTEUNITS_SLR2 && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1))){ lbasevmoffset_kvs = NUMCOMPUTEUNITS_SLR2 * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	else if((globalparams.ACTSPARAMS_INSTID >= (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1)) && (globalparams.ACTSPARAMS_INSTID < (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1 + NUMCOMPUTEUNITS_SLR0))){ lbasevmoffset_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparams.NUM_REDUCEPARTITIONS * globalparams.SIZEKVS_VMASKBUFFER; }
	//>>
	
	// stats
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging stats."<<endl; 
	#endif	
MEMACCESS_SPL_retreievekvstats(kvdram0, psizes_kvs[0], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram1, psizes_kvs[1], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram2, psizes_kvs[2], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram3, psizes_kvs[3], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram4, psizes_kvs[4], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram5, psizes_kvs[5], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram6, psizes_kvs[6], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram7, psizes_kvs[7], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram8, psizes_kvs[8], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram9, psizes_kvs[9], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram10, psizes_kvs[10], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_retreievekvstats(kvdram11, psizes_kvs[11], globalparams, actvpstats_beginoffset, globalparams.NUM_REDUCEPARTITIONS);
	
	
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[0], globalparamsv, actvpstats_beginoffset + 0 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[1], globalparamsv, actvpstats_beginoffset + 1 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[2], globalparamsv, actvpstats_beginoffset + 2 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[3], globalparamsv, actvpstats_beginoffset + 3 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[4], globalparamsv, actvpstats_beginoffset + 4 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[5], globalparamsv, actvpstats_beginoffset + 5 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[6], globalparamsv, actvpstats_beginoffset + 6 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[7], globalparamsv, actvpstats_beginoffset + 7 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[8], globalparamsv, actvpstats_beginoffset + 8 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[9], globalparamsv, actvpstats_beginoffset + 9 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[10], globalparamsv, actvpstats_beginoffset + 10 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
MEMACCESS_SPL_commitkvstats2(vdram, psizes_kvs[11], globalparamsv, actvpstats_beginoffset + 11 * globalparams.NUM_REDUCEPARTITIONS, globalparams.NUM_REDUCEPARTITIONS);
	
	// vertices data
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices. [begin offset: "<<lbasevoffset_kvs2<<"]"<<endl; 
	#endif
	unsigned int voffset_kvs2 = 0;
	unsigned int voffseti_kvs2 = 0;
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 0, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 0, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram0[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 1, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 1, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram1[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 2, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 2, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram2[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 3, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 3, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram3[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 4, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 4, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram4[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 5, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 5, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram5[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 6, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 6, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram6[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 7, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 7, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram7[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 8, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 8, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram8[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 9, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 9, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram9[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP10: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 10, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[10][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 10, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram10[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	voffseti_kvs2 = 0;
	MERGE_SPLIT_MERGEVSLOOP11: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 11, partition "<<partition<<"]: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[11]["<<partition<<"]: "<<psizes_kvs[11][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 20", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[11][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Vertices 12:: [instance 11, partition "<<partition<<"] is active: [offset: "<<(lbasevoffset_kvs2 + voffseti_kvs2)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS2_REDUCEPARTITION<<", psizes_kvs[11]["<<partition<<"]: "<<psizes_kvs[11][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS2_REDUCEPARTITION; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + lbasevoffset_kvs2 + voffset_kvs2 + k] = kvdram11[globalparams.BASEOFFSETKVS_DESTVERTICESDATA + voffseti_kvs2 + k];
			}
		}
		voffset_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
		voffseti_kvs2 += globalparams.SIZEKVS2_REDUCEPARTITION;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices. [end offset: "<<lbasevoffset_kvs2 + voffset_kvs2<<"]"<<endl; 
	#endif
	
	// vertices data masks 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging vertices masks. [begin offset: "<<lbasevmoffset_kvs<<"]"<<endl; 
	#endif
	unsigned int vmoffset_kvs = 0;
	unsigned int vmoffseti_kvs = 0;
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP0: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 0, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[0][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 0, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[0]["<<partition<<"]: "<<psizes_kvs[0][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram0[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP1: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 1, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[1][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 1, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[1]["<<partition<<"]: "<<psizes_kvs[1][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram1[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP2: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 2, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[2][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 2, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[2]["<<partition<<"]: "<<psizes_kvs[2][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram2[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP3: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 3, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[3][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 3, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[3]["<<partition<<"]: "<<psizes_kvs[3][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram3[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP4: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 4, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[4][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 4, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[4]["<<partition<<"]: "<<psizes_kvs[4][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram4[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP5: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 5, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[5][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 5, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[5]["<<partition<<"]: "<<psizes_kvs[5][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram5[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP6: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 6, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[6][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 6, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[6]["<<partition<<"]: "<<psizes_kvs[6][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram6[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP7: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 7, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[7][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 7, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[7]["<<partition<<"]: "<<psizes_kvs[7][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram7[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP8: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 8, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[8][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 8, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[8]["<<partition<<"]: "<<psizes_kvs[8][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram8[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP9: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 9, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[9][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 9, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[9]["<<partition<<"]: "<<psizes_kvs[9][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram9[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP10: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 10, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[10][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 10, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[10]["<<partition<<"]: "<<psizes_kvs[10][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram10[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	vmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVMSLOOP11: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 11, reduce partition "<<partition<<"]: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[11]["<<partition<<"]: "<<psizes_kvs[11][partition]<<"] "<<endl;
		#endif 
		#ifdef _DEBUGMODE_CHECKS2
		actsutilityobj->checkoutofbounds("MERGE_SPLIT_mergeVs12: ERROR 21", partition, BLOCKRAM_SIZE, NAp, NAp, NAp);
		#endif
		if(psizes_kvs[11][partition] > 0){
			#ifdef _DEBUGMODE_KERNELPRINTS
			cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Masks 12:: [instance 11, reduce partition "<<partition<<"] is active: [offset: "<<(lbasevmoffset_kvs + vmoffseti_kvs)*VECTOR2_SIZE<<", size: "<<globalparams.SIZEKVS_VMASKBUFFER<<", psizes_kvs[11]["<<partition<<"]: "<<psizes_kvs[11][partition]<<"] "<<endl;
			#endif
			for(unsigned int k=0; k<globalparams.SIZEKVS_VMASKBUFFER; k++){
			#pragma HLS PIPELINE II=1
				vdram[globalparamsv.BASEOFFSETKVS_VERTICESDATAMASK + lbasevmoffset_kvs + vmoffset_kvs + k] = kvdram11[globalparams.BASEOFFSETKVS_VERTICESDATAMASK + vmoffseti_kvs + k];
			}
		}
		vmoffset_kvs += globalparams.SIZEKVS_VMASKBUFFER;
		vmoffseti_kvs += globalparams.SIZEKVS_VMASKBUFFER;
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: FINISHED merging vertices masks. [end offset: "<<lbasevmoffset_kvs + vmoffset_kvs<<"]"<<endl; 
	#endif
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::MERGE:: merging partition masks. [begin offset: 0]"<<endl; 
	#endif
	unsigned int runningpartition_i = 0;
	unsigned int vpmoffseti_kvs = 0;
	MERGE_SPLIT_MERGEVPMSLOOP: for(unsigned int partition=0; partition<globalparams.NUM_REDUCEPARTITIONS; partition++){
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram0[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram1[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram2[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram3[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram4[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram5[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram6[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram7[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram8[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram9[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram10[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			partitionmasks[n] = partitionmasks[n] | kvdram11[globalparams.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffseti_kvs + n]
				#ifdef _WIDEWORD
				.range(31, 0);
				#else 
				.data[0].key;
				#endif 
		}
		
		for(unsigned int n=0; n<NUM_PEs; n++){
		#pragma HLS PIPELINE II=1
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(partitionmasks[n] > 0){ cout<<"acts_merge_splitdstvxs::MERGE_SPLIT_merge Partition Masks 12:: [process partition "<<runningpartition_i + n<<"] is active: [partitionmasks["<<runningpartition_i + n<<"]: "<<partitionmasks[n]<<""<<endl; }				
			#endif
			vdram[globalparamsv.BASEOFFSETKVS_VERTICESPARTITIONMASK + vpmoffset_kvs + runningpartition_i + n]
				#ifdef _WIDEWORD
				.range(31, 0)
				#else 
				.data[0].key
				#endif 
				= partitionmasks[n];
		}
		
		for(unsigned int k=0; k<NUM_PEs; k++){ partitionmasks[k] = 0; }
		runningpartition_i += NUM_PEs;
		vpmoffseti_kvs += NUM_PEs;
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_mergeVs12: Finished. voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<", vmoffset: "<<vmoffset_kvs * VECTOR2_SIZE<<", runningpartition_i: "<<runningpartition_i<<endl;
	#endif
	// exit(EXIT_SUCCESS); //
	return;
}

void acts_all::MERGE_SPLIT_exchangeVs(uint512_dt * vdramA, uint512_dt * vdramB, uint512_dt * vdramC, uint512_dt * vdram){
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: ACTS EXCHANGE LAUNCHED. Exchanging vertices across different SLRs..."<<endl; 
	#endif
	
	unsigned int statssizes_kvs[3][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = statssizes_kvs
	unsigned int partitionoffseti = 0;
	
	globalparams_t globalparamsvA = UTIL_getglobalparams(vdramA);
	globalparams_t globalparamsvB = UTIL_getglobalparams(vdramB);
	globalparams_t globalparamsvC = UTIL_getglobalparams(vdramC);
	globalparams_t globalparamsv = UTIL_getglobalparams(vdram);
	unsigned int actvpstats_beginoffset = MERGE_SPLIT_actvpstatsoffset(globalparamsvA);
	
	//>> expensive variables 
	unsigned int _TOTALNUMREDUCEPARTITIONS_SLR2 = NUMCOMPUTEUNITS_SLR2 * globalparamsvA.NUM_REDUCEPARTITIONS;
	unsigned int _TOTALNUMREDUCEPARTITIONS_SLR1 = NUMCOMPUTEUNITS_SLR1 * globalparamsvA.NUM_REDUCEPARTITIONS;
	unsigned int _TOTALNUMREDUCEPARTITIONS_SLR0 = NUMCOMPUTEUNITS_SLR0 * globalparamsvA.NUM_REDUCEPARTITIONS;
	
	unsigned int voffsetA_kvs = 0;
	unsigned int voffsetB_kvs = NUMCOMPUTEUNITS_SLR2 * globalparamsvB.NUM_REDUCEPARTITIONS * globalparamsvB.SIZEKVS2_REDUCEPARTITION;
	unsigned int voffsetC_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparamsvC.NUM_REDUCEPARTITIONS * globalparamsvC.SIZEKVS2_REDUCEPARTITION;
	
	unsigned int vmoffsetA_kvs = 0;
	unsigned int vmoffsetB_kvs = NUMCOMPUTEUNITS_SLR2 * globalparamsvB.NUM_REDUCEPARTITIONS * globalparamsvB.SIZEKVS_VMASKBUFFER;
	unsigned int vmoffsetC_kvs = (NUMCOMPUTEUNITS_SLR2 + NUMCOMPUTEUNITS_SLR1) * globalparamsvC.NUM_REDUCEPARTITIONS * globalparamsvC.SIZEKVS_VMASKBUFFER;
	//>>
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE::EXCHANGE:: retrieving stats from vdramA, vdramB & vdramC. "<<endl; 
	#endif 
MEMACCESS_SPL_retreievekvstats(vdramA, statssizes_kvs[0], globalparamsvA, actvpstats_beginoffset, _TOTALNUMREDUCEPARTITIONS_SLR2);
MEMACCESS_SPL_retreievekvstats(vdramB, statssizes_kvs[1], globalparamsvB, actvpstats_beginoffset, _TOTALNUMREDUCEPARTITIONS_SLR1);
MEMACCESS_SPL_retreievekvstats(vdramC, statssizes_kvs[2], globalparamsvC, actvpstats_beginoffset, _TOTALNUMREDUCEPARTITIONS_SLR0);

	// vertices
	partitionoffseti = 0;
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices from vdramA to vdramB & vdramC. [begin offset: "<<voffsetA_kvs<<"]"<<endl; 
	#endif
	MERGE_SPLIT_EXCHANGEVS_LOOP1A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR2; i++){
		for(unsigned int partition=0; partition<globalparamsvA.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 20", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[0][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vertices ::[A->B,C] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<voffsetA_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvA.SIZEKVS2_REDUCEPARTITION<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVS_LOOP1B: for(unsigned int k=0; k<globalparamsvA.SIZEKVS2_REDUCEPARTITION; k++){
				#pragma HLS PIPELINE II=1
					vdramB[globalparamsvB.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k] = vdramA[globalparamsvA.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k];
					vdramC[globalparamsvC.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k] = vdramA[globalparamsvA.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k];
					vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k] = vdramA[globalparamsvA.BASEOFFSETKVS_DESTVERTICESDATA + voffsetA_kvs + k];
				}
			}
			partitionoffseti += 1;
			voffsetA_kvs += globalparamsvA.SIZEKVS2_REDUCEPARTITION;
		}
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: FINISHED transferring vertices from vdramA to vdramB & vdramC. [end offset: "<<voffsetA_kvs<<"]"<<endl; 
	#endif
	
	partitionoffseti = 0;
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices from vdramB to vdramA & vdramC. [begin offset: "<<voffsetB_kvs<<"]"<<endl; 
	#endif
	MERGE_SPLIT_EXCHANGEVS_LOOP2A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR1; i++){
		for(unsigned int partition=0; partition<globalparamsvB.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 21", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[1][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vertices ::[B->A,C] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<voffsetB_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvB.SIZEKVS2_REDUCEPARTITION<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVS_LOOP2B: for(unsigned int k=0; k<globalparamsvB.SIZEKVS2_REDUCEPARTITION; k++){
				#pragma HLS PIPELINE II=1
					vdramA[globalparamsvA.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k] = vdramB[globalparamsvB.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k];
					vdramC[globalparamsvC.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k] = vdramB[globalparamsvB.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k];
					vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k] = vdramB[globalparamsvB.BASEOFFSETKVS_DESTVERTICESDATA + voffsetB_kvs + k];
				}
			}
			partitionoffseti += 1;
			voffsetB_kvs += globalparamsvB.SIZEKVS2_REDUCEPARTITION;
		}
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: FINISHED transferring vertices from vdramB to vdramA & vdramC. [end offset: "<<voffsetB_kvs<<"]"<<endl; 
	#endif
	
	partitionoffseti = 0;
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices from vdramC to vdramA & vdramB. [begin offset: "<<voffsetC_kvs<<"]"<<endl; 
	#endif
	MERGE_SPLIT_EXCHANGEVS_LOOP3A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR0; i++){ // NUMCOMPUTEUNITS_SLR1AND2
		for(unsigned int partition=0; partition<globalparamsvC.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 22", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[2][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vertices ::[C->A,B] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<voffsetC_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvC.SIZEKVS2_REDUCEPARTITION<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVS_LOOP3B: for(unsigned int k=0; k<globalparamsvC.SIZEKVS2_REDUCEPARTITION; k++){
				#pragma HLS PIPELINE II=1
					vdramA[globalparamsvA.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k] = vdramC[globalparamsvC.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k];
					vdramB[globalparamsvB.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k] = vdramC[globalparamsvC.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k];
					vdram[globalparamsv.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k] = vdramC[globalparamsvC.BASEOFFSETKVS_DESTVERTICESDATA + voffsetC_kvs + k];
				}
			}
			partitionoffseti += 1;
			voffsetC_kvs += globalparamsvC.SIZEKVS2_REDUCEPARTITION;
		}
	}
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: FINISHED transferring vertices from vdramC to vdramA & vdramB. [end offset: "<<voffsetC_kvs<<"]"<<endl; 
	#endif
	
	// vertices masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices masks from vdramA to vdramB & vdramC."<<endl; 
	#endif
	partitionoffseti = 0;
	MERGE_SPLIT_EXCHANGEVMS_LOOP1A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR2; i++){
		for(unsigned int partition=0; partition<globalparamsvA.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 23", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[0][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vmasks ::[A->B,C] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<vmoffsetA_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvA.SIZEKVS_VMASKBUFFER<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVMS_LOOP1B: for(unsigned int k=0; k<globalparamsvA.SIZEKVS_VMASKBUFFER; k++){
				#pragma HLS PIPELINE II=1
					vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetA_kvs + k] = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetA_kvs + k];
					vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetA_kvs + k] = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetA_kvs + k];
				}
			}
			partitionoffseti += 1;
			vmoffsetA_kvs += globalparamsvA.SIZEKVS_VMASKBUFFER;
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices masks from vdramB to vdramA & vdramC."<<endl; 
	#endif
	partitionoffseti = 0;
	MERGE_SPLIT_EXCHANGEVMS_LOOP2A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR1; i++){
		for(unsigned int partition=0; partition<globalparamsvB.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 24", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[1][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vmasks ::[B->A,C] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<vmoffsetB_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvB.SIZEKVS_VMASKBUFFER<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVMS_LOOP2B: for(unsigned int k=0; k<globalparamsvB.SIZEKVS_VMASKBUFFER; k++){
				#pragma HLS PIPELINE II=1
					vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetB_kvs + k] = vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetB_kvs + k];
					vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetB_kvs + k] = vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetB_kvs + k];
				}
			}
			partitionoffseti += 1;
			vmoffsetB_kvs += globalparamsvB.SIZEKVS_VMASKBUFFER;
		}
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: transferring vertices masks from vdramC to vdramA & vdramB."<<endl; 
	#endif
	partitionoffseti = 0;
	MERGE_SPLIT_EXCHANGEVMS_LOOP3A: for(unsigned int i=0; i<NUMCOMPUTEUNITS_SLR0; i++){
		for(unsigned int partition=0; partition<globalparamsvC.NUM_REDUCEPARTITIONS; partition++){
			#ifdef _DEBUGMODE_CHECKS2
			actsutilityobj->checkoutofbounds("MERGE_SPLIT_exchangeVs: ERROR 25", partitionoffseti, BLOCKRAM_SIZE, NAp, NAp, NAp);
			#endif
			if(statssizes_kvs[2][partitionoffseti] > 0){
				#ifdef _DEBUGMODE_KERNELPRINTS
				cout<<"acts_merge_splitdstvxs::exchange vmasks ::[C->A,B] [instance "<<i<<", partition "<<partition<<"] is active: [offset: "<<vmoffsetC_kvs*VECTOR2_SIZE<<", size: "<<globalparamsvC.SIZEKVS_VMASKBUFFER<<", statssizes_kvs[0]["<<partitionoffseti<<"]: "<<statssizes_kvs[0][partitionoffseti]<<"] "<<endl;
				#endif
				MERGE_SPLIT_EXCHANGEVMS_LOOP3B: for(unsigned int k=0; k<globalparamsvC.SIZEKVS_VMASKBUFFER; k++){
				#pragma HLS PIPELINE II=1
					vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetC_kvs + k] = vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetC_kvs + k];
					vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetC_kvs + k] = vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESDATAMASK + vmoffsetC_kvs + k];
				}
			}
			partitionoffseti += 1;
			vmoffsetC_kvs += globalparamsvC.SIZEKVS_VMASKBUFFER;
		}
	}
	
	// vertices partition masks
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<"MERGE::EXCHANGE:: merging vertices partition masks across vdramA, vdramB & vdramC."<<endl; 
	#endif
	unsigned int pA = 0; unsigned int pB = 0; unsigned int pC = 0; 
	MERGE_SPLIT_EXCHANGEVPMS_LOOP1: for(unsigned int partition=0; partition<globalparamsvA.NUM_PROCESSEDGESPARTITIONS; partition++){
		#ifdef _WIDEWORD
		pA = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		pB = vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		pC = vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0);
		#else 
		pA = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		pB = vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		pC = vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key;
		#endif 
		
		unsigned int p = pA | pB | pC;
		#ifdef _DEBUGMODE_KERNELPRINTS
		if(p > 0){ cout<<"MERGE_SPLIT_exchangeVs:: partition mask: "<<partition<<" is active: pA: "<<pA<<", pB: "<<pB<<", pC: "<<pC<<endl; }
		#endif
		
		#ifdef _WIDEWORD
		vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0) = p;
		vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0) = p;
		vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].range(31, 0) = p;
		#else 
		vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key = p;
		vdramB[globalparamsvB.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key = p;
		vdramC[globalparamsvC.BASEOFFSETKVS_VERTICESPARTITIONMASK + partition].data[0].key = p;
		#endif 
		
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"--- MERGE_SPLIT_exchangeVs: vdramA["<<partition<<"]: "<<p<<endl; 
		#endif
	}
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	cout<<"MERGE_SPLIT_exchangeVs: Finished. voffsetA: "<<voffsetA_kvs * VECTOR_SIZE<<", voffsetB: "<<voffsetB_kvs * VECTOR_SIZE<<", voffsetC: "<<voffsetC_kvs * VECTOR_SIZE<<endl;
	cout<<"MERGE_SPLIT_exchangeVs: Finished. vmoffsetA: "<<vmoffsetA_kvs * VECTOR_SIZE<<", vmoffsetB: "<<vmoffsetB_kvs * VECTOR_SIZE<<", vmoffsetC: "<<vmoffsetC_kvs * VECTOR_SIZE<<endl;
	#endif
	
	/* ///////////////////////////////////////////////// REMOVEME
	#ifdef _DEBUGMODE_CHECKS2
	for(unsigned int t=0; t<NUMREDUCEPARTITIONS * VMASKBUFFERSZ_KVS * NUM_PEs; t++){
		for(unsigned int v=0; v<VECTOR2_SIZE; v++){
			unsigned int vmdata;
			unsigned int data;
			if(v%2==0){ data = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].key; } else { data = vdramA[globalparamsvA.BASEOFFSETKVS_VERTICESDATAMASK + t].data[v/2].value; }
			vmdata = UTIL_READFROM_UINT(data, 0, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 1, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 2, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 3, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 4, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 5, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 6, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 7, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 8, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 9, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 10, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 11, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 12, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 13, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 14, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 15, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 16, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 17, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 18, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 19, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 20, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 21, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 22, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 23, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 24, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 25, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 26, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 27, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 28, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 29, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 30, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
			vmdata = UTIL_READFROM_UINT(data, 31, 1);
			if(vmdata==1){ mydebugobj->increment(3, globalparamsvA.ALGORITHMINFO_GRAPHITERATIONID, 1); }
	
		}
	}
	#endif 
	///////////////////////////////////////////////// */
	
	// exit(EXIT_SUCCESS); //
	return;
}
 
	
#endif 
#ifdef CONFIG_ENABLECLASS_ACTS
#include "acts.h"
using namespace std;

#ifdef SW
acts::acts(mydebug * _mydebugobj){
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj);
	processedgesobj = new processedges_splitdstvxs(_mydebugobj);
	partitionupdatesobj = new partitionupdates(_mydebugobj);
	reduceupdatesobj = new reduceupdates(_mydebugobj);
	mem_accessobj = new mem_access(_mydebugobj);
	mem_access_splitdstvxsobj = new mem_access_splitdstvxs(_mydebugobj);
	mydebugobj = _mydebugobj;
}
acts::~acts(){}
#endif

// actsproc 
fetchmessage_t acts_all::ACTS_fetchkeyvalues(bool_type enable, unsigned int mode,  uint512_dt * kvdram, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_buffer_t buffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], 
		batch_type goffset_kvs, batch_type loffset_kvs, batch_type size_kvs, travstate_t travstate, sweepparams_t sweepparams, globalparams_t globalparams,
		unsigned int edgebankID){
	fetchmessage_t fetchmessage;
	if(mode == PROCESSMODE){ // CRITICAL REMOVEME.
		#if NUM_EDGE_BANKS>0
			if(edgebankID == 0){ // AUTOMATEME.
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges0, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>1
			else if(edgebankID == 1){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges1, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>2
			else if(edgebankID == 2){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges2, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>3
			else if(edgebankID == 3){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges3, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>4
			else if(edgebankID == 4){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges4, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>5
			else if(edgebankID == 5){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges5, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>6
			else if(edgebankID == 6){
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges6, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			} 
			#if NUM_EDGE_BANKS>7
			else {
				fetchmessage = PROCESS_SPL_readandprocess(enable, edges7, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			}
			#endif 
			#endif 
			#endif 
			#endif 
			#endif 
			#endif 
			#endif 
			else {
				fetchmessage = PROCESS_SPL_readandprocess(enable, kvdram, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
			}
		#else 
		fetchmessage = PROCESS_SPL_readandprocess(enable, kvdram, kvdram, vbuffer, vmaskBITS, vmask_subp, buffer, goffset_kvs, loffset_kvs, size_kvs, travstate, sweepparams, globalparams);
		#endif
	} else {
		fetchmessage = MEMACCESS_SPL_readkeyvalues(enable, kvdram, buffer, goffset_kvs + loffset_kvs, size_kvs, travstate, globalparams); 
	}
	return fetchmessage; 
}

void acts_all::ACTS_commitkeyvalues(bool_type enable1, bool_type enable2, unsigned int mode, uint512_dt * kvdram, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE],
		keyvalue_buffer_t destbuffer[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_t globalcapsule[MAX_NUM_PARTITIONS], keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], 
			batch_type destbaseaddr_kvs, buffer_type chunk_size, sweepparams_t sweepparams, globalparams_t globalparams){
	if(mode == REDUCEMODE){
REDUCE_reduceandbuffer(enable1, destbuffer, localcapsule, vbuffer, vmaskBITS, sweepparams, globalparams);
	} else {
MEMACCESS_SPL_savekeyvalues(enable1, kvdram, destbuffer, globalcapsule, localcapsule, destbaseaddr_kvs, globalparams); 
	}
	return;
}

void acts_all::ACTSprior_commitkeyvalues(bool_type enable1, bool_type enable2, unsigned int mode, uint512_dt * kvdram, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskBITS[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], 
		keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_buffer_t destbuffer[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_t globalcapsule[MAX_NUM_PARTITIONS], keyvalue_capsule_t localcapsule[MAX_NUM_PARTITIONS], 
				batch_type destbaseaddr_kvs, buffer_type chunk_size, sweepparams_t sweepparams, globalparams_t globalparams){
	if(mode == REDUCEMODE){
REDUCE_priorreduceandbuffer(enable1, sourcebuffer, localcapsule, vbuffer, vmaskBITS, chunk_size, sweepparams, globalparams); // REMOVEME.
	} else {
MEMACCESS_SPL_savekeyvalues(enable1, kvdram, destbuffer, globalcapsule, localcapsule, destbaseaddr_kvs, globalparams); 
	}
	return;
}

void acts_all::ACTS_actspipeline(bool_type enable1, bool_type enable2, unsigned int mode, keyvalue_buffer_t buffer_setof1[VECTOR_SIZE][BLOCKRAM_SIZE], keyvalue_capsule_t capsule_so1[VECTOR_SIZE][MAX_NUM_PARTITIONS], 
						keyvalue_buffer_t buffer_setof8[VECTOR_SIZE][DESTBLOCKRAM_SIZE], keyvalue_capsule_t capsule_so8[MAX_NUM_PARTITIONS],
							unsigned int currentLOP, sweepparams_t sweepparams, buffer_type cutoffs[VECTOR_SIZE], batch_type shiftcount, globalparams_t globalparams){		
	analysis_type analysis_loop1 = SRCBUFFER_SIZE / 4;
	if(enable1 == OFF){ return; }
	
	unsigned int upperlimit = sweepparams.upperlimit;
	unsigned int upperpartition = sweepparams.upperpartition;
	
	keyvalue_buffer_t kvA0[4];
	keyvalue_buffer_t kvA2[4];
	keyvalue_buffer_t kvA4[4];
	keyvalue_buffer_t kvA6[4];
	#pragma HLS ARRAY_PARTITION variable=kvA0 complete
	#pragma HLS ARRAY_PARTITION variable=kvA2 complete
	#pragma HLS ARRAY_PARTITION variable=kvA4 complete
	#pragma HLS ARRAY_PARTITION variable=kvA6 complete

	buffer_type tempcutoffs[VECTOR_SIZE];
	#pragma HLS ARRAY_PARTITION variable=tempcutoffs complete

	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		capsule_so8[p].key = 0;
		capsule_so8[p].value = capsule_so1[0][p].value + capsule_so1[1][p].value 
									+ capsule_so1[2][p].value + capsule_so1[3][p].value 
									+ capsule_so1[4][p].value + capsule_so1[5][p].value 
									+ capsule_so1[6][p].value + capsule_so1[7][p].value;
	}
UTIL_calculateoffsets(capsule_so8, MAX_NUM_PARTITIONS);
UTIL_resetvalues(capsule_so8, MAX_NUM_PARTITIONS, 0);
	
	buffer_type maxcutoff = 0;
	for(vector_type v=0; v<VECTOR_SIZE; v++){ 
	#pragma HLS PIPELINE II=1
		if(cutoffs[v] > maxcutoff){ maxcutoff = cutoffs[v]; }
	}
	#ifdef _DEBUGMODE_CHECKS2
	actsutilityobj->checkfordivisibleby(ON, "actspipeline:maxcutoff", maxcutoff, 4);
	#endif
	
	keyvalue_t mydummykv;
	mydummykv.key = 0;
	mydummykv.value = UTIL_GETV(INVALIDDATA);
	keyvalue_buffer_t dummykv = UTIL_GETKV(mydummykv);
	
	value_t tempbufferDcapsule[MAX_NUM_PARTITIONS];
	#pragma HLS ARRAY_PARTITION variable=tempbufferDcapsule complete

	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){ 
	#pragma HLS PIPELINE II=1
		tempbufferDcapsule[p] = capsule_so8[p].value; 
	}
	for(vector_type v=0; v<VECTOR_SIZE; v++){ 
	#pragma HLS PIPELINE II=1
		tempcutoffs[v] = cutoffs[v]; 
	}
	
	unsigned int n=0;
	RUNPIPELINE_LOOP1: for(n=0; n<2; n++){
		RUNPIPELINE_LOOP1B: for(buffer_type k=0; k<maxcutoff; k+=4){
		#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loop1 avg=analysis_loop1
		#pragma HLS PIPELINE II=4
		
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(k % 16 == 0){ cout<<"k: "<<k<<endl; }
			#endif
			
			/// LOADING FROM A
			if(k < tempcutoffs[0+n]){ kvA0[0] = buffer_setof1[0+n][k]; kvA0[1] = buffer_setof1[0+n][k+1]; kvA0[2] = buffer_setof1[0+n][k+2]; kvA0[3] = buffer_setof1[0+n][k+3]; } 
			else { kvA0[0] = dummykv; kvA0[1] = dummykv; kvA0[2] = dummykv; kvA0[3] = dummykv; }
			if(k < tempcutoffs[2+n]){ kvA2[0] = buffer_setof1[2+n][k]; kvA2[1] = buffer_setof1[2+n][k+1]; kvA2[2] = buffer_setof1[2+n][k+2]; kvA2[3] = buffer_setof1[2+n][k+3]; } 
			else { kvA2[0] = dummykv; kvA2[1] = dummykv; kvA2[2] = dummykv; kvA2[3] = dummykv; }
			if(k < tempcutoffs[4+n]){ kvA4[0] = buffer_setof1[4+n][k]; kvA4[1] = buffer_setof1[4+n][k+1]; kvA4[2] = buffer_setof1[4+n][k+2]; kvA4[3] = buffer_setof1[4+n][k+3]; } 
			else { kvA4[0] = dummykv; kvA4[1] = dummykv; kvA4[2] = dummykv; kvA4[3] = dummykv; }
			if(k < tempcutoffs[6+n]){ kvA6[0] = buffer_setof1[6+n][k]; kvA6[1] = buffer_setof1[6+n][k+1]; kvA6[2] = buffer_setof1[6+n][k+2]; kvA6[3] = buffer_setof1[6+n][k+3]; } 
			else { kvA6[0] = dummykv; kvA6[1] = dummykv; kvA6[2] = dummykv; kvA6[3] = dummykv; }
		
			#ifdef _DEBUGMODE_KERNELPRINTS 
			for(unsigned int m=0; m<4; m++){ cout<<"kvA0["<<m<<"].key: "<<UTIL_GETKV(kvA0[m]).key<<", kvA0["<<m<<"].value: "<<UTIL_GETKV(kvA0[m]).value<<endl; }
			for(unsigned int m=0; m<4; m++){ cout<<"kvA2["<<m<<"].key: "<<UTIL_GETKV(kvA2[m]).key<<", kvA2["<<m<<"].value: "<<UTIL_GETKV(kvA2[m]).value<<endl; }
			for(unsigned int m=0; m<4; m++){ cout<<"kvA4["<<m<<"].key: "<<UTIL_GETKV(kvA4[m]).key<<", kvA4["<<m<<"].value: "<<UTIL_GETKV(kvA4[m]).value<<endl; }
			for(unsigned int m=0; m<4; m++){ cout<<"kvA6["<<m<<"].key: "<<UTIL_GETKV(kvA6[m]).key<<", kvA6["<<m<<"].value: "<<UTIL_GETKV(kvA6[m]).value<<endl; }
			#endif
			
			#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
			actsutilityobj->checkn(enablebufferA, "kvA0", kvA0, currentLOP, upperlimit, globalparams.POW_BATCHRANGE, 4);
			actsutilityobj->checkn(enablebufferA, "kvA2", kvA2, currentLOP, upperlimit, globalparams.POW_BATCHRANGE, 4);
			actsutilityobj->checkn(enablebufferA, "kvA4", kvA4, currentLOP, upperlimit, globalparams.POW_BATCHRANGE, 4);
			actsutilityobj->checkn(enablebufferA, "kvA6", kvA6, currentLOP, upperlimit, globalparams.POW_BATCHRANGE, 4);
			#endif
			
			partition_type pA0 = UTIL_getpartition(ON, mode, kvA0[0], currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			partition_type pA2 = UTIL_getpartition(ON, mode, kvA2[0], currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			partition_type pA4 = UTIL_getpartition(ON, mode, kvA4[0], currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			partition_type pA6 = UTIL_getpartition(ON, mode, kvA6[0], currentLOP, upperlimit, upperpartition, globalparams.POW_BATCHRANGE);
			
			/// LOADING FROM AND INTO D
			buffer_type posD0 = capsule_so8[pA0].key + tempbufferDcapsule[pA0];
			unsigned int yoffset0 = posD0 / 8;
			unsigned int xoffset0 = posD0 % 8;
			#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
			actsutilityobj->checkfordivisibleby(enablebufferD, "posD0", posD0, 4);
			actsutilityobj->checkoutofbounds(enablebufferD, "posD0", posD0, DESTBLOCKRAM_SIZE * VECTOR_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "yoffset0", yoffset0, DESTBLOCKRAM_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "xoffset0+4", xoffset0+4, VECTOR_SIZE+1, NAp, NAp, NAp);
			#endif 
			if(xoffset0 == 0){
				buffer_setof8[0][yoffset0] = kvA0[0]; buffer_setof8[1][yoffset0] = kvA0[1]; buffer_setof8[2][yoffset0] = kvA0[2]; buffer_setof8[3][yoffset0] = kvA0[3]; 
			} else {
				buffer_setof8[4][yoffset0] = kvA0[0]; buffer_setof8[5][yoffset0] = kvA0[1]; buffer_setof8[6][yoffset0] = kvA0[2]; buffer_setof8[7][yoffset0] = kvA0[3]; 
			}
			if(UTIL_GETKV(kvA0[0]).value != UTIL_GETV(INVALIDDATA)){ tempbufferDcapsule[pA0] += 4; }
			
			buffer_type _posD0 = capsule_so8[pA2].key + tempbufferDcapsule[pA2];
			unsigned int yoffset1 = _posD0 / 8;
			unsigned int xoffset1 = _posD0 % 8;
			#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
			actsutilityobj->checkfordivisibleby(enablebufferD, "_posD0", _posD0, 4);
			actsutilityobj->checkoutofbounds(enablebufferD, "_posD0", _posD0, DESTBLOCKRAM_SIZE * VECTOR_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "yoffset1", yoffset1, DESTBLOCKRAM_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "xoffset1+4", xoffset1+4, VECTOR_SIZE+1, NAp, NAp, NAp);
			#endif 
			if(xoffset1 == 0){
				buffer_setof8[0][yoffset1] = kvA2[0]; buffer_setof8[1][yoffset1] = kvA2[1]; buffer_setof8[2][yoffset1] = kvA2[2]; buffer_setof8[3][yoffset1] = kvA2[3]; 
			} else {
				buffer_setof8[4][yoffset1] = kvA2[0]; buffer_setof8[5][yoffset1] = kvA2[1]; buffer_setof8[6][yoffset1] = kvA2[2]; buffer_setof8[7][yoffset1] = kvA2[3]; 
			}
			if(UTIL_GETKV(kvA2[0]).value != UTIL_GETV(INVALIDDATA)){ tempbufferDcapsule[pA2] += 4; }
			
			buffer_type __posD0 = capsule_so8[pA4].key + tempbufferDcapsule[pA4];
			unsigned int yoffset2 = __posD0 / 8;
			unsigned int xoffset2 = __posD0 % 8;
			#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
			actsutilityobj->checkfordivisibleby(enablebufferD, "__posD0", __posD0, 4);
			actsutilityobj->checkoutofbounds(enablebufferD, "__posD0", __posD0, DESTBLOCKRAM_SIZE * VECTOR_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "yoffset2", yoffset2, DESTBLOCKRAM_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "xoffset2+4", xoffset2+4, VECTOR_SIZE+1, NAp, NAp, NAp);
			#endif 
			if(xoffset2 == 0){
				buffer_setof8[0][yoffset2] = kvA4[0]; buffer_setof8[1][yoffset2] = kvA4[1]; buffer_setof8[2][yoffset2] = kvA4[2]; buffer_setof8[3][yoffset2] = kvA4[3]; 
			} else {
				buffer_setof8[4][yoffset2] = kvA4[0]; buffer_setof8[5][yoffset2] = kvA4[1]; buffer_setof8[6][yoffset2] = kvA4[2]; buffer_setof8[7][yoffset2] = kvA4[3]; 
			}
			if(UTIL_GETKV(kvA4[0]).value != UTIL_GETV(INVALIDDATA)){ tempbufferDcapsule[pA4] += 4; }
			
			buffer_type ___posD0 = capsule_so8[pA6].key + tempbufferDcapsule[pA6];
			unsigned int yoffset3 = ___posD0 / 8;
			unsigned int xoffset3 = ___posD0 % 8;
			#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
			actsutilityobj->checkfordivisibleby(enablebufferD, "___posD0", ___posD0, 4);
			actsutilityobj->checkoutofbounds(enablebufferD, "___posD0", ___posD0, DESTBLOCKRAM_SIZE * VECTOR_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "yoffset3", yoffset3, DESTBLOCKRAM_SIZE, NAp, NAp, NAp);
			actsutilityobj->checkoutofbounds(enablebufferD, "xoffset3+4", xoffset3+4, VECTOR_SIZE+1, NAp, NAp, NAp);
			#endif 
			if(xoffset3 == 0){
				buffer_setof8[0][yoffset3] = kvA6[0]; buffer_setof8[1][yoffset3] = kvA6[1]; buffer_setof8[2][yoffset3] = kvA6[2]; buffer_setof8[3][yoffset3] = kvA6[3]; 
			} else {
				buffer_setof8[4][yoffset3] = kvA6[0]; buffer_setof8[5][yoffset3] = kvA6[1]; buffer_setof8[6][yoffset3] = kvA6[2]; buffer_setof8[7][yoffset3] = kvA6[3]; 
			}
			if(UTIL_GETKV(kvA6[0]).value != UTIL_GETV(INVALIDDATA)){ tempbufferDcapsule[pA6] += 4; }
		}
	}
	
	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){ 
	#pragma HLS PIPELINE II=1
		capsule_so8[p].value = tempbufferDcapsule[p]; 
	}
	
	for(partition_type p=0; p<MAX_NUM_PARTITIONS; p++){
	#pragma HLS PIPELINE II=1
		keyvalue_t mydummykv;
		mydummykv.key = p;
		mydummykv.value = UTIL_GETV(INVALIDDATA);
		keyvalue_buffer_t dummykv = UTIL_GETKV(mydummykv);
		if(capsule_so8[p].value % 8 == 4){
			unsigned int yoffset = (capsule_so8[p].key + capsule_so8[p].value) / VECTOR_SIZE;
			buffer_setof8[4][yoffset] = dummykv; buffer_setof8[5][yoffset] = dummykv; buffer_setof8[6][yoffset] = dummykv; buffer_setof8[7][yoffset] = dummykv; 
			capsule_so8[p].value += 4;
		}
		#if defined(_DEBUGMODE_CHECKS2) && defined(_DEBUGMODE_PARTITIONCHECKS)
		actsutilityobj->checkfordivisibleby(enablebufferD, "capsule_so8[p].value", capsule_so8[p].value, 8);
		#endif
	}
	return;
}

void acts_all::ACTS_actit(bool_type enable, unsigned int mode,
 uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], 					
		globalparams_t globalparams, sweepparams_t sweepparams, travstate_t ptravstate, batch_type sourcebaseaddr_kvs, batch_type destbaseaddr_kvs,
		bool_type resetenv, bool_type flush, unsigned int edgebankID){
	analysis_type analysis_partitionloop = MODEL_BATCHSIZE_KVS / (NUMPIPELINES_PARTITIONUPDATES * WORKBUFFER_SIZE);
	if(enable == OFF){ return; }
	
keyvalue_buffer_t buffer_setof1[VECTOR_SIZE][BLOCKRAM_SIZE]; // REMOVEME.-SWX
	#pragma HLS array_partition variable = buffer_setof1
keyvalue_buffer_t buffer_setof8[VECTOR_SIZE][DESTBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = buffer_setof8
	
keyvalue_capsule_t capsule_so1[VECTOR_SIZE][MAX_NUM_PARTITIONS];
	#pragma HLS array_partition variable = capsule_so1

keyvalue_capsule_t capsule_so8[MAX_NUM_PARTITIONS];
	
	travstate_t ptravstatepp0 = ptravstate;
	travstate_t ptravstatepp1 = ptravstate;
	
	bool_type pp0readen = ON;
	bool_type pp1readen = ON;
	bool_type pp0runpipelineen = ON;
	bool_type pp1runpipelineen = ON;
	bool_type pp0partitionen = ON;
	bool_type pp1partitionen = ON;
	bool_type pp0writeen = ON;
	bool_type pp1writeen = ON;
buffer_type pp0cutoffs[VECTOR_SIZE];
buffer_type pp1cutoffs[VECTOR_SIZE];
	batch_type itercount = 0;
	batch_type flushsz = 0;
	
	fetchmessage_t fetchmessagepp0;
	fetchmessage_t fetchmessagepp1;
	fetchmessagepp0.chunksize_kvs = -1; fetchmessagepp0.nextoffset_kvs = -1;
	fetchmessagepp1.chunksize_kvs = -1; fetchmessagepp1.nextoffset_kvs = -1;
	
	if(resetenv == ON){ UTIL_resetenvbuffers(capsule_so1, capsule_so8); } else { itercount = 64; } // FIXME. '64' is just some number greater than 2
	if(flush == ON){ flushsz = 1*SRCBUFFER_SIZE; } else { flushsz = 0; }
	#ifdef _DEBUGMODE_KERNELPRINTS2
	if(resetenv == ON){ cout<<"actit: reset is ON"<<endl; } else { cout<<"actit: reset is OFF"<<endl;  }
	if(flush == ON){ cout<<"actit: flush is ON"<<endl; } else { cout<<"actit: flush is OFF"<<endl;  }
	#endif 
	
	batch_type offset_kvs = ptravstate.begin_kvs;

	ACTIT_MAINLOOP: for(batch_type offset_kvs=ptravstate.begin_kvs; offset_kvs<ptravstate.end_kvs + flushsz; offset_kvs+=WORKBUFFER_SIZE * NUMPIPELINES_PARTITIONUPDATES){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_partitionloop avg=analysis_partitionloop
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"acts::ACTS_actit: processing chunk [offset_kvs: "<<offset_kvs<<"]: [ptravstate.begin_kvs: "<<ptravstate.begin_kvs<<"]: [ptravstate.end_kvs + flushsz: "<<ptravstate.end_kvs + flushsz<<"] ... "<<endl;
		#endif
		#ifdef PUP1
		if(itercount >= 0){ pp0writeen = ON; } else { pp0writeen = OFF; }
		if(itercount >= 1){ pp1writeen = ON; } else { pp1writeen = OFF; }
		if(itercount >= 1){ pp1runpipelineen = ON; } else { pp1runpipelineen = OFF; }
		#else 
		if(itercount >= 0){ pp0writeen = ON; } else { pp0writeen = OFF; }
		#endif
		
		ptravstatepp0.i_kvs = offset_kvs;
		fetchmessagepp0 = ACTS_fetchkeyvalues(ON, mode,  kvdram, vbuffer, vmaskREAD, vmask_subp, sourcebuffer, sourcebaseaddr_kvs, ptravstatepp0.i_kvs, WORKBUFFER_SIZE, ptravstatepp0, sweepparams, globalparams, edgebankID);
		// CRITICAL ADDMEBACK.
		#ifdef PUP1
		ACTS_actspipeline(pp1runpipelineen, ON, mode, buffer_setof1, capsule_so1, buffer_setof8, capsule_so8, sweepparams.currentLOP, sweepparams, pp1cutoffs, (itercount-2)+1, globalparams);
		#endif 
		
PARTITION_preparekeyvalues(ON, ON, mode, sourcebuffer, buffer_setof1, capsule_so1, sweepparams.currentLOP, sweepparams, fetchmessagepp0.chunksize_kvs, pp0cutoffs, globalparams);
		#ifdef PUP1
		ACTS_commitkeyvalues(pp1writeen, ON, mode, kvdram, vbuffer, vmaskWRITE, buffer_setof8, globalstatsbuffer, capsule_so8, destbaseaddr_kvs, fetchmessagepp1.chunksize_kvs, sweepparams, globalparams); 
		#endif 
		
		ACTS_actspipeline(ON, ON, mode, buffer_setof1, capsule_so1, buffer_setof8, capsule_so8, sweepparams.currentLOP, sweepparams, pp0cutoffs, itercount, globalparams);
		#ifdef PUP1
		ptravstatepp1.i_kvs = offset_kvs + WORKBUFFER_SIZE;
		fetchmessagepp1 = ACTS_fetchkeyvalues(ON, mode,  kvdram, vbuffer, vmaskREAD, vmask_subp, sourcebuffer, sourcebaseaddr_kvs, ptravstatepp1.i_kvs, WORKBUFFER_SIZE, ptravstatepp1, sweepparams, globalparams, edgebankID);
		#endif
		
		ACTS_commitkeyvalues(pp0writeen, ON, mode, kvdram, vbuffer, vmaskWRITE, buffer_setof8, globalstatsbuffer, capsule_so8, destbaseaddr_kvs, fetchmessagepp0.chunksize_kvs, sweepparams, globalparams); 
		#ifdef PUP1
PARTITION_preparekeyvalues(pp1partitionen, ON, mode, sourcebuffer, buffer_setof1, capsule_so1, sweepparams.currentLOP, sweepparams, fetchmessagepp1.chunksize_kvs, pp1cutoffs, globalparams);
		#endif
		
		itercount += NUMPIPELINES_PARTITIONUPDATES;
	}
	return;
}

void acts_all::ACTS_priorit(bool_type enable, unsigned int mode,
 uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], 
		globalparams_t globalparams, sweepparams_t sweepparams, travstate_t ptravstate, batch_type sourcebaseaddr_kvs, batch_type destbaseaddr_kvs,
		bool_type resetenv, bool_type flush, unsigned int edgebankID){
	analysis_type analysis_partitionloop = MODEL_BATCHSIZE_KVS / (NUMPIPELINES_PARTITIONUPDATES * WORKBUFFER_SIZE);
	if(enable == OFF){ return; }
	
	#ifdef PUP1
	keyvalue_buffer_t sourcebufferpp1[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = sourcebufferpp1
	#endif 
	
keyvalue_buffer_t buffer_setof8[VECTOR_SIZE][DESTBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = buffer_setof8
	#ifdef PUP1
keyvalue_buffer_t bufferpp1_setof8[VECTOR_SIZE][DESTBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = bufferpp1_setof8
	#endif 
	
keyvalue_capsule_t capsule_so8[MAX_NUM_PARTITIONS];
	#ifdef PUP1
keyvalue_capsule_t capsulepp1_so8[MAX_NUM_PARTITIONS];
	#endif 
	
	travstate_t ptravstatepp0 = ptravstate;
	travstate_t ptravstatepp1 = ptravstate;
	
	fetchmessage_t fetchmessagepp0;
	fetchmessage_t fetchmessagepp1;
	fetchmessagepp0.chunksize_kvs = -1; fetchmessagepp0.nextoffset_kvs = -1;
	fetchmessagepp1.chunksize_kvs = -1; fetchmessagepp1.nextoffset_kvs = -1;
	
	if(resetenv == ON){ UTIL_resetenvbuffer(capsule_so8); }
	#ifdef PUP1
	if(resetenv == ON){ UTIL_resetenvbuffer(capsulepp1_so8); }
	#endif 
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	if(resetenv == ON){ cout<<"priorit: reset is ON"<<endl; } else { cout<<"priorit: reset is OFF"<<endl;  }
	#endif 
	
	batch_type offset_kvs = ptravstate.begin_kvs;

	PRIORIT_MAINLOOP: while(offset_kvs < ptravstate.end_kvs){ // NEWCHANGE.
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_partitionloop avg=analysis_partitionloop

		ptravstatepp0.i_kvs = offset_kvs;
		fetchmessagepp0 = ACTS_fetchkeyvalues(ON, mode,  kvdram, vbuffer, vmaskREAD, vmask_subp, sourcebuffer, sourcebaseaddr_kvs, ptravstatepp0.i_kvs, WORKBUFFER_SIZE, ptravstatepp0, sweepparams, globalparams, edgebankID);
		if(mode == PROCESSMODE && fetchmessagepp0.nextoffset_kvs != -1){ offset_kvs = fetchmessagepp0.nextoffset_kvs; } else { offset_kvs+=WORKBUFFER_SIZE; } 
		
PARTITION_priorpartitionkeyvalues(ON, ON, mode, sourcebuffer, buffer_setof8, capsule_so8, sweepparams.currentLOP, sweepparams, fetchmessagepp0.chunksize_kvs, globalparams);
		#ifdef PUP1
		ptravstatepp0.i_kvs = offset_kvs;
		fetchmessagepp1 = ACTS_fetchkeyvalues(ON, mode,  kvdram, vbuffer, vmaskREAD, vmask_subp, sourcebufferpp1, sourcebaseaddr_kvs, ptravstatepp0.i_kvs, WORKBUFFER_SIZE, ptravstatepp0, sweepparams, globalparams, edgebankID);
		if(mode == PROCESSMODE && fetchmessagepp1.nextoffset_kvs != -1){ offset_kvs = fetchmessagepp1.nextoffset_kvs; } else { offset_kvs+=WORKBUFFER_SIZE; } 
		#endif 
		
		ACTSprior_commitkeyvalues(ON, ON, mode, kvdram, vbuffer, vmaskWRITE, sourcebuffer, buffer_setof8, globalstatsbuffer, capsule_so8, destbaseaddr_kvs, fetchmessagepp0.chunksize_kvs, sweepparams, globalparams); 
		#ifdef PUP1
PARTITION_priorpartitionkeyvalues(ON, ON, mode, sourcebufferpp1, bufferpp1_setof8, capsulepp1_so8, sweepparams.currentLOP, sweepparams, fetchmessagepp1.chunksize_kvs, globalparams);
		#endif 
		
		#ifdef PUP1
		ACTSprior_commitkeyvalues(ON, ON, mode, kvdram, vbuffer, vmaskWRITE, sourcebufferpp1, bufferpp1_setof8, globalstatsbuffer, capsulepp1_so8, destbaseaddr_kvs, fetchmessagepp1.chunksize_kvs, sweepparams, globalparams); 
		#endif
	}
	return;
}

void acts_all::ACTS_tradit(bool_type enable, unsigned int mode,
 uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], 
		globalparams_t globalparams, sweepparams_t sweepparams, travstate_t ptravstate, batch_type sourcebaseaddr_kvs, batch_type destbaseaddr_kvs,
		bool_type resetenv, bool_type flush, unsigned int edgebankID){
	analysis_type analysis_partitionloop = MODEL_BATCHSIZE_KVS / (NUMPIPELINES_PARTITIONUPDATES * WORKBUFFER_SIZE);
	if(enable == OFF){ return; }

	travstate_t ptravstatepp0 = ptravstate;
	travstate_t ptravstatepp1 = ptravstate;
	
	fetchmessage_t fetchmessagepp0;
	fetchmessage_t fetchmessagepp1;
	fetchmessagepp0.chunksize_kvs = -1; fetchmessagepp0.nextoffset_kvs = -1;
	fetchmessagepp1.chunksize_kvs = -1; fetchmessagepp1.nextoffset_kvs = -1;
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	if(resetenv == ON){ cout<<"tradit: reset is ON"<<endl; } else { cout<<"tradit: reset is OFF"<<endl;  }
	#endif 
	
	batch_type offset_kvs = ptravstate.begin_kvs;

	PRIORIT_MAINLOOP: while(offset_kvs < ptravstate.end_kvs){ // NEWCHANGE.
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_partitionloop avg=analysis_partitionloop

		ptravstatepp0.i_kvs = offset_kvs;
		fetchmessagepp0 = ACTS_fetchkeyvalues(ON, mode,  kvdram, vbuffer, vmaskREAD, vmask_subp, sourcebuffer, sourcebaseaddr_kvs, ptravstatepp0.i_kvs, WORKBUFFER_SIZE, ptravstatepp0, sweepparams, globalparams, edgebankID);
		if(mode == PROCESSMODE && fetchmessagepp0.nextoffset_kvs != -1){ offset_kvs = fetchmessagepp0.nextoffset_kvs; } else { offset_kvs+=WORKBUFFER_SIZE; } 
		
REDUCE_tradreduceandbuffer(ON, kvdram, sourcebuffer, fetchmessagepp0.chunksize_kvs, globalstatsbuffer, sweepparams, globalparams);
	}
	return;
}	
#endif 
#ifdef CONFIG_ENABLECLASS_TOP_USRCV_UDSTV
#include "top_usrcv_udstv.h"
using namespace std;

#ifdef SW
top_usrcv_udstv::top_usrcv_udstv(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	processedges_splitdstvxsobj = new processedges_splitdstvxs(_mydebugobj);
	partitionupdatesobj = new partitionupdates(_mydebugobj);
	reduceupdatesobj = new reduceupdates(_mydebugobj);
	mem_access_splitdstvxsobj = new mem_access_splitdstvxs(_mydebugobj);
	actsobj = new acts(_mydebugobj);
	mydebugobj = _mydebugobj;
}
top_usrcv_udstv::~top_usrcv_udstv(){}
#endif

void acts_all::processit( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], globalparams_t globalparamsE, globalparams_t globalparamsK, globalposition_t globalposition,							
			unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID, unsigned int hybridmode){
	#pragma HLS INLINE 
	analysis_type analysis_loop1 = 1;
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	#ifdef _DEBUGMODE_CHECKS
	_stages[0] = 0;
	#endif 
	
	bool_type enable_hybridmode = OFF;
	#ifdef ENABLE_SUBVMASKING
	if(globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID == PAGERANK){ enable_hybridmode=OFF; }
	else { if(hybridmode==ON){ enable_hybridmode=ON; } else { enable_hybridmode=OFF; }}
	#endif 

	sweepparams_t sweepparams;
	
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	
	if(globalposition.source_partition == globalposition.first_source_partition){ UTIL_resetkeysandvalues(globalstatsbuffer, NUM_PARTITIONS, 0); } // CRITICAL NEWCHANGE.
	sweepparams = UTIL_getsweepparams(globalparamsK, globalposition.currentLOP, 0);
	travstate_t avtravstate;
	
	globalparams_t globalparamsVPTRS = globalparamsE;
	globalparams_t globalparamsVDATA = globalparamsK;
	
	avtravstate.begin_kvs = 0;
	avtravstate.end_kvs = avtravstate.begin_kvs + (globalparamsK.ACTSPARAMS_SRCVSIZE / VECTOR2_SIZE); avtravstate.size_kvs = globalparamsK.ACTSPARAMS_SRCVSIZE / VECTOR2_SIZE;
	if(globalposition.source_partition == globalposition.first_source_partition){ MEMACCESS_SPL_readglobalstats(ON, kvdram, globalstatsbuffer, globalparamsK.BASEOFFSETKVS_STATSDRAM + globalposition.deststatsmarker, globalparamsK); } // CRITICAL NEWCHANGE.
	if(globalposition.source_partition == globalposition.first_source_partition){ UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0); } // CRITICAL NEWCHANGE.

	batch_type vptrbaseoffset_kvs = globalparamsVPTRS.BASEOFFSETKVS_VERTEXPTR + (globalparamsVPTRS.ACTSPARAMS_SRCVOFFSET / VECTOR_SIZE); // NEWCHANGE. NOTE: no need to include v_chunkids[32] because source_partition handles it
	batch_type vdatabaseoffset_kvs = globalparamsVDATA.BASEOFFSETKVS_SRCVERTICESDATA + (globalparamsVDATA.ACTSPARAMS_SRCVOFFSET / VECTOR_SIZE); // NEWCHANGE.
	
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->print7("### processit:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, avtravstate.begin_kvs * VECTOR_SIZE, avtravstate.end_kvs * VECTOR_SIZE, (avtravstate.end_kvs - avtravstate.begin_kvs) * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); 							
	#endif
	
	batch_type voffset_kvs = globalposition.source_partition * reducebuffersz * FETFACTOR;
	if(voffset_kvs >= avtravstate.end_kvs){ return; } // continue; }
	if(GraphAlgo != PAGERANK) { if(vmask_p[globalposition.source_partition] == 0){ return; }} // vmaskoffset_kvs += vmaskbuffersz_kvs; continue; }} // CRITICAL CHECKME.
	
	sweepparams.source_partition = globalposition.source_partition;
	avtravstate.i_kvs = voffset_kvs;
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->print5("### processit:: source_partition", "voffset", "vbegin", "vend", "vskip", globalposition.source_partition, voffset_kvs * VECTOR_SIZE, avtravstate.begin_kvs * VECTOR_SIZE, avtravstate.size_kvs * VECTOR_SIZE, SRCBUFFER_SIZE * VECTOR_SIZE);
	#endif
	
	vertex_t srcvlocaloffset = (voffset_kvs * VECTOR2_SIZE);
	vertex_t beginsrcvid = globalparamsK.ACTSPARAMS_SRCVOFFSET + (voffset_kvs * VECTOR2_SIZE);
	vertex_t endsrcvid = beginsrcvid + ((reducebuffersz * VECTOR2_SIZE) * FETFACTOR);
	if(srcvlocaloffset >= globalparamsK.ACTSPARAMS_SRCVSIZE){ endsrcvid = beginsrcvid; }
	if((srcvlocaloffset < globalparamsK.ACTSPARAMS_SRCVSIZE) && (srcvlocaloffset + ((reducebuffersz * VECTOR2_SIZE) * FETFACTOR) >= globalparamsK.ACTSPARAMS_SRCVSIZE)){ endsrcvid = beginsrcvid + globalparamsK.ACTSPARAMS_SRCVSIZE - srcvlocaloffset; }
	
	unsigned int SZ_KVS = reducebuffersz * FETFACTOR;
	unsigned int SKIP_KVS;
	if(enable_hybridmode == ON){ SKIP_KVS = 1; } else { SKIP_KVS = SZ_KVS; }
	for(unsigned int lvid_kvs=0; lvid_kvs<SZ_KVS; lvid_kvs+=SKIP_KVS){
		
		if(enable_hybridmode == ON && lvid_kvs + SKIP_KVS < (reducebuffersz * FETFACTOR)){
			unsigned int mask_subp = UTIL_GETVTXMASK_SUBP(vmask_subp, lvid_kvs * VECTOR2_SIZE, globalparamsK);
			#ifdef _DEBUGMODE_KERNELPRINTS
			if(mask_subp == 0){ mask_subp_is_zero += 1; } else { mask_subp_is_not_zero += 1; }
			#endif 
			if(mask_subp == 0){ continue; }
		}
		
		tuple_t tup = MEMACCESS_SPL_getvptrs_opt( kvdram, vptrbaseoffset_kvs, (voffset_kvs + lvid_kvs) * VECTOR2_SIZE, (voffset_kvs + lvid_kvs + SKIP_KVS) * VECTOR2_SIZE, edgebankID); // CRITICAL NEWCHANGE.
		keyy_t beginvptr = tup.A;
		keyy_t endvptr = tup.B; 
		
		if(srcvlocaloffset >= globalparamsK.ACTSPARAMS_SRCVSIZE){ endvptr = beginvptr; }
		
		keyy_t localbeginvptr = beginvptr;
		keyy_t localendvptr = endvptr;
		keyy_t numedges = localendvptr - localbeginvptr + 1*VECTOR_SIZE; // CRITICAL NEWCHANGE.
		if(localbeginvptr == localendvptr){ numedges = 0; }
		keyy_t localbeginvptr_kvs = localbeginvptr / VECTOR_SIZE; // NOTE: this should be in KVS(8) terms
		keyy_t numedges_kvs = numedges / VECTOR_SIZE; // NB: this is correct.
		
		#ifdef _DEBUGMODE_CHECKS2
		if(localendvptr < localbeginvptr){ cout<<"processit::ERROR: localendvptr < localbeginvptr. localbeginvptr: "<<localbeginvptr<<", localendvptr: "<<localendvptr<<", voffset_kvs: "<<voffset_kvs<<", lvid_kvs: "<<lvid_kvs<<endl; exit(EXIT_FAILURE); }
		if(localendvptr < globalparamsE.SIZE_EDGES){ actsutilityobj->checkptr("processit", beginsrcvid, endsrcvid, localbeginvptr, localendvptr, (keyvalue_t *)&kvdram[globalparamsE.BASEOFFSETKVS_EDGESDATA]); }
		#endif
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"[index: "<<globalposition.source_partition<<"][beginsrcvid: "<<beginsrcvid<<", endsrcvid: "<<endsrcvid<<"][beginvptr: "<<localbeginvptr<<", endvptr: "<<localendvptr<<", edges size: "<<numedges<<"][voffset: "<<voffset_kvs * VECTOR_SIZE<<"]"<<endl;
		#endif
		#ifdef _DEBUGMODE_CHECKS2
		if(localendvptr < localbeginvptr){ cout<<"ERROR: localendvptr < localbeginvptr. EXITING..."<<endl; exit(EXIT_FAILURE); }
		actsutilityobj->clearallstats();
		#endif
		
		travstate_t etravstate;
		etravstate.begin_kvs = localbeginvptr_kvs;
		etravstate.size_kvs = numedges_kvs;
		etravstate.end_kvs = etravstate.begin_kvs + etravstate.size_kvs;
		etravstate.skip_kvs = SRCBUFFER_SIZE;
		etravstate.i_kvs = etravstate.begin_kvs;
		etravstate.i2 = voffset_kvs * VECTOR2_SIZE;
		etravstate.i2_kvs = voffset_kvs;
		bool_type resetenv = ON;
		bool_type flush = ON;
		if(voffset_kvs + lvid_kvs == avtravstate.begin_kvs){ resetenv = ON; } else { resetenv = OFF; }
		if((voffset_kvs + lvid_kvs + (reducebuffersz * FETFACTOR)) >= avtravstate.end_kvs){ flush = ON; } else { flush = OFF; }
		if(GraphAlgo != PAGERANK){ resetenv = ON; flush = ON; } // CRITICAL NEWCHANGE.

		#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
		#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
		#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
		#else 
ACTS_tradit
		#endif 
		(
			ON, PROCESSMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, 
			globalparamsK, sweepparams, etravstate, globalparamsE.BASEOFFSETKVS_EDGESDATA, globalparamsK.BASEOFFSETKVS_KVDRAMWORKSPACE,
			resetenv, flush, edgebankID);
	}
	
MEMACCESS_SPL_saveglobalstats(ON, kvdram, globalstatsbuffer, globalparamsK.BASEOFFSETKVS_STATSDRAM + globalposition.deststatsmarker, globalparamsK); // CRITICAL OPTIMIZEME. should be called only once
	
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printglobalvars();
	actsutilityobj->clearglobalvars();
	#endif
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printglobalvars();
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	return;
}

void acts_all::partitionit( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbufferUNUSED[MAX_NUM_PARTITIONS], globalparams_t globalparams, globalposition_t globalposition, unsigned int edgebankID){
	#pragma HLS INLINE
	analysis_type analysis_numllops = 1;
	analysis_type analysis_numsourcepartitions = 1;
	#ifdef TRAD_PARTITION_AND_REDUCE_STRETEGY
	return; // no partitionit for TRAD_PARTITION_AND_REDUCE_STRETEGY
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printparameters();
	actsutilityobj->printglobalvars();
	actsutilityobj->printglobalparameters("top_usrcv_udstv::UTIL_getglobalparams:: printing global parameters", globalparams);
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	#ifdef _DEBUGMODE_STATS
	unsigned int edges_count = 0;
	unsigned int edgesdstv_sum = 0;
	#endif
	#ifdef _DEBUGMODE_CHECKS
	_stages[0] = 1;
	#endif 
	
	keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS]; 
	
	config_t config;
	
UTIL_resetkeysandvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
	sweepparams_t sweepparams = UTIL_getsweepparams(globalparams, globalposition.currentLOP, globalposition.source_partition);
	travstate_t ptravstate = UTIL_gettravstate(ON, kvdram, globalparams, globalposition.currentLOP, globalposition.sourcestatsmarker);
	
	// collect stats
MEMACCESS_SPL_readglobalstats(ON, kvdram, globalstatsbuffer, globalparams.BASEOFFSETKVS_STATSDRAM + globalposition.deststatsmarker, globalparams);
UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
	
	// partition
	if(ptravstate.size_kvs > 0){ config.enablepartition = ON; } 
	else { ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablepartition = OFF; }
	if(ptravstate.size_kvs == 0){ ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablepartition = OFF; }
	#ifdef _DEBUGMODE_KERNELPRINTS2
	if((config.enablepartition == ON) && (globalposition.currentLOP >= 1) && (globalposition.currentLOP <= globalparams.ACTSPARAMS_TREEDEPTH)){ actsutilityobj->print7("### partitionit:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, ptravstate.begin_kvs * VECTOR_SIZE, ptravstate.end_kvs * VECTOR_SIZE, ptravstate.size_kvs * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); }	
	#endif
UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
	bool_type resetenv; if(globalposition.source_partition==0){ resetenv = ON; } else { resetenv = OFF; }
	
	#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
	#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
	#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
	#else 
ACTS_tradit
	#endif
	(config.enablepartition, PARTITIONMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, // CRITICAL FIXME.
			globalparams, sweepparams, ptravstate, sweepparams.worksourcebaseaddress_kvs, sweepparams.workdestbaseaddress_kvs,
			ON, ON, NAp);
			
MEMACCESS_SPL_saveglobalstats(config.enablepartition, kvdram, globalstatsbuffer, globalparams.BASEOFFSETKVS_STATSDRAM + globalposition.deststatsmarker, globalparams); 
	
	#ifdef _DEBUGMODE_CHECKS
	if(config.enablereduce == ON){ actsutilityobj->printpartitionresult2(ON, kvdram, globalstatsbuffer, sweepparams); }
	#endif
	#ifdef _DEBUGMODE_STATS
	if(config.enablereduce == ON){ edges_count = actsutilityobj->globalstats_getcountvalidkvsreduced(); edgesdstv_sum = actsutilityobj->globalstats_getreducevar1(); }
	#endif
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printglobalvars();
	actsutilityobj->clearglobalvars();
	#endif
			
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printglobalvars();
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	return;
}

void acts_all::reduceit( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbufferUNUSED[MAX_NUM_PARTITIONS], globalparams_t globalparams, globalposition_t globalposition, unsigned int edgebankID){	
	#pragma HLS INLINE
	analysis_type analysis_numllops = 1;
	analysis_type analysis_numsourcepartitions = 1;
	analysis_type analysis_treedepth = TREE_DEPTH;
	#ifdef _DEBUGMODE_CHECKS
	_stages[0] = 2;
	#endif 
	
	keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS]; 
	
	config_t config;
	sweepparams_t sweepparams;
	
	sweepparams = UTIL_getsweepparams(globalparams, globalposition.currentLOP, globalposition.source_partition);
	travstate_t ptravstate = UTIL_gettravstate(ON, kvdram, globalparams, globalposition.currentLOP, globalposition.sourcestatsmarker);

	if(ptravstate.size_kvs == 0){ ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablereduce = OFF; }
	else { config.enablereduce = ON; }
	#ifdef _DEBUGMODE_KERNELPRINTS2
	if(ptravstate.size_kvs > 0){ actsutilityobj->print7("### reduceit:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, ptravstate.begin_kvs * VECTOR_SIZE, ptravstate.end_kvs * VECTOR_SIZE, ptravstate.size_kvs * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); }	
	#endif
	bool_type resetenv; if(globalposition.source_partition==0){ resetenv = ON; } else { resetenv = OFF; }
	
	#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
	#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
	#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
	#else 
ACTS_tradit
	#endif
	(config.enablereduce, REDUCEMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, // CRITICAL FIXME.
			globalparams, sweepparams, ptravstate, sweepparams.worksourcebaseaddress_kvs, sweepparams.workdestbaseaddress_kvs,
			ON, ON, NAp); // REMOVEME.
	return;
}

void acts_all::dispatch(bool_type en_process, bool_type en_partition, bool_type en_reduce,  uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS],
			globalparams_t globalparamsE, globalparams_t globalparamsK, globalposition_t globalposition,
				unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID, unsigned int hybridmode){
	if(en_process == ON){ processit( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalstatsbuffer, globalparamsE, globalparamsK, globalposition, v_chunkids, v_chunkid, edgebankID, hybridmode); } 
	if(en_partition == ON){ partitionit( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, globalparamsK, globalposition, NAp); } 
	if(en_reduce == ON){ reduceit( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, globalparamsK, globalposition, NAp); } 
	return;
}

void acts_all::dispatch_reduce(bool_type en_reduce,  uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], globalparams_t globalparamsE, globalparams_t globalparamsK, globalposition_t globalposition,	
					unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID, unsigned int hybridmode){
	#pragma HLS INLINE
	analysis_type analysis_loop1 = 1;
	analysis_type analysis_treedepth = TREE_DEPTH;
	#ifdef TRAD_PARTITION_AND_REDUCE_STRETEGY
	return; // no dispatch_reduce for TRAD_PARTITION_AND_REDUCE_STRETEGY
	#endif 
	#ifdef _DEBUGMODE_STATS
	actsutilityobj->clearglobalvars();
	#endif
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->print3("### dispatch_reduce:: source_partition", "currentLOP", "NAp", globalposition.source_partition, globalposition.currentLOP, NAp); 							
	#endif
	
	// CRITICAL NEWCHANGE.
	travstate_t rtravstate = UTIL_gettravstate(ON, kvdram, globalparamsK, globalposition.currentLOP, globalposition.sourcestatsmarker);
	if(rtravstate.size_kvs == 0){ return; }
	
	dispatch(OFF, OFF, en_reduce,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalstatsbuffer, globalparamsE, globalparamsK, globalposition, v_chunkids, v_chunkid, NAp, hybridmode);
	return;
} 

// top
void acts_all::topkernelproc_embedded(unsigned int en_process, unsigned int en_partition, unsigned int en_reduce,  uint512_dt * kvdram, keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], unit1_type vmask_subp[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskREAD[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VMASK_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], keyvalue_t globalstatsbuffer[MAX_NUM_PARTITIONS], globalposition_t globalposition, unsigned int hybridmode){

	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printparameters();
	#endif
	#if defined(_DEBUGMODE_KERNELPRINTS) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR: 1 ACTS IN 1 COMPUTEUNITS) Launched... size: "<<GETKEYENTRY(kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_RUN], 0)<<endl; 
	#endif
	
	keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = sourcebuffer
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ]; // NOT USED. CALLED IN UPPER-FUNCTION
	globalparams_t globalparamsK;
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	globalparams_t _globalparamsE;
	
	globalparamsK = UTIL_getglobalparams(kvdram); // CRITICAL OPTIMIZEME. MOVETOBASE?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	_globalparamsE = globalparamsEs[globalposition.edgebankID];
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid;
	for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // OPTIMIZEME? IS THIS OPTIMIZED
	#endif 
	
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	if(GraphAlgo != PAGERANK){ if(globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==globalposition.first_source_partition){ UTIL_resetkvstatvalues(kvdram, globalparamsK); }}	// CRITICAL FIXME. NEWCHANGE. DO FOR ALL.
	
	// process & partition
	#ifdef CONFIG_ENABLEPROCESSMODULE
	if(globalparamsK.ENABLE_PROCESSCOMMAND == ON && en_process == ON){
		#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
		cout<<"topkernelproc: processing instance ... "<<endl;
		#endif
		dispatch(globalposition.EN_PROCESS, OFF, OFF,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalstatsbuffer, _globalparamsE, globalparamsK, globalposition, PARTITION_CHKPT[globalposition.edgebankID], globalposition.v_chunkid, globalposition.edgebankID, hybridmode); // PARTITION_CHKPT[0], 0, 0);
	}
	#endif
	
	// partition
	#ifdef CONFIG_ENABLEPARTITIONMODULE
	if(globalparamsK.ENABLE_PARTITIONCOMMAND == ON && en_partition == ON){
		#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
		cout<<"topkernelproc: partitioning instance ... "<<endl;
		#endif
		dispatch(OFF, globalposition.EN_PARTITION, OFF,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalstatsbuffer, _globalparamsE, globalparamsK, globalposition, PARTITION_CHKPT[globalposition.edgebankID], globalposition.v_chunkid, NAp, hybridmode); // PARTITION_CHKPT[0], 0, NAp);
	}
	#endif
	
	// reduce & partition
	#if defined(CONFIG_ENABLEREDUCEMODULE)
	if(globalparamsK.ENABLE_APPLYUPDATESCOMMAND == ON && en_reduce == ON){ 
		#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
		cout<<"topkernelproc: reducing instance ... "<<endl;
		#endif
		dispatch_reduce(globalposition.EN_REDUCE,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalstatsbuffer, _globalparamsE, globalparamsK, globalposition, PARTITION_CHKPT[globalposition.edgebankID], globalposition.v_chunkid, NAp, hybridmode); // PARTITION_CHKPT[0], 0, NAp);
	}
	#endif
	
	if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){
		#ifdef _WIDEWORD
		kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsK.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
		#else
		kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsK.ALGORITHMINFO_GRAPHITERATIONID + 1;
		#endif 
	}
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printglobalvars();
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	return;
}

extern "C" {
void acts_all::topkernelP1(
	uint512_dt * kvdram0,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem2
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem1
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[1];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[1];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask1(vdram, vmask0_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL1_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL1_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL1_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL1_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL1_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL1_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 1; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks1(enable_loadmasks, vdram, vmaskREAD0, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask1(enable_loadmasks, vmask0, vmask0_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate1vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate1vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge1andsavevdata(ON, vdram, vbuffer0, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge1andsavevdata(ON, vdram, vbuffer0, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP1:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP1:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP2(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem4
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem2
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[2];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[2];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask2(vdram, vmask0_p,vmask1_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL2_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL2_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL2_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL2_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL2_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL2_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 2; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks2(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask2(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate2vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate2vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge2andsavevdata(ON, vdram, vbuffer0,vbuffer1, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge2andsavevdata(ON, vdram, vbuffer0,vbuffer1, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP2:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP2:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP3(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem6
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem3
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[3];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[3];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask3(vdram, vmask0_p,vmask1_p,vmask2_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL3_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL3_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL3_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL3_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL3_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL3_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 3; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks3(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask3(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate3vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate3vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge3andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge3andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP3:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP3:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP4(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem8
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem4
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[4];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[4];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask4(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL4_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL4_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL4_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL4_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL4_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL4_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 4; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks4(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask4(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate4vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate4vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge4andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge4andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP4:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP4:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP5(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem10
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem5
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[5];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[5];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask5(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL5_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL5_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL5_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL5_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL5_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL5_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 5; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks5(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask5(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate5vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate5vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge5andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge5andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP5:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP5:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP6(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem12
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem6
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[6];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[6];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask6(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL6_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL6_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL6_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL6_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL6_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL6_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 6; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks6(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask6(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate6vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate6vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge6andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge6andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP6:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP6:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP7(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem14
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem7
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[7];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[7];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask7(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL7_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL7_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL7_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL7_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL7_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL7_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 7; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks7(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask7(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate7vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate7vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge7andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge7andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP7:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP7:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP8(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = edges70 offset = slave bundle = gmem14
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem16
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem8
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
#pragma HLS INTERFACE s_axilite port = edges70 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#pragma HLS DATA_PACK variable = edges70
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer7[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer7
	uint32_type vmask7_p[BLOCKRAM_SIZE];
	unit1_type vmask7_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask7_subp
	unit1_type vmaskREAD7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD7
	unit1_type vmaskWRITE7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE7
	keyvalue_t globalstatsbuffer7[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[8];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[8];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6);globalparamsKs[7] = UTIL_getglobalparams(kvdram7); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask8(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p,vmask7_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL8_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL8_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL8_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL8_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL8_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL8_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[7] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram7, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 8; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks8(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6,vmaskREAD7, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask8(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp,vmask7_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate8vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate8vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram7, vbuffer7, vmask7_p, vmask7_subp, vmaskREAD7, vmaskWRITE7, globalstatsbuffer7, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge8andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge8andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP8:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP8:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP9(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = edges70 offset = slave bundle = gmem14
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
	#pragma HLS INTERFACE m_axi port = edges80 offset = slave bundle = gmem16
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem18
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem9
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
#pragma HLS INTERFACE s_axilite port = edges70 bundle = control
#pragma HLS INTERFACE s_axilite port = edges80 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#pragma HLS DATA_PACK variable = edges70
#pragma HLS DATA_PACK variable = edges80
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer7[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer7
	uint32_type vmask7_p[BLOCKRAM_SIZE];
	unit1_type vmask7_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask7_subp
	unit1_type vmaskREAD7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD7
	unit1_type vmaskWRITE7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE7
	keyvalue_t globalstatsbuffer7[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer8[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer8
	uint32_type vmask8_p[BLOCKRAM_SIZE];
	unit1_type vmask8_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask8_subp
	unit1_type vmaskREAD8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD8
	unit1_type vmaskWRITE8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE8
	keyvalue_t globalstatsbuffer8[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[9];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[9];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6);globalparamsKs[7] = UTIL_getglobalparams(kvdram7);globalparamsKs[8] = UTIL_getglobalparams(kvdram8); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask9(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p,vmask7_p,vmask8_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL9_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL9_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL9_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL9_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL9_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL9_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[7] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram7, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[8] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram8, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 9; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks9(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6,vmaskREAD7,vmaskREAD8, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask9(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp,vmask7_subp,vmask8_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate9vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate9vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram7, vbuffer7, vmask7_p, vmask7_subp, vmaskREAD7, vmaskWRITE7, globalstatsbuffer7, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram8, vbuffer8, vmask8_p, vmask8_subp, vmaskREAD8, vmaskWRITE8, globalstatsbuffer8, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge9andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge9andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP9:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP9:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP10(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = edges70 offset = slave bundle = gmem14
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
	#pragma HLS INTERFACE m_axi port = edges80 offset = slave bundle = gmem16
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
	#pragma HLS INTERFACE m_axi port = edges90 offset = slave bundle = gmem18
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem20
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem10
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
#pragma HLS INTERFACE s_axilite port = edges70 bundle = control
#pragma HLS INTERFACE s_axilite port = edges80 bundle = control
#pragma HLS INTERFACE s_axilite port = edges90 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#pragma HLS DATA_PACK variable = edges70
#pragma HLS DATA_PACK variable = edges80
#pragma HLS DATA_PACK variable = edges90
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer7[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer7
	uint32_type vmask7_p[BLOCKRAM_SIZE];
	unit1_type vmask7_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask7_subp
	unit1_type vmaskREAD7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD7
	unit1_type vmaskWRITE7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE7
	keyvalue_t globalstatsbuffer7[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer8[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer8
	uint32_type vmask8_p[BLOCKRAM_SIZE];
	unit1_type vmask8_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask8_subp
	unit1_type vmaskREAD8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD8
	unit1_type vmaskWRITE8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE8
	keyvalue_t globalstatsbuffer8[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer9[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer9
	uint32_type vmask9_p[BLOCKRAM_SIZE];
	unit1_type vmask9_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask9_subp
	unit1_type vmaskREAD9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD9
	unit1_type vmaskWRITE9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE9
	keyvalue_t globalstatsbuffer9[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[10];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[10];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6);globalparamsKs[7] = UTIL_getglobalparams(kvdram7);globalparamsKs[8] = UTIL_getglobalparams(kvdram8);globalparamsKs[9] = UTIL_getglobalparams(kvdram9); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask10(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p,vmask7_p,vmask8_p,vmask9_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL10_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL10_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL10_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL10_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL10_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL10_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[7] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram7, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[8] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram8, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[9] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram9, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 10; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks10(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6,vmaskREAD7,vmaskREAD8,vmaskREAD9, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask10(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp,vmask7_subp,vmask8_subp,vmask9_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate10vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate10vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram7, vbuffer7, vmask7_p, vmask7_subp, vmaskREAD7, vmaskWRITE7, globalstatsbuffer7, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram8, vbuffer8, vmask8_p, vmask8_subp, vmaskREAD8, vmaskWRITE8, globalstatsbuffer8, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram9, vbuffer9, vmask9_p, vmask9_subp, vmaskREAD9, vmaskWRITE9, globalstatsbuffer9, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge10andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge10andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP10:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP10:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP11(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * kvdram10,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = edges70 offset = slave bundle = gmem14
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
	#pragma HLS INTERFACE m_axi port = edges80 offset = slave bundle = gmem16
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
	#pragma HLS INTERFACE m_axi port = edges90 offset = slave bundle = gmem18
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
	#pragma HLS INTERFACE m_axi port = edges100 offset = slave bundle = gmem20
	#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem21
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem22
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem11
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
#pragma HLS INTERFACE s_axilite port = edges70 bundle = control
#pragma HLS INTERFACE s_axilite port = edges80 bundle = control
#pragma HLS INTERFACE s_axilite port = edges90 bundle = control
#pragma HLS INTERFACE s_axilite port = edges100 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram10 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#pragma HLS DATA_PACK variable = edges70
#pragma HLS DATA_PACK variable = edges80
#pragma HLS DATA_PACK variable = edges90
#pragma HLS DATA_PACK variable = edges100
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = kvdram10
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer7[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer7
	uint32_type vmask7_p[BLOCKRAM_SIZE];
	unit1_type vmask7_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask7_subp
	unit1_type vmaskREAD7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD7
	unit1_type vmaskWRITE7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE7
	keyvalue_t globalstatsbuffer7[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer8[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer8
	uint32_type vmask8_p[BLOCKRAM_SIZE];
	unit1_type vmask8_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask8_subp
	unit1_type vmaskREAD8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD8
	unit1_type vmaskWRITE8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE8
	keyvalue_t globalstatsbuffer8[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer9[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer9
	uint32_type vmask9_p[BLOCKRAM_SIZE];
	unit1_type vmask9_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask9_subp
	unit1_type vmaskREAD9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD9
	unit1_type vmaskWRITE9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE9
	keyvalue_t globalstatsbuffer9[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer10[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer10
	uint32_type vmask10_p[BLOCKRAM_SIZE];
	unit1_type vmask10_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask10_subp
	unit1_type vmaskREAD10[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD10
	unit1_type vmaskWRITE10[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE10
	keyvalue_t globalstatsbuffer10[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[11];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[11];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6);globalparamsKs[7] = UTIL_getglobalparams(kvdram7);globalparamsKs[8] = UTIL_getglobalparams(kvdram8);globalparamsKs[9] = UTIL_getglobalparams(kvdram9);globalparamsKs[10] = UTIL_getglobalparams(kvdram10); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask11(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p,vmask7_p,vmask8_p,vmask9_p,vmask10_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL11_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL11_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL11_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL11_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL11_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL11_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[7] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram7, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[8] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram8, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[9] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram9, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[10] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram10, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 11; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks11(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6,vmaskREAD7,vmaskREAD8,vmaskREAD9,vmaskREAD10, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask11(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp,vmask7_subp,vmask8_subp,vmask9_subp,vmask10_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate11vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate11vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram7, vbuffer7, vmask7_p, vmask7_subp, vmaskREAD7, vmaskWRITE7, globalstatsbuffer7, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram8, vbuffer8, vmask8_p, vmask8_subp, vmaskREAD8, vmaskWRITE8, globalstatsbuffer8, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram9, vbuffer9, vmask9_p, vmask9_subp, vmaskREAD9, vmaskWRITE9, globalstatsbuffer9, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram10, vbuffer10, vmask10_p, vmask10_subp, vmaskREAD10, vmaskWRITE10, globalstatsbuffer10, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge11andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge11andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP11:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP11:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
extern "C" {
void acts_all::topkernelP12(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * kvdram10,
	uint512_dt * kvdram11,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	#pragma HLS INTERFACE m_axi port = edges00 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = edges20 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = edges30 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = edges40 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = edges50 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = edges60 offset = slave bundle = gmem12
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
	#pragma HLS INTERFACE m_axi port = edges70 offset = slave bundle = gmem14
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
	#pragma HLS INTERFACE m_axi port = edges80 offset = slave bundle = gmem16
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
	#pragma HLS INTERFACE m_axi port = edges90 offset = slave bundle = gmem18
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
	#pragma HLS INTERFACE m_axi port = edges100 offset = slave bundle = gmem20
	#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem21
	#pragma HLS INTERFACE m_axi port = edges110 offset = slave bundle = gmem22
	#pragma HLS INTERFACE m_axi port = kvdram11 offset = slave bundle = gmem23
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem24
#else 
	#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
	#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
	#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
	#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
	#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
	#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
	#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
	#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
	#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
	#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
	#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem10
	#pragma HLS INTERFACE m_axi port = kvdram11 offset = slave bundle = gmem11
	#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem12
#endif 
//

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges00 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges20 bundle = control
#pragma HLS INTERFACE s_axilite port = edges30 bundle = control
#pragma HLS INTERFACE s_axilite port = edges40 bundle = control
#pragma HLS INTERFACE s_axilite port = edges50 bundle = control
#pragma HLS INTERFACE s_axilite port = edges60 bundle = control
#pragma HLS INTERFACE s_axilite port = edges70 bundle = control
#pragma HLS INTERFACE s_axilite port = edges80 bundle = control
#pragma HLS INTERFACE s_axilite port = edges90 bundle = control
#pragma HLS INTERFACE s_axilite port = edges100 bundle = control
#pragma HLS INTERFACE s_axilite port = edges110 bundle = control
	
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram10 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram11 bundle = control
	

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges00
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges20
#pragma HLS DATA_PACK variable = edges30
#pragma HLS DATA_PACK variable = edges40
#pragma HLS DATA_PACK variable = edges50
#pragma HLS DATA_PACK variable = edges60
#pragma HLS DATA_PACK variable = edges70
#pragma HLS DATA_PACK variable = edges80
#pragma HLS DATA_PACK variable = edges90
#pragma HLS DATA_PACK variable = edges100
#pragma HLS DATA_PACK variable = edges110
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = kvdram10
#pragma HLS DATA_PACK variable = kvdram11
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	keyvalue_vbuffer_t vbuffer0[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer0
	uint32_type vmask0_p[BLOCKRAM_SIZE];
	unit1_type vmask0_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask0_subp
	unit1_type vmaskREAD0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD0
	unit1_type vmaskWRITE0[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE0
	keyvalue_t globalstatsbuffer0[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer1[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer1
	uint32_type vmask1_p[BLOCKRAM_SIZE];
	unit1_type vmask1_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask1_subp
	unit1_type vmaskREAD1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD1
	unit1_type vmaskWRITE1[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE1
	keyvalue_t globalstatsbuffer1[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer2[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer2
	uint32_type vmask2_p[BLOCKRAM_SIZE];
	unit1_type vmask2_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask2_subp
	unit1_type vmaskREAD2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD2
	unit1_type vmaskWRITE2[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE2
	keyvalue_t globalstatsbuffer2[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer3[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer3
	uint32_type vmask3_p[BLOCKRAM_SIZE];
	unit1_type vmask3_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask3_subp
	unit1_type vmaskREAD3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD3
	unit1_type vmaskWRITE3[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE3
	keyvalue_t globalstatsbuffer3[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer4[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer4
	uint32_type vmask4_p[BLOCKRAM_SIZE];
	unit1_type vmask4_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask4_subp
	unit1_type vmaskREAD4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD4
	unit1_type vmaskWRITE4[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE4
	keyvalue_t globalstatsbuffer4[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer5[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer5
	uint32_type vmask5_p[BLOCKRAM_SIZE];
	unit1_type vmask5_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask5_subp
	unit1_type vmaskREAD5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD5
	unit1_type vmaskWRITE5[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE5
	keyvalue_t globalstatsbuffer5[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer6[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer6
	uint32_type vmask6_p[BLOCKRAM_SIZE];
	unit1_type vmask6_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask6_subp
	unit1_type vmaskREAD6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD6
	unit1_type vmaskWRITE6[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE6
	keyvalue_t globalstatsbuffer6[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer7[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer7
	uint32_type vmask7_p[BLOCKRAM_SIZE];
	unit1_type vmask7_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask7_subp
	unit1_type vmaskREAD7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD7
	unit1_type vmaskWRITE7[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE7
	keyvalue_t globalstatsbuffer7[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer8[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer8
	uint32_type vmask8_p[BLOCKRAM_SIZE];
	unit1_type vmask8_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask8_subp
	unit1_type vmaskREAD8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD8
	unit1_type vmaskWRITE8[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE8
	keyvalue_t globalstatsbuffer8[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer9[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer9
	uint32_type vmask9_p[BLOCKRAM_SIZE];
	unit1_type vmask9_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask9_subp
	unit1_type vmaskREAD9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD9
	unit1_type vmaskWRITE9[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE9
	keyvalue_t globalstatsbuffer9[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer10[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer10
	uint32_type vmask10_p[BLOCKRAM_SIZE];
	unit1_type vmask10_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask10_subp
	unit1_type vmaskREAD10[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD10
	unit1_type vmaskWRITE10[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE10
	keyvalue_t globalstatsbuffer10[MAX_NUM_PARTITIONS];
	keyvalue_vbuffer_t vbuffer11[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer11
	uint32_type vmask11_p[BLOCKRAM_SIZE];
	unit1_type vmask11_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmask11_subp
	unit1_type vmaskREAD11[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	#pragma HLS DATA_PACK variable = vmaskREAD11
	unit1_type vmaskWRITE11[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	#pragma HLS DATA_PACK variable = vmaskWRITE11
	keyvalue_t globalstatsbuffer11[MAX_NUM_PARTITIONS];
	travstate_t rtravstates[12];
	#pragma HLS ARRAY_PARTITION variable=rtravstates complete
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	globalparams_t globalparamsKs[12];
	globalparams_t globalparamsEs[MAX_NUM_EDGE_BANKS];
	
	unsigned int sourcestatsmarker = 0;
	unsigned int deststatsmarker = 0;
	unsigned int reducesourcestatsmarker = 0;
	unsigned int EN_PROCESS = OFF; unsigned int EN_PARTITION = OFF; unsigned int EN_REDUCE = OFF; unsigned int EN_PROCESSANDREDUCE = OFF; unsigned int EN_PROCESSANDPARTITION = OFF;
	globalposition_t globalposition;
	
	#ifdef _DEBUGMODE_CHECKS
	mask_subp_is_zero = 0;
	mask_subp_is_not_zero = 0;
	for(unsigned int i=0; i<8; i++){ _stages[i] = 0; }
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ _chkpartitions[i] = 0; }
	#endif 
	
globalparamsKs[0] = UTIL_getglobalparams(kvdram0);globalparamsKs[1] = UTIL_getglobalparams(kvdram1);globalparamsKs[2] = UTIL_getglobalparams(kvdram2);globalparamsKs[3] = UTIL_getglobalparams(kvdram3);globalparamsKs[4] = UTIL_getglobalparams(kvdram4);globalparamsKs[5] = UTIL_getglobalparams(kvdram5);globalparamsKs[6] = UTIL_getglobalparams(kvdram6);globalparamsKs[7] = UTIL_getglobalparams(kvdram7);globalparamsKs[8] = UTIL_getglobalparams(kvdram8);globalparamsKs[9] = UTIL_getglobalparams(kvdram9);globalparamsKs[10] = UTIL_getglobalparams(kvdram10);globalparamsKs[11] = UTIL_getglobalparams(kvdram11); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	globalparams_t globalparamsK = globalparamsKs[0]; // UTIL_getglobalparams(kvdram0); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsEs[0] = globalparamsK;
	#endif 
	globalparams_t globalparamsV = UTIL_getglobalparams(vdram);
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){ // CRITICAL NEWCHANGE.
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram0[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	buffer_type vmaskbuffersz_kvs = (globalparamsK.SIZE_REDUCE * VDATA_PACKINGSIZE) / 512;
	batch_type vmaskoffset_kvs = 0; 
	unsigned int vreadoffset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
		reducesourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	unsigned int FIRSTLOP = 0;
	unsigned int NUMLOPs = 0;
	unsigned int FIRSTSOURCEPARTITION = 0;
	unsigned int LASTSOURCEPARTITIONS = 0;
	batch_type num_source_partitions = 0; 

	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readmanypmask12(vdram, vmask0_p,vmask1_p,vmask2_p,vmask3_p,vmask4_p,vmask5_p,vmask6_p,vmask7_p,vmask8_p,vmask9_p,vmask10_p,vmask11_p, globalparamsV.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(vdram, globalparamsV); }
	unsigned int num_edge_banks = NUM_EDGE_BANKS;
	unsigned int it_size; if(num_edge_banks==0){ it_size = 1; } else { it_size = NUM_EDGE_BANKS; }
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(vdram, vbuffer0, globalparamsV);
	#endif
	#ifdef _WIDEWORD
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].range(31, 0);
	#else 
	unsigned int hybridmode = vdram[globalparamsV.BASEOFFSETKVS_OTHERINFOS + globalparamsV.ALGORITHMINFO_GRAPHITERATIONID].data[0].key;
	#endif 
	
	unsigned int num_stages = 3;
	if(globalparamsV.ENABLE_PROCESSCOMMAND == ON){ num_stages = 1; }
	if(globalparamsV.ENABLE_PARTITIONCOMMAND == ON){ num_stages = 2; }
	if(globalparamsV.ENABLE_APPLYUPDATESCOMMAND == ON){ num_stages = 3; }
	
	TOPKERNEL12_BASELOOP1: for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalposition.edgebankID = edgebankID;
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		for(unsigned int i=0; i<globalposition.edgebankID; i++){ globalparamsK.BASEOFFSETKVS_STATSDRAM += ((globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS); } // SHIFT.
		#endif 
		TOPKERNEL12_BASELOOP1B: for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			globalposition.v_chunkid = v_chunkid;
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			globalparamsK.VARS_WORKBATCH = globalposition.v_chunkid; // SHIFT.
			#endif 
			TOPKERNEL12_BASELOOP1C: for(step_type stage=0; stage<num_stages; stage++){
			
				EN_PROCESS = OFF; EN_PARTITION = OFF; EN_REDUCE = OFF; EN_PROCESSANDREDUCE = OFF; EN_PROCESSANDPARTITION = OFF;
				if(stage==0){ EN_PROCESS = ON; EN_PROCESSANDREDUCE = ON; EN_PROCESSANDPARTITION = ON;  } 
				else if(stage==1){ EN_PARTITION = ON; EN_PROCESSANDPARTITION = ON;  } 
				else { EN_REDUCE = ON; EN_PROCESSANDREDUCE = ON; }
				globalposition.EN_PROCESS = EN_PROCESS; globalposition.EN_PARTITION = EN_PARTITION; globalposition.EN_REDUCE = EN_REDUCE; globalposition.EN_PROCESSANDPARTITION = EN_PROCESSANDPARTITION; globalposition.EN_PROCESSANDREDUCE = EN_PROCESSANDREDUCE;
				
				if(stage==0){ sourcestatsmarker = 0; deststatsmarker = 1; } 
				else if(stage==1){ sourcestatsmarker = 1; deststatsmarker = 1 + NUM_PARTITIONS; } 
				else { sourcestatsmarker = reducesourcestatsmarker; deststatsmarker = NAp; }
				
				if(stage==0){ FIRSTLOP = 1; NUMLOPs = 1; } // FIXME. CHANGE FOR ~ENABLERECURSIVEPARTITIONING
				else if(stage==1){ FIRSTLOP = globalparamsK.ACTSPARAMS_BEGINLOP + 1; NUMLOPs = globalparamsK.ACTSPARAMS_NUMLOPS-2;  } 
				else{ FIRSTLOP = globalparamsK.ACTSPARAMS_TREEDEPTH; NUMLOPs = 1; }
				
				vmaskoffset_kvs = 0; 
				vreadoffset_kvs = 0;
				
				TOPKERNEL12_BASELOOP1D: for(step_type currentLOP=FIRSTLOP; currentLOP<(FIRSTLOP + NUMLOPs); currentLOP+=1){
					#ifdef ENABLERECURSIVEPARTITIONING
					if(stage==0){ num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH); }
					else if(stage==1){ num_source_partitions = UTIL_get_num_source_partitions(currentLOP);  }
					else { num_source_partitions = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);  }
					#else
					NOT IMPLEMENTED.
					#endif
					
					if(stage==0){ FIRSTSOURCEPARTITION = PARTITION_CHKPT[edgebankID][v_chunkid]; LASTSOURCEPARTITIONS = PARTITION_CHKPT[edgebankID][v_chunkid+1]; } 
					else if(stage==1){ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions;  } 
					else{ FIRSTSOURCEPARTITION = 0; LASTSOURCEPARTITIONS = num_source_partitions; }
					
					if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs = PARTITION_CHKPT[edgebankID][v_chunkid] * (vmaskbuffersz_kvs); } // NEWCHANGE.
					batch_type vreadoffset_kvs = 0;
					
					TOPKERNEL12_BASELOOP1E: for(batch_type source_partition=FIRSTSOURCEPARTITION; source_partition<LASTSOURCEPARTITIONS; source_partition+=1){
						#ifdef _DEBUGMODE_KERNELPRINTS2
						actsutilityobj->print3("### TOPKERNEL12_BASELOOP1C:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, NAp); 							
						#endif
						
						globalposition.stage = stage; 
						globalposition.laststage = 2; 
						globalposition.currentLOP = currentLOP; 
						globalposition.lastLOP = FIRSTLOP + NUMLOPs - 1; 
						globalposition.source_partition = source_partition;
						globalposition.first_source_partition = FIRSTSOURCEPARTITION;
						globalposition.last_source_partition = LASTSOURCEPARTITIONS - 1;
						globalposition.num_source_partitions = LASTSOURCEPARTITIONS - FIRSTSOURCEPARTITION; // FIXME.
						globalposition.sourcestatsmarker = sourcestatsmarker; 
						globalposition.deststatsmarker = deststatsmarker; 
						if(globalposition.v_chunkid==0 && globalposition.stage==0 && globalposition.currentLOP==1 && globalposition.source_partition==0){ globalposition.first=ON; } else { globalposition.first=OFF; }
						if(globalposition.v_chunkid==globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER-1 && globalposition.stage==globalposition.laststage && globalposition.currentLOP==globalposition.lastLOP && globalposition.source_partition==globalposition.last_source_partition){ globalposition.last=ON; } else { globalposition.last=OFF; }
						
						bool_type enableprocess = ON;
						if(globalposition.EN_PROCESS == ON){
							if(GraphAlgo != PAGERANK){ if(vmask0_p[source_partition] > 0){ enableprocess = ON; } else { enableprocess = OFF; }}
						}
						
						bool_type enablereduce = OFF; 
						unsigned int ntravszs = 0;
						if(globalposition.EN_REDUCE == ON){
							rtravstates[0] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram0, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[1] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram1, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[2] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram2, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[3] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram3, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[4] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram4, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[5] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram5, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[6] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram6, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[7] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram7, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[8] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram8, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[9] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram9, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[10] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram10, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							rtravstates[11] = UTIL_gettravstate(globalposition.EN_REDUCE, kvdram11, globalparamsK, currentLOP, sourcestatsmarker); // CRITICAL NOTEME. POSSIBLE SOURCE OF ROUTING CONSTRAINTS?
							for(unsigned int i = 0; i < 12; i++){ ntravszs += rtravstates[i].size_kvs; }
							if(ntravszs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
						}
						
						bool_type enable_loadmasks = OFF; 
						if(globalposition.EN_PROCESS == ON && enableprocess == ON){ enable_loadmasks = ON; } else { enable_loadmasks = OFF; }
						
						bool_type enable_readandreplicatevdata = OFF; 
						if((globalposition.EN_PROCESS == ON && enableprocess == ON) || (globalposition.EN_REDUCE == ON && enablereduce == ON)){ enable_readandreplicatevdata = ON; } else { enable_readandreplicatevdata = OFF; }
		
						// read vertices
MEMACCESS_SPL_readmanyvmasks12(enable_loadmasks, vdram, vmaskREAD0,vmaskREAD1,vmaskREAD2,vmaskREAD3,vmaskREAD4,vmaskREAD5,vmaskREAD6,vmaskREAD7,vmaskREAD8,vmaskREAD9,vmaskREAD10,vmaskREAD11, vbuffer0, globalparamsV.BASEOFFSETKVS_VERTICESDATAMASK + vmaskoffset_kvs, vmaskbuffersz_kvs, globalparamsV); 
						#ifdef ENABLE_SUBVMASKING
MEMACCESS_SPL_readmanyspmask12(enable_loadmasks, vmask0, vmask0_subp,vmask1_subp,vmask2_subp,vmask3_subp,vmask4_subp,vmask5_subp,vmask6_subp,vmask7_subp,vmask8_subp,vmask9_subp,vmask10_subp,vmask11_subp, vmaskbuffersz_kvs); 
						#endif
						mergeobj->MERGE_readandreplicate12vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10,vbuffer11, 0, 0, reducebuffersz, globalparamsV); 
						mergeobj->MERGE_readandreplicate12vdata(enable_readandreplicatevdata, vdram, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10,vbuffer11, 8, 0, reducebuffersz, globalparamsV); 
						
						// proc 
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram0, vbuffer0, vmask0_p, vmask0_subp, vmaskREAD0, vmaskWRITE0, globalstatsbuffer0, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram1, vbuffer1, vmask1_p, vmask1_subp, vmaskREAD1, vmaskWRITE1, globalstatsbuffer1, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram2, vbuffer2, vmask2_p, vmask2_subp, vmaskREAD2, vmaskWRITE2, globalstatsbuffer2, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram3, vbuffer3, vmask3_p, vmask3_subp, vmaskREAD3, vmaskWRITE3, globalstatsbuffer3, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram4, vbuffer4, vmask4_p, vmask4_subp, vmaskREAD4, vmaskWRITE4, globalstatsbuffer4, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram5, vbuffer5, vmask5_p, vmask5_subp, vmaskREAD5, vmaskWRITE5, globalstatsbuffer5, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram6, vbuffer6, vmask6_p, vmask6_subp, vmaskREAD6, vmaskWRITE6, globalstatsbuffer6, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram7, vbuffer7, vmask7_p, vmask7_subp, vmaskREAD7, vmaskWRITE7, globalstatsbuffer7, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram8, vbuffer8, vmask8_p, vmask8_subp, vmaskREAD8, vmaskWRITE8, globalstatsbuffer8, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram9, vbuffer9, vmask9_p, vmask9_subp, vmaskREAD9, vmaskWRITE9, globalstatsbuffer9, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram10, vbuffer10, vmask10_p, vmask10_subp, vmaskREAD10, vmaskWRITE10, globalstatsbuffer10, globalposition, hybridmode);	
						topkernelproc_embedded(enableprocess, ON, enablereduce,  kvdram11, vbuffer11, vmask11_p, vmask11_subp, vmaskREAD11, vmaskWRITE11, globalstatsbuffer11, globalposition, hybridmode);	
						
						// merge 
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge12andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10,vbuffer11, 0, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs); }
						if(globalposition.EN_REDUCE == ON && enablereduce == ON){ mergeobj->MERGE_merge12andsavevdata(ON, vdram, vbuffer0,vbuffer1,vbuffer2,vbuffer3,vbuffer4,vbuffer5,vbuffer6,vbuffer7,vbuffer8,vbuffer9,vbuffer10,vbuffer11, 8, 0, globalparamsV.BASEOFFSETKVS_DESTVERTICESDATA + vreadoffset_kvs + reducebuffersz); }
						
						// update stats
						if(globalposition.EN_REDUCE == ON){ 
							if(enablereduce == ON){ buffer[source_partition] += 64; } 
							else { buffer[source_partition] += 0; }
						}
						
						// increments
						if(globalposition.EN_PARTITION == ON || globalposition.EN_REDUCE == ON){ sourcestatsmarker += 1; }
						if(globalposition.EN_PARTITION == ON){ deststatsmarker += NUM_PARTITIONS; }
						if(globalposition.EN_PROCESS == ON){ vmaskoffset_kvs += vmaskbuffersz_kvs; }
						if(globalposition.EN_PROCESS == ON || globalposition.EN_REDUCE == ON){ vreadoffset_kvs += reducebuffersz * 2; }
					}
				}
			} // stage
		} // v_chunkid
	} // edgebankID
	
MEMACCESS_SPL_commitkvstats(vdram, buffer, globalparamsV, reducesourcestatsmarker);
	
	#ifdef _WIDEWORD
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].range(31, 0) = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1; // CRITICAL NOTEME: Graph Iteration is incremented here
	#else
	vdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID].data[0].key = globalparamsV.ALGORITHMINFO_GRAPHITERATIONID + 1;
	#endif 
	
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ENABLE_SUBVMASKING)
	cout<<"topkernelP12:: subpmask status: mask_subp_is_zero: "<<mask_subp_is_zero<<", mask_subp_is_not_zero: "<<mask_subp_is_not_zero<<endl;
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(DATA_SENSITIVE_ACTS)
	for(unsigned int i=0; i<MAX_NUM_PARTITIONS; i++){ cout<<"topkernelP12:: subpmask status: _chkpartitions["<<i<<"]: "<<_chkpartitions[i]<<endl;; }
	#endif 
	return;
}
}
	
#endif 
#ifdef CONFIG_ENABLECLASS_TOPNUSRCV_NUDSTV
#include "top_nusrcv_nudstv.h"
using namespace std;

#ifdef SW
top_nusrcv_nudstv::top_nusrcv_nudstv(mydebug * _mydebugobj){ 
	actsutilityobj = new actsutility(); 
	acts_utilobj = new acts_util(_mydebugobj); 
	processedges_splitdstvxsobj = new processedges_splitdstvxs(_mydebugobj);
	partitionupdatesobj = new partitionupdates(_mydebugobj);
	reduceupdatesobj = new reduceupdates(_mydebugobj);
	mem_access_splitdstvxsobj = new mem_access_splitdstvxs(_mydebugobj);
	acts_merge_splitdstvxsobj = new acts_merge_splitdstvxs(_mydebugobj);
	actsobj = new acts(_mydebugobj);
	mydebugobj = _mydebugobj;
}
top_nusrcv_nudstv::~top_nusrcv_nudstv(){}
#endif

void acts_all::processit_splitdstvxs( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], globalparams_t globalparamsE, globalparams_t globalparamsK,								
			unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID){
	#pragma HLS INLINE 
	analysis_type analysis_loop1 = 1;
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	
	keyvalue_t globalstatsbuffer[NUM_PARTITIONS]; 
	
	batch_type sourcestatsmarker = 0;
	batch_type deststatsmarker = 1;
	sweepparams_t sweepparams;
	
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	
	step_type currentLOP=globalparamsK.ACTSPARAMS_BEGINLOP;
UTIL_resetkeysandvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
	sweepparams = UTIL_getsweepparams(globalparamsK, currentLOP, 0);
	travstate_t avtravstate;
	
	globalparams_t globalparamsVPTRS = globalparamsE;
	globalparams_t globalparamsVDATA = globalparamsK;
	
	avtravstate.begin_kvs = 0;
	avtravstate.end_kvs = avtravstate.begin_kvs + (globalparamsK.ACTSPARAMS_SRCVSIZE / VECTOR2_SIZE); avtravstate.size_kvs = globalparamsK.ACTSPARAMS_SRCVSIZE / VECTOR2_SIZE;
MEMACCESS_SPL_readglobalstats(ON, kvdram, globalstatsbuffer, globalparamsK.BASEOFFSETKVS_STATSDRAM + deststatsmarker, globalparamsK); 
UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
	
	batch_type vptrbaseoffset_kvs = globalparamsVPTRS.BASEOFFSETKVS_VERTEXPTR + (globalparamsVPTRS.ACTSPARAMS_SRCVOFFSET / VECTOR_SIZE); // NEWCHANGE. NOTE: no need to include v_chunkids[32] because source_partition handles it
	batch_type vdatabaseoffset_kvs = globalparamsVDATA.BASEOFFSETKVS_SRCVERTICESDATA + (globalparamsVDATA.ACTSPARAMS_SRCVOFFSET / VECTOR_SIZE); // NEWCHANGE.
	
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	unsigned int SKIP_KVS = globalparamsK.SIZEKVS2_REDUCEPARTITION;
	unsigned int vreadskipsz_kvs2 = globalparamsK.SIZEKVS2_PROCESSEDGESPARTITION / NUM_PEs; // TOO EXPENSIVE.
	
	batch_type voffset_kvs2 = 0;
	batch_type vreadoffset_kvs2 = 0;
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->print7("### processit_splitdstvxs:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, avtravstate.begin_kvs * VECTOR_SIZE, avtravstate.end_kvs * VECTOR_SIZE, (avtravstate.end_kvs - avtravstate.begin_kvs) * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); 							
	#endif
	PROCESSIT_MAINLOOP1: for(batch_type source_partition=0; source_partition<globalparamsK.NUM_PROCESSEDGESPARTITIONS; source_partition+=1){
		#ifdef _DEBUGMODE_KERNELPRINTS
		cout<<"processit_splitdstvxs: processing [source_partition: "<<source_partition<<"]: [voffset: "<<voffset_kvs2 * VECTOR2_SIZE<<"]: [vreadoffset: "<<vreadoffset_kvs2 * NUM_PEs * VECTOR2_SIZE<<"] ... "<<endl;
		#endif
		
		/* ///////////////////////////////////////////////// REMOVEME
		#ifdef _DEBUGMODE_CHECKS2
		if(globalparamsK.ACTSPARAMS_INSTID == 0){
			for(buffer_type k=0; k<globalparamsK.SIZEKVS2_REDUCEPARTITION; k+=1){
				for(unsigned int v=0; v<VECTOR2_SIZE; v+=1){
					if(vmaskREAD[v][k]==1){ mydebugobj->increment(1, globalparamsK.ALGORITHMINFO_GRAPHITERATIONID, 1); }
				}
			}
		}
		#endif 
		///////////////////////////////////////////////// */
		
		if(voffset_kvs2 >= avtravstate.end_kvs){ voffset_kvs2 += globalparamsK.SIZEKVS2_PROCESSEDGESPARTITION; vreadoffset_kvs2 += vreadskipsz_kvs2; continue; }
		if(GraphAlgo != PAGERANK) { if(vmask_p[source_partition] == 0){ voffset_kvs2 += globalparamsK.SIZEKVS2_PROCESSEDGESPARTITION; vreadoffset_kvs2 += vreadskipsz_kvs2; continue; }}
		#ifdef _DEBUGMODE_KERNELPRINTsS
		if(vmask_p[source_partition] > 0){ cout<<"processit_splitdstvxs:: source partition is active [vmask_p["<<source_partition<<"]: "<<vmask_p[source_partition]<<"] ..."<<endl; }
		#endif 
		
		sweepparams.source_partition = source_partition;
		avtravstate.i_kvs = voffset_kvs2;
		
		#ifdef _DEBUGMODE_KERNELPRINTS
		actsutilityobj->print5("### processit_splitdstvxs:: source_partition", "voffset", "vbegin", "vend", "vskip", source_partition, voffset_kvs2 * VECTOR_SIZE, avtravstate.begin_kvs * VECTOR_SIZE, avtravstate.size_kvs * VECTOR_SIZE, SRCBUFFER_SIZE * VECTOR_SIZE);
		#endif
MEMACCESS_SPL_readvmaskschunks(ON, kvdram, vmaskREAD, vbuffer, globalparamsK.BASEOFFSETKVS_VERTICESDATAMASK, vreadoffset_kvs2, vreadskipsz_kvs2, globalparamsK);
MEMACCESS_SPL_readvdatachunks(ON, kvdram, vbuffer, vdatabaseoffset_kvs, vreadoffset_kvs2, vreadskipsz_kvs2, globalparamsK);
		
		/* ///////////////////////////////////////////////// REMOVEME
		#ifdef _DEBUGMODE_CHECKS2
		if(globalparamsK.ACTSPARAMS_INSTID == 0){
			for(buffer_type k=0; k<globalparamsK.SIZEKVS2_REDUCEPARTITION; k+=1){
				for(unsigned int v=0; v<VECTOR2_SIZE; v+=1){
					if(vmaskREAD[v][k]==1){ mydebugobj->increment(0, globalparamsK.ALGORITHMINFO_GRAPHITERATIONID, 1); }
				}
			}
		}
		#endif 
		///////////////////////////////////////////////// */
		
		vertex_t srcvlocaloffset = (voffset_kvs2 * VECTOR2_SIZE);
		vertex_t beginsrcvid = globalparamsK.ACTSPARAMS_SRCVOFFSET + (voffset_kvs2 * VECTOR2_SIZE);
		vertex_t endsrcvid = beginsrcvid + ((reducebuffersz * VECTOR2_SIZE) * FETFACTOR);
		if(srcvlocaloffset >= globalparamsK.ACTSPARAMS_SRCVSIZE){ endsrcvid = beginsrcvid; }
		if((srcvlocaloffset < globalparamsK.ACTSPARAMS_SRCVSIZE) && (srcvlocaloffset + ((reducebuffersz * VECTOR2_SIZE) * FETFACTOR) >= globalparamsK.ACTSPARAMS_SRCVSIZE)){ endsrcvid = beginsrcvid + globalparamsK.ACTSPARAMS_SRCVSIZE - srcvlocaloffset; }
		
		tuple_t tup = MEMACCESS_SPL_getvptrs_opt( kvdram, vptrbaseoffset_kvs, voffset_kvs2 * VECTOR2_SIZE, (voffset_kvs2 + SKIP_KVS) * VECTOR2_SIZE, edgebankID); // CRITICAL NEWCHANGE.
		keyy_t beginvptr = tup.A;
		keyy_t endvptr = tup.B + VECTOR2_SIZE; // NEWCHANGE 
	
		if(srcvlocaloffset >= globalparamsK.ACTSPARAMS_SRCVSIZE){ endvptr = beginvptr; }
		
		keyy_t localbeginvptr = beginvptr;
		keyy_t localendvptr = endvptr;
		keyy_t numedges = localendvptr - localbeginvptr + 2*VECTOR_SIZE;
		if(localbeginvptr == localendvptr){ numedges = 0; }
		keyy_t localbeginvptr_kvs = localbeginvptr / VECTOR_SIZE; // NOTE: this should be in KVS(8) terms
		keyy_t numedges_kvs = numedges / VECTOR_SIZE; // NB: this is correct.
		#ifdef _DEBUGMODE_CHECKS2
		if(localendvptr < localbeginvptr){ cout<<"processit_splitdstvxs::ERROR: localendvptr < localbeginvptr. localbeginvptr: "<<localbeginvptr<<", localendvptr: "<<localendvptr<<endl; exit(EXIT_FAILURE); }
		if(localendvptr < globalparamsE.SIZE_EDGES){ actsutilityobj->checkptr("processit_splitdstvxs", beginsrcvid, endsrcvid, localbeginvptr, localendvptr, (keyvalue_t *)&kvdram[globalparamsE.BASEOFFSETKVS_EDGESDATA]); }
		#endif
		
		#ifdef _DEBUGMODE_KERNELPRINTS2
		cout<<"[index: "<<source_partition<<"][beginsrcvid: "<<beginsrcvid<<", endsrcvid: "<<endsrcvid<<"][beginvptr: "<<localbeginvptr<<", endvptr: "<<localendvptr<<", edges size: "<<numedges<<"][voffset: "<<voffset_kvs2 * VECTOR_SIZE<<"]"<<endl;
		#endif
		#ifdef _DEBUGMODE_CHECKS2
		if(localendvptr < localbeginvptr){ cout<<"ERROR: localendvptr < localbeginvptr. EXITING..."<<endl; exit(EXIT_FAILURE); }
		actsutilityobj->clearallstats();
		#endif
		
		travstate_t etravstate;
		etravstate.begin_kvs = localbeginvptr_kvs;
		etravstate.size_kvs = numedges_kvs;
		etravstate.end_kvs = etravstate.begin_kvs + etravstate.size_kvs;
		etravstate.skip_kvs = SRCBUFFER_SIZE;
		etravstate.i_kvs = etravstate.begin_kvs;
		etravstate.i2 = voffset_kvs2 * VECTOR2_SIZE;
		etravstate.i2_kvs = voffset_kvs2;
		bool_type resetenv = ON;
		bool_type flush = ON;
		if(voffset_kvs2 == avtravstate.begin_kvs){ resetenv = ON; } else { resetenv = OFF; }
		if((voffset_kvs2 + globalparamsK.SIZEKVS2_REDUCEPARTITION) >= avtravstate.end_kvs){ flush = ON; } else { flush = OFF; }
		if(GraphAlgo != PAGERANK){ resetenv = ON; flush = ON; } // CRITICAL NEWCHANGE.
		
		#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
		#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
		#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
		#else 
ACTS_tradit
		#endif 
		(
			ON, PROCESSMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, 
			globalparamsK, sweepparams, etravstate, globalparamsE.BASEOFFSETKVS_EDGESDATA, globalparamsK.BASEOFFSETKVS_KVDRAMWORKSPACE,
			resetenv, flush, edgebankID);
			
		voffset_kvs2 += globalparamsK.SIZEKVS2_PROCESSEDGESPARTITION;
		vreadoffset_kvs2 += vreadskipsz_kvs2;
		
		#ifdef _DEBUGMODE_KERNELPRINTS
		actsutilityobj->printglobalvars();
		actsutilityobj->clearglobalvars();
		#endif
		// exit(EXIT_SUCCESS); ////
	}
		
MEMACCESS_SPL_saveglobalstats(ON, kvdram, globalstatsbuffer, globalparamsK.BASEOFFSETKVS_STATSDRAM + deststatsmarker, globalparamsK);
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printglobalvars();
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	// exit(EXIT_SUCCESS); ////
	return;
}

void acts_all::partitionit( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], globalparams_t globalparams, unsigned int edgebankID){
	#pragma HLS INLINE
	analysis_type analysis_numllops = 1;
	analysis_type analysis_numsourcepartitions = 1;
	#ifdef TRAD_PARTITION_AND_REDUCE_STRETEGY
	return; // no partitionit for TRAD_PARTITION_AND_REDUCE_STRETEGY
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printparameters();
	actsutilityobj->printglobalvars();
	actsutilityobj->printglobalparameters("top_nusrcv_nudstv::UTIL_getglobalparams:: printing global parameters", globalparams);
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	#ifdef _DEBUGMODE_STATS
	unsigned int edges_count = 0;
	unsigned int edgesdstv_sum = 0;
	#endif
	
	keyvalue_t globalstatsbuffer[NUM_PARTITIONS]; 
	
	batch_type sourcestatsmarker = 1;
	batch_type deststatsmarker = 1 + NUM_PARTITIONS;
	config_t config;
	sweepparams_t sweepparams;
	travstate_t actvvstravstate; actvvstravstate.i=0; actvvstravstate.i_kvs=0;
	
	PARTITIONIT_MAINLOOP1: for(step_type currentLOP=globalparams.ACTSPARAMS_BEGINLOP + 1; currentLOP<globalparams.ACTSPARAMS_BEGINLOP + 1 + (globalparams.ACTSPARAMS_NUMLOPS-2); currentLOP++){ // REMOVEME.
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_numllops avg=analysis_numllops	
	
		batch_type num_source_partitions = UTIL_get_num_source_partitions(currentLOP);
		bool_type enreduce = ON;
		
		PARTITIONIT_LOOP1B: for(batch_type source_partition=0; source_partition<num_source_partitions; source_partition+=1){
		#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_numsourcepartitions avg=analysis_numsourcepartitions
			// cout<<"partitionit: source_partition "<<source_partition<<" ... "<<endl;

UTIL_resetkeysandvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
		
			sweepparams = UTIL_getsweepparams(globalparams, currentLOP, source_partition);
			travstate_t ptravstate = UTIL_gettravstate(ON, kvdram, globalparams, currentLOP, sourcestatsmarker);
			
			// collect stats
MEMACCESS_SPL_readglobalstats(ON, kvdram, globalstatsbuffer, globalparams.BASEOFFSETKVS_STATSDRAM + deststatsmarker, globalparams);
UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
			
			// partition
			if(ptravstate.size_kvs > 0){ config.enablepartition = ON; } 
			else { ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablepartition = OFF; }
			if(ptravstate.size_kvs == 0){ ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablepartition = OFF; }
			#ifdef _DEBUGMODE_KERNELPRINTS2
			if((config.enablepartition == ON) && (currentLOP >= 1) && (currentLOP <= globalparams.ACTSPARAMS_TREEDEPTH)){ actsutilityobj->print7("### partitionit:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, ptravstate.begin_kvs * VECTOR_SIZE, ptravstate.end_kvs * VECTOR_SIZE, ptravstate.size_kvs * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); }	
			#endif
UTIL_resetvalues(globalstatsbuffer, NUM_PARTITIONS, 0);
			bool_type resetenv; if(source_partition==0){ resetenv = ON; } else { resetenv = OFF; }
			
			#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
			#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
			#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
			#else 
ACTS_tradit
			#endif
			(config.enablepartition, PARTITIONMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, // CRITICAL FIXME.
					globalparams, sweepparams, ptravstate, sweepparams.worksourcebaseaddress_kvs, sweepparams.workdestbaseaddress_kvs,
					ON, ON, NAp);
					
MEMACCESS_SPL_saveglobalstats(config.enablepartition, kvdram, globalstatsbuffer, globalparams.BASEOFFSETKVS_STATSDRAM + deststatsmarker, globalparams); 
			
			if(currentLOP > 0){
				sourcestatsmarker += 1;
				deststatsmarker += NUM_PARTITIONS;
			}
			
			#ifdef _DEBUGMODE_CHECKS
			if(config.enablereduce == ON){ actsutilityobj->printpartitionresult2(ON, kvdram, globalstatsbuffer, sweepparams); }
			#endif
			#ifdef _DEBUGMODE_STATS
			if(config.enablereduce == ON){ edges_count = actsutilityobj->globalstats_getcountvalidkvsreduced(); edgesdstv_sum = actsutilityobj->globalstats_getreducevar1(); }
			#endif
			#ifdef _DEBUGMODE_KERNELPRINTS
			actsutilityobj->printglobalvars();
			actsutilityobj->clearglobalvars();
			#endif
		}
		#ifdef _DEBUGMODE_KERNELPRINTS2
		actsutilityobj->printglobalvars();
		#endif 
		#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
		actsutilityobj->clearglobalvars();
		#endif
	}
	return;
}

void acts_all::reduceit( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], batch_type sourcestatsmarker, batch_type source_partition, globalparams_t globalparams, unsigned int edgebankID){	
	#pragma HLS INLINE
	analysis_type analysis_numllops = 1;
	analysis_type analysis_numsourcepartitions = 1;
	analysis_type analysis_treedepth = TREE_DEPTH;
	
	keyvalue_t globalstatsbuffer[NUM_PARTITIONS]; 
	
	config_t config;
	sweepparams_t sweepparams;
	
	#ifdef ENABLERECURSIVEPARTITIONING
	step_type currentLOP = globalparams.ACTSPARAMS_TREEDEPTH;
	#else 
	step_type currentLOP = globalparams.ACTSPARAMS_TREEDEPTH + 1;
	#endif 
	
	sweepparams = UTIL_getsweepparams(globalparams, currentLOP, source_partition);
	travstate_t ptravstate = UTIL_gettravstate(ON, kvdram, globalparams, currentLOP, sourcestatsmarker);

	if(ptravstate.size_kvs == 0){ ptravstate.begin_kvs = 0; ptravstate.end_kvs = 0; config.enablereduce = OFF; }
	else { config.enablereduce = ON; }
	#ifdef _DEBUGMODE_KERNELPRINTS2
	if(ptravstate.size_kvs > 0){ actsutilityobj->print7("### reduceit:: source_p", "upperlimit", "begin", "end", "size", "dest range", "currentLOP", sweepparams.source_partition, sweepparams.upperlimit, ptravstate.begin_kvs * VECTOR_SIZE, ptravstate.end_kvs * VECTOR_SIZE, ptravstate.size_kvs * VECTOR_SIZE, BATCH_RANGE / (1 << (NUM_PARTITIONS_POW * sweepparams.currentLOP)), sweepparams.currentLOP); }	
	#endif
	bool_type resetenv; if(source_partition==0){ resetenv = ON; } else { resetenv = OFF; }
	
	#if defined(ACTS_PARTITION_AND_REDUCE_STRETEGY)
ACTS_actit
	#elif defined(BASIC_PARTITION_AND_REDUCE_STRETEGY)
ACTS_priorit	
	#elif defined(TRAD_PARTITION_AND_REDUCE_STRETEGY)
ACTS_tradit
	#else 
ACTS_tradit
	#endif
	(config.enablereduce, REDUCEMODE,
 kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, globalstatsbuffer, // CRITICAL FIXME.
			globalparams, sweepparams, ptravstate, sweepparams.worksourcebaseaddress_kvs, sweepparams.workdestbaseaddress_kvs,
			ON, ON, NAp); // REMOVEME.
	return;
}

void acts_all::dispatch(bool_type en_process, bool_type en_partition, bool_type en_reduce,  uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE],
			batch_type sourcestatsmarker, batch_type source_partition, globalparams_t globalparamsE, globalparams_t globalparamsK,
				unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID){
	if(en_process == ON){ processit_splitdstvxs( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, globalparamsE, globalparamsK, v_chunkids, v_chunkid, edgebankID); } 
	if(en_partition == ON){ partitionit( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE,  vmask_subp, globalparamsK, NAp); } 
	if(en_reduce == ON){ reduceit( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, sourcestatsmarker, source_partition, globalparamsK, NAp); } 
	return;
}

void acts_all::dispatch_reduce( uint512_dt * kvdram, keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE], keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE], unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE], uint32_type vmask_p[BLOCKRAM_SIZE], globalparams_t globalparamsE, globalparams_t globalparamsK,	
					unsigned int v_chunkids[EDGESSTATSDRAMSZ], unsigned int v_chunkid, unsigned int edgebankID){
	#pragma HLS INLINE
	analysis_type analysis_loop1 = 1;
	analysis_type analysis_treedepth = TREE_DEPTH;
	#ifdef TRAD_PARTITION_AND_REDUCE_STRETEGY
	return; // no dispatch_reduce for TRAD_PARTITION_AND_REDUCE_STRETEGY
	#endif 
	#ifdef _DEBUGMODE_STATS
	actsutilityobj->clearglobalvars();
	#endif
	
	unsigned int sourcestatsmarker = 0;
	#ifdef ENABLERECURSIVEPARTITIONING
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH-1; k++)
	#else 
	for(unsigned int k=0; k<globalparamsK.ACTSPARAMS_TREEDEPTH; k++)
	#endif 
	{
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_treedepth avg=analysis_treedepth
		sourcestatsmarker += (1 << (NUM_PARTITIONS_POW * k)); 
	}
	
	unsigned int vreadoffset_kvs2 = 0;
	unsigned int vmask_offset_kvs = 0;
	unsigned int vmaskp_offset_kvs = 0;
	buffer_type reducebuffersz = globalparamsK.SIZE_REDUCE / 2;
	
	#ifdef ENABLERECURSIVEPARTITIONING
	step_type currentLOP = globalparamsK.ACTSPARAMS_TREEDEPTH;
	#else 
	step_type currentLOP = globalparamsK.ACTSPARAMS_TREEDEPTH + 1;
	#endif 
	
	#ifdef ENABLERECURSIVEPARTITIONING
	batch_type num_source_partitions = UTIL_get_num_source_partitions(currentLOP);
	#else 
	batch_type num_source_partitions = NUM_PARTITIONS;	
	#endif

	bool_type enablereduce = ON;
	
	if(globalparamsK.ALGORITHMINFO_GRAPHITERATIONID==0){ // CRITICAL REMOVEME.
	DISPATCHREDUCE_MAINLOOP: for(batch_type source_partition=0; source_partition<num_source_partitions; source_partition+=1){
	#pragma HLS LOOP_TRIPCOUNT min=0 max=analysis_loop1 avg=analysis_loop1
		#ifdef _DEBUGMODE_KERNELPRINTS2
		actsutilityobj->print3("### dispatch_reduce:: source_partition", "currentLOP", "NAp", source_partition, currentLOP, num_source_partitions); 							
		#endif
		
		enablereduce = ON;
		travstate_t rtravstate = UTIL_gettravstate(ON, kvdram, globalparamsK, currentLOP, sourcestatsmarker);
		if(rtravstate.size_kvs > 0){ enablereduce = ON; } else { enablereduce = OFF; }
		
		// read vertices
MEMACCESS_SPL_readvdata(enablereduce, kvdram, vbuffer, globalparamsK.BASEOFFSETKVS_DESTVERTICESDATA, vreadoffset_kvs2, 0, globalparamsK.SIZEKVS2_REDUCEPARTITION, globalparamsK);
		#ifdef CONFIG_COLLECTMASKINFOSDURINGREDUCE
UTIL_reset(vmaskWRITE);
		#endif 
		
		// reduce
		dispatch(OFF, OFF, enablereduce,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, sourcestatsmarker, source_partition, globalparamsE, globalparamsK, v_chunkids, v_chunkid, NAp);
		
		// writeback vertices
MEMACCESS_SPL_savevdataandmasks(enablereduce, kvdram, vbuffer, globalparamsK.BASEOFFSETKVS_DESTVERTICESDATA, vreadoffset_kvs2, 0, globalparamsK.SIZEKVS2_REDUCEPARTITION, globalparamsK);
		#ifdef CONFIG_COLLECTMASKINFOSDURINGREDUCE
MEMACCESS_SPL_savemasks(enablereduce, kvdram, vmaskWRITE, globalparamsK.BASEOFFSETKVS_VERTICESDATAMASK, vmask_offset_kvs, globalparamsK.BASEOFFSETKVS_VERTICESPARTITIONMASK + vmaskp_offset_kvs, globalparamsK); // NEW
		#endif 
		
		sourcestatsmarker += 1;
		vreadoffset_kvs2 += globalparamsK.SIZEKVS2_REDUCEPARTITION;
		vmask_offset_kvs += globalparamsK.SIZEKVS_VMASKBUFFER;
		#ifdef CONFIG_SPLIT_DESTVTXS
		vmaskp_offset_kvs += NUM_PEs;
		#else 
		vmaskp_offset_kvs += 1;	
		#endif
	}
	}
	// if(globalparamsK.ALGORITHMINFO_GRAPHITERATIONID==1){ exit(EXIT_SUCCESS); } // REMOVEME.
	return;
} 

// top
void acts_all::topkernelproc_embedded(
	
	uint512_dt * kvdram){
	#ifdef _DEBUGMODE_KERNELPRINTS
	actsutilityobj->printparameters();
	#endif
	#if defined(_DEBUGMODE_KERNELPRINTS) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> Light weight ACTS (PR: 1 ACTS IN 1 COMPUTEUNITS) Launched... size: "<<UTIL_GETKEYENTRY(kvdram[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_SIZE_RUN], 0)<<endl; 
	#endif
	
	keyvalue_buffer_t sourcebuffer[VECTOR_SIZE][SOURCEBLOCKRAM_SIZE];
	#pragma HLS array_partition variable = sourcebuffer
	keyvalue_vbuffer_t vbuffer[VDATA_PACKINGSIZE][BLOCKRAM_SIZE];
	#pragma HLS array_partition variable = vbuffer
	unit1_type vmaskREAD[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	// #pragma HLS DATA_PACK variable = vmaskREAD
	#pragma HLS array_partition variable = vmaskREAD
	unit1_type vmaskWRITE[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE]; // NEWCHANGE.
	// #pragma HLS DATA_PACK variable = vmaskWRITE
	#pragma HLS array_partition variable = vmaskWRITE
	unit1_type vmask_subp[VDATA_PACKINGSIZE][DOUBLE_BLOCKRAM_SIZE];
	// #pragma HLS DATA_PACK variable = vmask_subp
	#pragma HLS array_partition variable = vmask_subp
	uint32_type vmask_p[BLOCKRAM_SIZE];
	
	globalparams_t globalparamsK = UTIL_getglobalparams(kvdram);
	globalparams_t globalparamsE[MAX_NUM_EDGE_BANKS];
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	
	#else 
	globalparamsE[0] = globalparamsK;
	#endif 
	unsigned int GraphAlgo = globalparamsK.ALGORITHMINFO_GRAPHALGORITHMID;
	
	if(GraphAlgo != PAGERANK){ MEMACCESS_SPL_readpmask(kvdram, vmask_p, globalparamsK.BASEOFFSETKVS_VERTICESPARTITIONMASK, BLOCKRAM_SIZE); }
	if(GraphAlgo != PAGERANK){ UTIL_resetkvstatvalues(kvdram, globalparamsK); }	
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	value_t buffer[DOUBLE_BLOCKRAM_SIZE]; // CRITICAL AUTOMATEME.
	for(unsigned int i=0; i<DOUBLE_BLOCKRAM_SIZE; i++){ buffer[i] = 0; } 
	#endif 
	
	#ifdef ENABLERECURSIVEPARTITIONING
	batch_type num_vchunks = UTIL_get_num_source_partitions(globalparamsK.ACTSPARAMS_TREEDEPTH);
	#else 
	batch_type num_vchunks = NUM_PARTITIONS;	
	#endif 
	
	unsigned int PARTITION_CHKPT[MAX_NUM_EDGE_BANKS][EDGESSTATSDRAMSZ];
	for(unsigned int u=0; u<EDGESSTATSDRAMSZ; u++){
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			#ifdef _WIDEWORD
	
			#else
	
			#endif
		#else 
			#ifdef _WIDEWORD
			PARTITION_CHKPT[0][u] = kvdram[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].range(31, 0); 
			#else
			PARTITION_CHKPT[0][u] = kvdram[globalparamsK.BASEOFFSETKVS_EDGESSTATSDRAM + u].data[0].key; 
			#endif
		#endif 
	}
	
	#ifdef _DEBUGMODE_HOSTPRINTS
	for(unsigned int u=0; u<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER+1; u++){ cout<<">>> globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER: "<<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER<<", PARTITION_CHKPT["<<u<<"]: "<<PARTITION_CHKPT[u]<<endl; }			
	#endif
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	copyvs(kvdram, vbuffer, globalparamsK);
	#endif
	unsigned int FIRST_BASEOFFSETKVS_STATSDRAM = globalparamsK.BASEOFFSETKVS_STATSDRAM;
	
	unsigned int it_size = 0;
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	it_size = NUM_EDGE_BANKS;
	#else 
	it_size = 1;	
	#endif 
	
	for(unsigned int edgebankID=0; edgebankID<it_size; edgebankID++){
		globalparamsK.VARS_WORKBATCH = 0;
		globalparams_t _globalparamsE = globalparamsE[edgebankID];

		for(unsigned int v_chunkid=0; v_chunkid<globalparamsK.ACTSPARAMS_NUMEDGECHUNKSINABUFFER; v_chunkid++){
			// process & partition
			#ifdef CONFIG_ENABLEPROCESSMODULE
			if(globalparamsK.ENABLE_PROCESSCOMMAND == ON){
				#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
				cout<<"topkernelproc: processing instance ... "<<endl;
				#endif
				dispatch(ON, OFF, OFF,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, NAp, NAp, _globalparamsE, globalparamsK, PARTITION_CHKPT[edgebankID], v_chunkid, edgebankID);
			}
			#endif
			
			// partition
			#ifdef CONFIG_ENABLEPARTITIONMODULE
			if(globalparamsK.ENABLE_PARTITIONCOMMAND == ON){
				#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
				cout<<"topkernelproc: partitioning instance ... "<<endl;
				#endif
				dispatch(OFF, ON, OFF,  kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, NAp, NAp, _globalparamsE, globalparamsK, PARTITION_CHKPT[edgebankID], v_chunkid, NAp);
			}
			#endif
			
			// reduce & partition
			#if defined(CONFIG_ENABLEREDUCEMODULE)
			if(globalparamsK.ENABLE_APPLYUPDATESCOMMAND == ON){ 
				#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
				cout<<"topkernelproc: reducing instance ... "<<endl;
				#endif
				dispatch_reduce( kvdram, sourcebuffer, vbuffer, vmaskREAD, vmaskWRITE, vmask_subp, vmask_p, _globalparamsE, globalparamsK, PARTITION_CHKPT[edgebankID], v_chunkid, NAp);
			}
			#endif
			
			#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
			accumkvstats(kvdram, buffer, globalparamsK);
			globalparamsK.VARS_WORKBATCH += 1;
			#endif 
			#if defined(_DEBUGMODE_KERNELPRINTS2) || defined(_DEBUGMODE_CHECKS2)
			actsutilityobj->clearglobalvars();
			#endif
		}
		
		#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
		globalparamsK.BASEOFFSETKVS_STATSDRAM += (globalparamsK.SIZE_KVSTATSDRAM / VECTOR_SIZE) / NUM_EDGE_BANKS; 
		#endif
	}
	
	#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
	globalparamsK.BASEOFFSETKVS_STATSDRAM = FIRST_BASEOFFSETKVS_STATSDRAM;
	commitkvstats(kvdram, buffer, globalparamsK);
	#endif
UTIL_increment_graphiteration(kvdram, globalparamsK);
	
	#ifdef _DEBUGMODE_KERNELPRINTS2
	actsutilityobj->printglobalvars();
	#endif 
	#if defined(_DEBUGMODE_KERNELPRINTS3) || defined(_DEBUGMODE_CHECKS2)
	actsutilityobj->clearglobalvars();
	#endif
	return;
}

extern "C" {
void acts_all::topkernelP1(
	uint512_dt * kvdram0,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem2
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem1
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs1(kvdram0, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP1: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP1: processing instance 0"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs1(kvdram0, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP2(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem4
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem2
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs2(kvdram0,kvdram1, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP2: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP2: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP2: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP2: processing instance 1"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs2(kvdram0,kvdram1, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP3(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem6
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem3
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs3(kvdram0,kvdram1,kvdram2, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP3: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
 */
	
MERGE_SPLIT_mergeVs3(kvdram0,kvdram1,kvdram2, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP4(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem8
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem4
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs4(kvdram0,kvdram1,kvdram2,kvdram3, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP4: processing instance 3"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs4(kvdram0,kvdram1,kvdram2,kvdram3, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP5(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem10
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem5
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs5(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP5: processing instance 4"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs5(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP6(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem12
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem6
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs6(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP6: processing instance 5"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs6(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP7(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem14
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem7
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs7(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP7: processing instance 6"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs7(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP8(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = edges7 offset = slave bundle = gmem14
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem16
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem8
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#pragma HLS INTERFACE s_axilite port = edges7 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#pragma HLS DATA_PACK variable = edges7
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs8(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 7"<<endl;
	#endif 
	topkernelproc_embedded(kvdram7);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 6"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP8: processing instance 7"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs8(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP9(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = edges7 offset = slave bundle = gmem14
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
#pragma HLS INTERFACE m_axi port = edges8 offset = slave bundle = gmem16
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem18
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem9
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#pragma HLS INTERFACE s_axilite port = edges7 bundle = control
#pragma HLS INTERFACE s_axilite port = edges8 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#pragma HLS DATA_PACK variable = edges7
#pragma HLS DATA_PACK variable = edges8
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs9(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 7"<<endl;
	#endif 
	topkernelproc_embedded(kvdram7);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 8"<<endl;
	#endif 
	topkernelproc_embedded(kvdram8);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 6"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 7"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP9: processing instance 8"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs9(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP10(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = edges7 offset = slave bundle = gmem14
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
#pragma HLS INTERFACE m_axi port = edges8 offset = slave bundle = gmem16
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
#pragma HLS INTERFACE m_axi port = edges9 offset = slave bundle = gmem18
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem20
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem10
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#pragma HLS INTERFACE s_axilite port = edges7 bundle = control
#pragma HLS INTERFACE s_axilite port = edges8 bundle = control
#pragma HLS INTERFACE s_axilite port = edges9 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#pragma HLS DATA_PACK variable = edges7
#pragma HLS DATA_PACK variable = edges8
#pragma HLS DATA_PACK variable = edges9
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs10(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 7"<<endl;
	#endif 
	topkernelproc_embedded(kvdram7);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 8"<<endl;
	#endif 
	topkernelproc_embedded(kvdram8);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 9"<<endl;
	#endif 
	topkernelproc_embedded(kvdram9);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 6"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 7"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 8"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP10: processing instance 9"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs10(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP11(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * kvdram10,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = edges7 offset = slave bundle = gmem14
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
#pragma HLS INTERFACE m_axi port = edges8 offset = slave bundle = gmem16
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
#pragma HLS INTERFACE m_axi port = edges9 offset = slave bundle = gmem18
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem20
#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem21
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem22
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem11
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#pragma HLS INTERFACE s_axilite port = edges7 bundle = control
#pragma HLS INTERFACE s_axilite port = edges8 bundle = control
#pragma HLS INTERFACE s_axilite port = edges9 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram10 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#pragma HLS DATA_PACK variable = edges7
#pragma HLS DATA_PACK variable = edges8
#pragma HLS DATA_PACK variable = edges9
#pragma HLS DATA_PACK variable = edges10
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = kvdram10
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs11(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9,kvdram10, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 7"<<endl;
	#endif 
	topkernelproc_embedded(kvdram7);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 8"<<endl;
	#endif 
	topkernelproc_embedded(kvdram8);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 9"<<endl;
	#endif 
	topkernelproc_embedded(kvdram9);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 10"<<endl;
	#endif 
	topkernelproc_embedded(kvdram10);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 6"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 7"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 8"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 9"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP11: processing instance 10"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs11(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9,kvdram10, vdram);
	return;
}
}
extern "C" {
void acts_all::topkernelP12(
	uint512_dt * kvdram0,
	uint512_dt * kvdram1,
	uint512_dt * kvdram2,
	uint512_dt * kvdram3,
	uint512_dt * kvdram4,
	uint512_dt * kvdram5,
	uint512_dt * kvdram6,
	uint512_dt * kvdram7,
	uint512_dt * kvdram8,
	uint512_dt * kvdram9,
	uint512_dt * kvdram10,
	uint512_dt * kvdram11,
	uint512_dt * vdram
	){
#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE m_axi port = edges0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = edges1 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = edges2 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = edges3 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = edges4 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = edges5 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = edges6 offset = slave bundle = gmem12
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem13
#pragma HLS INTERFACE m_axi port = edges7 offset = slave bundle = gmem14
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem15
#pragma HLS INTERFACE m_axi port = edges8 offset = slave bundle = gmem16
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem17
#pragma HLS INTERFACE m_axi port = edges9 offset = slave bundle = gmem18
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem19
#pragma HLS INTERFACE m_axi port = edges10 offset = slave bundle = gmem20
#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem21
#pragma HLS INTERFACE m_axi port = edges11 offset = slave bundle = gmem22
#pragma HLS INTERFACE m_axi port = kvdram11 offset = slave bundle = gmem23
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem24
#else 
#pragma HLS INTERFACE m_axi port = kvdram0 offset = slave bundle = gmem0
#pragma HLS INTERFACE m_axi port = kvdram1 offset = slave bundle = gmem1
#pragma HLS INTERFACE m_axi port = kvdram2 offset = slave bundle = gmem2
#pragma HLS INTERFACE m_axi port = kvdram3 offset = slave bundle = gmem3
#pragma HLS INTERFACE m_axi port = kvdram4 offset = slave bundle = gmem4
#pragma HLS INTERFACE m_axi port = kvdram5 offset = slave bundle = gmem5
#pragma HLS INTERFACE m_axi port = kvdram6 offset = slave bundle = gmem6
#pragma HLS INTERFACE m_axi port = kvdram7 offset = slave bundle = gmem7
#pragma HLS INTERFACE m_axi port = kvdram8 offset = slave bundle = gmem8
#pragma HLS INTERFACE m_axi port = kvdram9 offset = slave bundle = gmem9
#pragma HLS INTERFACE m_axi port = kvdram10 offset = slave bundle = gmem10
#pragma HLS INTERFACE m_axi port = kvdram11 offset = slave bundle = gmem11
#pragma HLS INTERFACE m_axi port = vdram offset = slave bundle = gmem12
#endif 

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS INTERFACE s_axilite port = edges0 bundle = control
#pragma HLS INTERFACE s_axilite port = edges1 bundle = control
#pragma HLS INTERFACE s_axilite port = edges2 bundle = control
#pragma HLS INTERFACE s_axilite port = edges3 bundle = control
#pragma HLS INTERFACE s_axilite port = edges4 bundle = control
#pragma HLS INTERFACE s_axilite port = edges5 bundle = control
#pragma HLS INTERFACE s_axilite port = edges6 bundle = control
#pragma HLS INTERFACE s_axilite port = edges7 bundle = control
#pragma HLS INTERFACE s_axilite port = edges8 bundle = control
#pragma HLS INTERFACE s_axilite port = edges9 bundle = control
#pragma HLS INTERFACE s_axilite port = edges10 bundle = control
#pragma HLS INTERFACE s_axilite port = edges11 bundle = control
#endif 
#pragma HLS INTERFACE s_axilite port = kvdram0 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram1 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram2 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram3 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram4 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram5 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram6 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram7 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram8 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram9 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram10 bundle = control
#pragma HLS INTERFACE s_axilite port = kvdram11 bundle = control

#pragma HLS INTERFACE s_axilite port = vdram bundle = control

#pragma HLS INTERFACE s_axilite port=return bundle=control

#ifdef EDGES_IN_SEPERATE_BUFFER_FROM_KVDRAM
#pragma HLS DATA_PACK variable = edges0
#pragma HLS DATA_PACK variable = edges1
#pragma HLS DATA_PACK variable = edges2
#pragma HLS DATA_PACK variable = edges3
#pragma HLS DATA_PACK variable = edges4
#pragma HLS DATA_PACK variable = edges5
#pragma HLS DATA_PACK variable = edges6
#pragma HLS DATA_PACK variable = edges7
#pragma HLS DATA_PACK variable = edges8
#pragma HLS DATA_PACK variable = edges9
#pragma HLS DATA_PACK variable = edges10
#pragma HLS DATA_PACK variable = edges11
#endif 
#pragma HLS DATA_PACK variable = kvdram0
#pragma HLS DATA_PACK variable = kvdram1
#pragma HLS DATA_PACK variable = kvdram2
#pragma HLS DATA_PACK variable = kvdram3
#pragma HLS DATA_PACK variable = kvdram4
#pragma HLS DATA_PACK variable = kvdram5
#pragma HLS DATA_PACK variable = kvdram6
#pragma HLS DATA_PACK variable = kvdram7
#pragma HLS DATA_PACK variable = kvdram8
#pragma HLS DATA_PACK variable = kvdram9
#pragma HLS DATA_PACK variable = kvdram10
#pragma HLS DATA_PACK variable = kvdram11
#pragma HLS DATA_PACK variable = vdram

	#if defined(_DEBUGMODE_KERNELPRINTS2) & defined(ALLVERTEXISACTIVE_ALGORITHM)
	cout<<">>> ====================== Light weight ACTS (PR & SYNC) Launched... ====================== "<<endl; 
	#endif
	
	unsigned int GraphIter = UTIL_GETKEYENTRY(kvdram0[BASEOFFSET_MESSAGESDATA_KVS + MESSAGES_ALGORITHMINFO_GRAPHITERATIONID], 0);
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> top_nusrcv_nudstv::runapp: Iteration: "<<GraphIter<<endl;
	#endif
	
	if(GraphIter > 0){ MERGE_SPLIT_broadcastVs12(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9,kvdram10,kvdram11, vdram); }
	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 0"<<endl;
	#endif 
	topkernelproc_embedded(kvdram0);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 1"<<endl;
	#endif 
	topkernelproc_embedded(kvdram1);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 3"<<endl;
	#endif 
	topkernelproc_embedded(kvdram3);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 4"<<endl;
	#endif 
	topkernelproc_embedded(kvdram4);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 5"<<endl;
	#endif 
	topkernelproc_embedded(kvdram5);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 6"<<endl;
	#endif 
	topkernelproc_embedded(kvdram6);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 7"<<endl;
	#endif 
	topkernelproc_embedded(kvdram7);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 8"<<endl;
	#endif 
	topkernelproc_embedded(kvdram8);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 9"<<endl;
	#endif 
	topkernelproc_embedded(kvdram9);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 10"<<endl;
	#endif 
	topkernelproc_embedded(kvdram10);	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 11"<<endl;
	#endif 
	topkernelproc_embedded(kvdram11);	
	
	/* 	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 0"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 1"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 2"<<endl;
	#endif 
	topkernelproc_embedded(kvdram2);	
	exit(EXIT_SUCCESS); //	
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 3"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 4"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 5"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 6"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 7"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 8"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 9"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 10"<<endl;
	#endif 
	#ifdef _DEBUGMODE_KERNELPRINTS3
	cout<<">>> topkernelP12: processing instance 11"<<endl;
	#endif 
 */
	
MERGE_SPLIT_mergeVs12(kvdram0,kvdram1,kvdram2,kvdram3,kvdram4,kvdram5,kvdram6,kvdram7,kvdram8,kvdram9,kvdram10,kvdram11, vdram);
	return;
}
}



	
#endif 